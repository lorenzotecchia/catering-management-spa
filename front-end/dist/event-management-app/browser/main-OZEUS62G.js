import{$ as ht,$a as ae,$b as Gt,A as xe,Aa as $n,Ab as ve,B as un,Ba as $r,Bb as be,Bc as tf,C as vu,Ca as Wn,Cb as E,Cc as Do,D as Na,Da as Gn,Db as ot,E as Ht,Ea as Mu,Eb as le,Ec as nf,F as bu,Fa as Ou,Fb as kt,G as yu,Ga as Nu,Gb as Ye,H as Vn,Ha as Fu,Hb as Mt,I as Dt,Ia as Pu,Ib as Wa,J as Fa,Ja as Lu,Jb as Zn,Jc as rf,K as _u,Ka as ju,Kb as Ga,L as wu,La as nt,Lb as $u,M as Cu,Ma as Ba,Mb as hn,N as Eu,Na as Vu,Nb as Wu,O as Bn,Oa as Wr,Ob as Gu,P as Ne,Pa as C,Pb as $t,Q as Un,Qa as I,Qb as pt,R as oe,Ra as Ua,Rb as Wt,S as K,Sa as Bu,Sb as Qr,T as fn,Ta as qn,Tb as Yn,U as k,Ua as Gr,Ub as qu,V as Q,Va as po,Vb as Qu,W as xu,Wa as je,Wb as ue,X as B,Xa as Uu,Xb as qa,Y as Pa,Ya as zu,Yb as yo,Z as O,Za as V,Zb as _o,_ as D,_a as Z,_b as wo,a as w,aa as Au,ab as rt,ac as fe,b as z,ba as Du,bb as Qn,bc as Zu,c as cu,ca as zn,cb as P,cc as Yu,d as Br,da as et,db as go,dc as Ku,e as du,ea as qe,eb as vo,ec as Kn,f as uu,fa as ye,fb as bo,fc as te,g as Ur,ga as _e,gb as It,gc as Xu,h as ka,ha as La,hb as Me,hc as Ot,i as Ma,ia as ja,ib as A,ic as Zr,j as ie,ja as St,jb as qr,jc as Co,k as $e,ka as Su,kb as it,kc as Ju,l as Ut,la as tt,lb as Ze,lc as Qa,m as ke,ma as Iu,mb as g,mc as Eo,n as N,na as fo,nb as p,nc as xo,o as We,oa as de,ob as F,oc as Za,p as fu,pa as ge,pb as za,q as mu,qa as mo,qb as Ha,r as j,ra as Tu,rb as mn,s as zr,sa as Le,sb as Te,t as Ge,ta as Ru,tb as Hu,u as uo,ua as ho,ub as H,uc as ef,v as Oa,va as ku,vb as R,vc as Yr,w as hu,wa as Qe,wb as Tt,wc as Ao,x as pu,xa as Hn,xb as Rt,y as gu,ya as Hr,yb as Ce,z as zt,za as Va,zb as $a}from"./chunk-NI6FY7EH.js";var Xr=class{},Jr=class{},Ve=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ka=class{encodeKey(e){return of(e)}encodeValue(e){return of(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function pv(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}var gv=/%(\d[a-f0-9])/gi,vv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function of(n){return encodeURIComponent(n).replace(gv,(e,t)=>vv[t]??e)}function So(n){return`${n}`}var Qt=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ka,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=pv(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(So):[So(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(So(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(So(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Xa=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function bv(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sf(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function af(n){return typeof Blob<"u"&&n instanceof Blob}function lf(n){return typeof FormData<"u"&&n instanceof FormData}function yv(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Kr=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(bv(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ve,this.context??=new Xa,!this.params)this.params=new Qt,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),l=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sf(this.body)||af(this.body)||lf(this.body)||yv(this.body)?this.body:this.body instanceof Qt?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||lf(this.body)?null:af(this.body)?this.body.type||null:sf(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Qt?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,d=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((m,f)=>m.set(f,e.setHeaders[f]),c)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,f)=>m.set(f,e.setParams[f]),d)),new n(t,r,s,{params:d,headers:c,context:u,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Zt=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Zt||{}),ei=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ve,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},To=class n extends ei{constructor(e={}){super(e)}type=Zt.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pn=class n extends ei{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Zt.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},qt=class extends ei{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yf=200,_v=204;function Ya(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var ti=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Kr)o=t;else{let l;i.headers instanceof Ve?l=i.headers:l=new Ve(i.headers);let c;i.params&&(i.params instanceof Qt?c=i.params:c=new Qt({fromObject:i.params})),o=new Kr(t,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=N(o).pipe(un(l=>this.handler.handle(l)));if(t instanceof Kr||i.observe==="events")return s;let a=s.pipe(zt(l=>l instanceof pn));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(j(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(j(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return a.pipe(j(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Qt().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ya(i,r))}post(t,r,i={}){return this.request("POST",t,Ya(i,r))}put(t,r,i={}){return this.request("PUT",t,Ya(i,r))}static \u0275fac=function(r){return new(r||n)(O(Xr))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),wv=/^\)\]\}',?\n/,Cv="X-Request-URL";function cf(n){if(n.url)return n.url;let e=Cv.toLocaleLowerCase();return n.headers.get(e)}var Ja=(()=>{class n{fetchImpl=D(el,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=D(ge);handle(t){return new Ur(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(tl,o=>r.error(new qt({error:o}))),()=>i.abort()})}doRequest(t,r,i){return Br(this,null,function*(){let o=this.createRequestInit(t),s;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,w({signal:r},o)));Ev(f),i.next({type:Zt.Sent}),s=yield f}catch(f){i.error(new qt({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}));return}let a=new Ve(s.headers),l=s.statusText,c=cf(s)??t.urlWithParams,d=s.status,u=null;if(t.reportProgress&&i.next(new To({headers:a,status:d,statusText:l,url:c})),s.body){let f=s.headers.get("content-length"),h=[],y=s.body.getReader(),b=0,x,S,T=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>Br(this,null,function*(){for(;;){let{done:se,value:ce}=yield y.read();if(se)break;if(h.push(ce),b+=ce.length,t.reportProgress){S=t.responseType==="text"?(S??"")+(x??=new TextDecoder).decode(ce,{stream:!0}):void 0;let pe=()=>i.next({type:Zt.DownloadProgress,total:f?+f:void 0,loaded:b,partialText:S});T?T.run(pe):pe()}}}));let L=this.concatChunks(h,b);try{let se=s.headers.get("Content-Type")??"";u=this.parseBody(t,L,se)}catch(se){i.error(new qt({error:se,headers:new Ve(s.headers),status:s.status,statusText:s.statusText,url:cf(s)??t.urlWithParams}));return}}d===0&&(d=u?yf:0),d>=200&&d<300?(i.next(new pn({body:u,headers:a,status:d,statusText:l,url:c})),i.complete()):i.error(new qt({error:u,headers:a,status:d,statusText:l,url:c}))})}parseBody(t,r,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(wv,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>r[o]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),el=class{};function tl(){}function Ev(n){n.then(tl,tl)}function xv(n,e){return e(n)}function Av(n,e,t){return(r,i)=>et(t,()=>e(r,o=>n(o,i)))}var nl=new B(""),_f=new B(""),Dv=new B("",{providedIn:"root",factory:()=>!0});var df=(()=>{class n extends Xr{backend;injector;chain=null;pendingTasks=D(fo);contributeToStability=D(Dv);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nl),...this.injector.get(_f,[])]));this.chain=r.reduceRight((i,o)=>Av(i,o,this.injector),xv)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Vn(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(O(Jr),O(zn))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var Sv=/^\)\]\}',?\n/;function Iv(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var uf=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ke(r.\u0275loadImpl()):N(null)).pipe(Ne(()=>new Ur(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((y,b)=>s.setRequestHeader(y,b.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let y=t.detectContentTypeHeader();y!==null&&s.setRequestHeader("Content-Type",y)}if(t.responseType){let y=t.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=t.serializeBody(),l=null,c=()=>{if(l!==null)return l;let y=s.statusText||"OK",b=new Ve(s.getAllResponseHeaders()),x=Iv(s)||t.url;return l=new To({headers:b,status:s.status,statusText:y,url:x}),l},d=()=>{let{headers:y,status:b,statusText:x,url:S}=c(),T=null;b!==_v&&(T=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=T?yf:0);let L=b>=200&&b<300;if(t.responseType==="json"&&typeof T=="string"){let se=T;T=T.replace(Sv,"");try{T=T!==""?JSON.parse(T):null}catch(ce){T=se,L&&(L=!1,T={error:ce,text:T})}}L?(o.next(new pn({body:T,headers:y,status:b,statusText:x,url:S||void 0})),o.complete()):o.error(new qt({error:T,headers:y,status:b,statusText:x,url:S||void 0}))},u=y=>{let{url:b}=c(),x=new qt({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(x)},m=!1,f=y=>{m||(o.next(c()),m=!0);let b={type:Zt.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),t.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},h=y=>{let b={type:Zt.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),o.next(b)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),t.reportProgress&&(s.addEventListener("progress",f),a!==null&&s.upload&&s.upload.addEventListener("progress",h)),s.send(a),o.next({type:Zt.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),t.reportProgress&&(s.removeEventListener("progress",f),a!==null&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(O(Co))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),wf=new B(""),Tv="XSRF-TOKEN",Rv=new B("",{providedIn:"root",factory:()=>Tv}),kv="X-XSRF-TOKEN",Mv=new B("",{providedIn:"root",factory:()=>kv}),Ro=class{},Ov=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=_o(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(O(ue),O(Qe),O(Rv))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function Nv(n,e){let t=n.url.toLowerCase();if(!D(wf)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=D(Ro).getToken(),i=D(Mv);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var rl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rl||{});function Cf(n,e){return{\u0275kind:n,\u0275providers:e}}function Ef(...n){let e=[ti,uf,df,{provide:Xr,useExisting:df},{provide:Jr,useFactory:()=>D(Ja,{optional:!0})??D(uf)},{provide:nl,useValue:Nv,multi:!0},{provide:wf,useValue:!0},{provide:Ro,useClass:Ov}];for(let t of n)e.push(...t.\u0275providers);return ht(e)}function xf(n){return Cf(rl.Interceptors,n.map(e=>({provide:nl,useValue:e,multi:!0})))}function Af(){return Cf(rl.Fetch,[Ja,{provide:Jr,useExisting:Ja}])}var Fv=new B(""),ff="b",mf="h",hf="s",pf="st",gf="u",vf="rt",Io=new B(""),Pv=["GET","HEAD"];function Lv(n,e){let f=D(Io),{isCacheActive:t}=f,r=cu(f,["isCacheActive"]),{transferCache:i,method:o}=n;if(!t||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Pv.includes(o)||!r.includeRequestsWithAuthHeaders&&jv(n)||r.filter?.(n)===!1)return e(n);let s=D(Va),a=D(Fv,{optional:!0}),l=Zr(D(Qe));if(a&&!l)throw new K(2803,!1);let c=l&&a?zv(n.url,a):n.url,d=Bv(n,c),u=s.get(d,null),m=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(m=i.includeHeaders),u){let{[ff]:h,[vf]:y,[mf]:b,[hf]:x,[pf]:S,[gf]:T}=u,L=h;switch(y){case"arraybuffer":L=new TextEncoder().encode(h).buffer;break;case"blob":L=new Blob([h]);break}let se=new Ve(b);return N(new pn({body:L,headers:se,status:x,statusText:S,url:T}))}return e(n).pipe(oe(h=>{h instanceof pn&&l&&s.set(d,{[ff]:h.body,[mf]:Vv(h.headers,m),[hf]:h.status,[pf]:h.statusText,[gf]:c,[vf]:n.responseType})}))}function jv(n){return n.headers.has("authorization")||n.headers.has("proxy-authorization")}function Vv(n,e){if(!e)return{};let t={};for(let r of e){let i=n.getAll(r);i!==null&&(t[r]=i)}return t}function bf(n){return[...n.keys()].sort().map(e=>`${e}=${n.getAll(e)}`).join("&")}function Bv(n,e){let{params:t,method:r,responseType:i}=n,o=bf(t),s=n.serializeBody();s instanceof URLSearchParams?s=bf(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),l=Uv(a);return l}function Uv(n){let e=0;for(let t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function Df(n){return[{provide:Io,useFactory:()=>($n("NgHttpTransferCache"),w({isCacheActive:!0},n))},{provide:_f,useValue:Lv,multi:!0,deps:[Va,Io]},{provide:bo,multi:!0,useFactory:()=>{let e=D(It),t=D(Io);return()=>{e.whenStable().then(()=>{t.isCacheActive=!1})}}}]}function zv(n,e){let t=new URL(n,"resolve://").origin,r=e[t];return r?n.replace(t,r):n}var ol=class extends Qu{supportsDOMEvents=!0},sl=class n extends ol{static makeCurrent(){qu(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Wv();return t==null?null:Gv(t)}resetBaseElement(){ni=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return _o(document.cookie,e)}},ni=null;function Wv(){return ni=ni||document.querySelector("base"),ni?ni.getAttribute("href"):null}function Gv(n){return new URL(n,document.baseURI).pathname}var qv=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),al=new B(""),Mf=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(O(al),O(ge))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Mo=class{_doc;constructor(e){this._doc=e}manager},ko="ng-app-id";function If(n){for(let e of n)e.remove()}function Tf(n,e){let t=e.createElement("style");return t.textContent=n,t}function Qv(n,e,t,r){let i=n.head?.querySelectorAll(`style[${ko}="${e}"],link[${ko}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ko),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function ll(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Of=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Zr(o),Qv(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Tf);r?.forEach(i=>this.addUsage(i,this.external,ll))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(If(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])If(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Tf(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,ll(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ko,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(O(ue),O(ho),O(Hr,8),O(Qe))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),il={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fl=/%COMP%/g,Nf="%COMP%",Zv=`_nghost-${Nf}`,Yv=`_ngcontent-${Nf}`,Kv=!0,Xv=new B("",{providedIn:"root",factory:()=>Kv});function Jv(n){return Yv.replace(fl,n)}function eb(n){return Zv.replace(fl,n)}function Ff(n,e){return e.map(t=>t.replace(fl,n))}var Xn=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.platformIsServer=Zr(a),this.defaultRenderer=new ri(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===$r.ShadowDom&&(r=z(w({},r),{encapsulation:$r.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Oo?i.applyToHost(t):i instanceof ii&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(r.encapsulation){case $r.Emulated:o=new Oo(l,c,r,this.appId,d,s,a,u);break;case $r.ShadowDom:return new cl(l,c,t,r,s,a,this.nonce,u);default:o=new ii(l,c,r,d,s,a,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(O(Mf),O(Of),O(ho),O(Xv),O(ue),O(Qe),O(ge),O(Hr))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),ri=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(il[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Rf(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rf(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=il[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=il[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Wr.DashCase|Wr.Important)?e.style.setProperty(t,r,i&Wr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Wr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Yn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Rf(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var cl=class extends ri{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Ff(i.id,i.styles);for(let u of c){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=u,this.shadowRoot.appendChild(m)}let d=i.getExternalStyles?.();if(d)for(let u of d){let m=ll(u,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ii=class extends ri{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=l?Ff(l,r.styles):r.styles,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Oo=class extends ii{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l){let c=i+"-"+r.id;super(e,t,r,o,s,a,l,c),this.contentAttr=Jv(c),this.hostAttr=eb(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},tb=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static \u0275fac=function(r){return new(r||n)(O(ue))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),kf=["alt","control","meta","shift"],nb={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rb={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ib=(()=>{class n extends Mo{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kf.forEach(c=>{let d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=nb[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kf.forEach(s=>{if(s!==i){let a=rb[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(O(ue))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function Pf(n,e){return Wu(w({rootComponent:n},ob(e)))}function ob(n){return{appProviders:[...db,...n?.providers??[]],platformProviders:cb}}function sb(){sl.makeCurrent()}function ab(){return new mo}function lb(){return Ru(document),document}var cb=[{provide:Qe,useValue:Xu},{provide:ku,useValue:sb,multi:!0},{provide:ue,useFactory:lb,deps:[]}];var db=[{provide:Du,useValue:"root"},{provide:mo,useFactory:ab,deps:[]},{provide:al,useClass:tb,multi:!0,deps:[ue,ge,Qe]},{provide:al,useClass:ib,multi:!0,deps:[ue]},Xn,Of,Mf,{provide:qn,useExisting:Xn},{provide:Co,useClass:qv,deps:[]},[]];var Lf=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(O(ue))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=O(ub),i},providedIn:"root"})}return n})(),ub=(()=>{class n extends oi{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case nt.NONE:return r;case nt.HTML:return Gn(r,"HTML")?Wn(r):ju(this._doc,String(r)).toString();case nt.STYLE:return Gn(r,"Style")?Wn(r):r;case nt.SCRIPT:if(Gn(r,"Script"))return Wn(r);throw new K(5200,!1);case nt.URL:return Gn(r,"URL")?Wn(r):Lu(String(r));case nt.RESOURCE_URL:if(Gn(r,"ResourceURL"))return Wn(r);throw new K(5201,!1);default:throw new K(5202,!1)}}bypassSecurityTrustHtml(t){return Mu(t)}bypassSecurityTrustStyle(t){return Ou(t)}bypassSecurityTrustScript(t){return Nu(t)}bypassSecurityTrustUrl(t){return Fu(t)}bypassSecurityTrustResourceUrl(t){return Pu(t)}static \u0275fac=function(r){return new(r||n)(O(ue))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dl=function(n){return n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration",n}(dl||{});function jf(...n){let e=[],t=new Set,r=t.has(dl.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of n)t.add(o),i.length&&e.push(i);return ht([[],Gu(),t.has(dl.NoHttpTransferCache)||r?[]:Df({}),e])}var U="primary",wi=Symbol("RouteTitle"),bl=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ir(n){return new bl(n)}function mb(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function hb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gt(n[t],e[t]))return!1;return!0}function gt(n,e){let t=n?yl(n):void 0,r=e?yl(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Gf(n[i],e[i]))return!1;return!0}function yl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qf(n){return n.length>0?n[n.length-1]:null}function Kt(n){return fu(n)?n:vo(n)?ke(Promise.resolve(n)):N(n)}var pb={exact:Zf,subset:Yf},Qf={exact:gb,subset:vb,ignored:()=>!0};function Vf(n,e,t){return pb[t.paths](n.root,e.root,t.matrixParams)&&Qf[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function gb(n,e){return gt(n,e)}function Zf(n,e,t){if(!vn(n.segments,e.segments)||!Po(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Zf(n.children[r],e.children[r],t))return!1;return!0}function vb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Gf(n[t],e[t]))}function Yf(n,e,t){return Kf(n,e,e.segments,t)}function Kf(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!vn(i,t)||e.hasChildren()||!Po(i,t,r))}else if(n.segments.length===t.length){if(!vn(n.segments,t)||!Po(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Yf(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!vn(n.segments,i)||!Po(n.segments,i,r)||!n.children[U]?!1:Kf(n.children[U],e,o,r)}}function Po(n,e,t){return e.every((r,i)=>Qf[t](n[i].parameters,r.parameters))}var Ft=class{root;queryParams;fragment;_queryParamMap;constructor(e=new X([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ir(this.queryParams),this._queryParamMap}toString(){return _b.serialize(this)}},X=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lo(this)}},gn=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ir(this.parameters),this._parameterMap}toString(){return Jf(this)}};function bb(n,e){return vn(n,e)&&n.every((t,r)=>gt(t.parameters,e[r].parameters))}function vn(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function yb(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===U&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==U&&(t=t.concat(e(i,r)))}),t}var Wl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>new fi,providedIn:"root"})}return n})(),fi=class{parse(e){let t=new wl(e);return new Ft(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${si(e.root,!0)}`,r=Eb(e.queryParams),i=typeof e.fragment=="string"?`#${wb(e.fragment)}`:"";return`${t}${r}${i}`}},_b=new fi;function Lo(n){return n.segments.map(e=>Jf(e)).join("/")}function si(n,e){if(!n.hasChildren())return Lo(n);if(e){let t=n.children[U]?si(n.children[U],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==U&&r.push(`${i}:${si(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=yb(n,(r,i)=>i===U?[si(n.children[U],!1)]:[`${i}:${si(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[U]!=null?`${Lo(n)}/${t[0]}`:`${Lo(n)}/(${t.join("//")})`}}function Xf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function No(n){return Xf(n).replace(/%3B/gi,";")}function wb(n){return encodeURI(n)}function _l(n){return Xf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jo(n){return decodeURIComponent(n)}function Bf(n){return jo(n.replace(/\+/g,"%20"))}function Jf(n){return`${_l(n.path)}${Cb(n.parameters)}`}function Cb(n){return Object.entries(n).map(([e,t])=>`;${_l(e)}=${_l(t)}`).join("")}function Eb(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${No(t)}=${No(i)}`).join("&"):`${No(t)}=${No(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var xb=/^[^\/()?;#]+/;function hl(n){let e=n.match(xb);return e?e[0]:""}var Ab=/^[^\/()?;=#]+/;function Db(n){let e=n.match(Ab);return e?e[0]:""}var Sb=/^[^=?&#]+/;function Ib(n){let e=n.match(Sb);return e?e[0]:""}var Tb=/^[^&#]+/;function Rb(n){let e=n.match(Tb);return e?e[0]:""}var wl=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[U]=new X(e,t)),r}parseSegment(){let e=hl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new gn(jo(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Db(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=hl(this.remaining);i&&(r=i,this.capture(r))}e[jo(t)]=jo(r)}parseQueryParam(e){let t=Ib(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Rb(this.remaining);s&&(r=s,this.capture(r))}let i=Bf(t),o=Bf(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=hl(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=U);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[U]:new X([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function em(n){return n.segments.length>0?new X([],{[U]:n}):n}function tm(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=tm(i);if(r===U&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new X(n.segments,e);return kb(t)}function kb(n){if(n.numberOfChildren===1&&n.children[U]){let e=n.children[U];return new X(n.segments.concat(e.segments),e.children)}return n}function bn(n){return n instanceof Ft}function Mb(n,e,t=null,r=null){let i=nm(n);return rm(i,e,t,r)}function nm(n){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new X(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=em(r);return e??i}function rm(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return pl(i,i,i,t,r);let o=Ob(e);if(o.toRoot())return pl(i,i,new X([],{}),t,r);let s=Nb(o,i,n),a=s.processChildren?ci(s.segmentGroup,s.index,o.commands):om(s.segmentGroup,s.index,o.commands);return pl(i,s.segmentGroup,a,t,r)}function Vo(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function mi(n){return typeof n=="object"&&n!=null&&n.outlets}function pl(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;n===e?s=t:s=im(n,e,t);let a=em(tm(s));return new Ft(a,o,i)}function im(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=im(o,e,t)}),new X(n.segments,r)}var Bo=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vo(r[0]))throw new K(4003,!1);let i=r.find(mi);if(i&&i!==qf(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ob(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Bo(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Bo(t,e,r)}var tr=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Nb(n,e,t){if(n.isAbsolute)return new tr(e,!0,0);if(!t)return new tr(e,!1,NaN);if(t.parent===null)return new tr(t,!0,0);let r=Vo(n.commands[0])?0:1,i=t.segments.length-1+r;return Fb(t,i,n.numberOfDoubleDots)}function Fb(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new tr(r,!1,i-o)}function Pb(n){return mi(n[0])?n[0].outlets:{[U]:n}}function om(n,e,t){if(n??=new X([],{}),n.segments.length===0&&n.hasChildren())return ci(n,e,t);let r=Lb(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new X(n.segments.slice(0,r.pathIndex),{});return o.children[U]=new X(n.segments.slice(r.pathIndex),n.children),ci(o,0,i)}else return r.match&&i.length===0?new X(n.segments,{}):r.match&&!n.hasChildren()?Cl(n,e,t):r.match?ci(n,0,i):Cl(n,e,t)}function ci(n,e,t){if(t.length===0)return new X(n.segments,{});{let r=Pb(t),i={};if(Object.keys(r).some(o=>o!==U)&&n.children[U]&&n.numberOfChildren===1&&n.children[U].segments.length===0){let o=ci(n.children[U],e,t);return new X(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=om(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(n.segments,i)}}function Lb(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(mi(a))break;let l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!zf(l,c,s))return o;r+=2}else{if(!zf(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Cl(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(mi(o)){let l=jb(o.outlets);return new X(r,l)}if(i===0&&Vo(t[0])){let l=n.segments[e];r.push(new gn(l.path,Uf(t[0]))),i++;continue}let s=mi(o)?o.outlets[U]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Vo(a)?(r.push(new gn(s,Uf(a))),i+=2):(r.push(new gn(s,{})),i++)}return new X(r,{})}function jb(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Cl(new X([],{}),0,r))}),e}function Uf(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function zf(n,e,t){return n==t.path&&gt(e,t.parameters)}var di="imperative",Ae=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ae||{}),Ke=class{id;url;constructor(e,t){this.id=e,this.url=t}},hi=class extends Ke{type=Ae.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yt=class extends Ke{urlAfterRedirects;type=Ae.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ue=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ue||{}),El=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(El||{}),Nt=class extends Ke{reason;code;type=Ae.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yn=class extends Ke{reason;code;type=Ae.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},pi=class extends Ke{error;target;type=Ae.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Uo=class extends Ke{urlAfterRedirects;state;type=Ae.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xl=class extends Ke{urlAfterRedirects;state;type=Ae.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Al=class extends Ke{urlAfterRedirects;state;shouldActivate;type=Ae.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dl=class extends Ke{urlAfterRedirects;state;type=Ae.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sl=class extends Ke{urlAfterRedirects;state;type=Ae.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Il=class{route;type=Ae.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tl=class{route;type=Ae.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rl=class{snapshot;type=Ae.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kl=class{snapshot;type=Ae.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ml=class{snapshot;type=Ae.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ol=class{snapshot;type=Ae.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var gi=class{},or=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Vb(n,e){return n.providers&&!n._injector&&(n._injector=zu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function at(n){return n.outlet||U}function Bb(n,e){let t=n.filter(r=>at(r)===e);return t.push(...n.filter(r=>at(r)!==e)),t}function Ci(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Nl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ci(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Qo(this.rootInjector)}},Qo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Nl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(O(zn))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zo=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Pl(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pl(e,this._root).map(t=>t.value)}};function Fl(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fl(n,t);if(r)return r}return null}function Pl(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Pl(n,t);if(r.length)return r.unshift(e),r}return[]}var Be=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function er(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ho=class extends zo{snapshot;constructor(e,t){super(e),this.snapshot=t,Gl(this,e)}toString(){return this.snapshot.toString()}};function sm(n){let e=Ub(n),t=new $e([new gn("",{})]),r=new $e({}),i=new $e({}),o=new $e({}),s=new $e(""),a=new Pt(t,r,o,s,i,U,n,e.root);return a.snapshot=e.root,new Ho(new Be(a,[]),e)}function Ub(n){let e={},t={},r={},i="",o=new nr([],e,r,i,t,U,n,null,{});return new Wo("",new Be(o,[]))}var Pt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(j(c=>c[wi]))??N(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>ir(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>ir(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function $o(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),n.params),data:w(w({},e.data),n.data),resolve:w(w(w(w({},n.data),e.data),i?.data),n._resolvedData)}:r={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},i&&lm(i)&&(r.resolve[wi]=i.title),r}var nr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[wi]}constructor(e,t,r,i,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ir(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ir(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Wo=class extends zo{url;constructor(e,t){super(t),this.url=e,Gl(this,t)}toString(){return am(this._root)}};function Gl(n,e){e.value._routerState=n,e.children.forEach(t=>Gl(n,t))}function am(n){let e=n.children.length>0?` { ${n.children.map(am).join(", ")} } `:"";return`${n.value}${e}`}function gl(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gt(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gt(e.params,t.params)||n.paramsSubject.next(t.params),hb(e.url,t.url)||n.urlSubject.next(t.url),gt(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ll(n,e){let t=gt(n.params,e.params)&&bb(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ll(n.parent,e.parent))}function lm(n){return typeof n.title=="string"||n.title===null}var zb=new B(""),ql=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=U;activateEvents=new de;deactivateEvents=new de;attachEvents=new de;detachEvents=new de;routerOutletData=Tu(void 0);parentContexts=D(Qo);location=D(po);changeDetector=D(hn);inputBinder=D(Ql,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new jl(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qe]})}return n})(),jl=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Pt?this.route:e===Qo?this.childContexts:e===zb?this.outletData:this.parent.get(e,t)}},Ql=new B("");function Hb(n,e,t){let r=vi(n,e._root,t?t._root:void 0);return new Ho(r,e)}function vi(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=$b(n,e,t);return new Be(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>vi(n,a)),s}}let r=Wb(e.value),i=e.children.map(o=>vi(n,o));return new Be(r,i)}}function $b(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vi(n,r,i);return vi(n,r)})}function Wb(n){return new Pt(new $e(n.url),new $e(n.params),new $e(n.queryParams),new $e(n.fragment),new $e(n.data),n.outlet,n.component,n)}var bi=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},cm="ngNavigationCancelingError";function Go(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=bn(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dm(!1,Ue.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function dm(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[cm]=!0,t.cancellationCode=e,t}function Gb(n){return um(n)&&bn(n.url)}function um(n){return!!n&&n[cm]}var qb=(n,e,t,r)=>j(i=>(new Vl(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Vl=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=er(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=er(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=er(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=er(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ol(o.value.snapshot))}),e.children.length&&this.forwardEvent(new kl(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(gl(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),gl(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},qo=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},rr=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Qb(n,e,t){let r=n._root,i=e?e._root:null;return ai(r,i,t,[r.value])}function Zb(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ar(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!xu(n)?n:e.get(n):r}function ai(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=er(e);return n.children.forEach(s=>{Yb(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ui(a,t.getContext(s),i)),i}function Yb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Kb(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new qo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ai(n,e,a?a.children:null,r,i):ai(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rr(a.outlet.component,s))}else s&&ui(e,a,i),i.canActivateChecks.push(new qo(r)),o.component?ai(n,null,a?a.children:null,r,i):ai(n,null,t,r,i);return i}function Kb(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!vn(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vn(n.url,e.url)||!gt(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ll(n,e)||!gt(n.queryParams,e.queryParams);case"paramsChange":default:return!Ll(n,e)}}function ui(n,e,t){let r=er(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ui(s,e.children.getContext(o),t):ui(s,null,t):ui(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new rr(e.outlet.component,i)):t.canDeactivateChecks.push(new rr(null,i)):t.canDeactivateChecks.push(new rr(null,i))}function Ei(n){return typeof n=="function"}function Xb(n){return typeof n=="boolean"}function Jb(n){return n&&Ei(n.canLoad)}function ey(n){return n&&Ei(n.canActivate)}function ty(n){return n&&Ei(n.canActivateChild)}function ny(n){return n&&Ei(n.canDeactivate)}function ry(n){return n&&Ei(n.canMatch)}function fm(n){return n instanceof mu||n?.name==="EmptyError"}var Fo=Symbol("INITIAL_VALUE");function sr(){return Ne(n=>zr(n.map(e=>e.pipe(Ht(1),Bn(Fo)))).pipe(j(e=>{for(let t of e)if(t!==!0){if(t===Fo)return Fo;if(t===!1||iy(t))return t}return!0}),zt(e=>e!==Fo),Ht(1)))}function iy(n){return bn(n)||n instanceof bi}function oy(n,e){return Ge(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?N(z(w({},t),{guardsResult:!0})):sy(s,r,i,n).pipe(Ge(a=>a&&Xb(a)?ay(r,o,n,e):N(a)),j(a=>z(w({},t),{guardsResult:a})))})}function sy(n,e,t,r){return ke(n).pipe(Ge(i=>fy(i.component,i.route,t,e,r)),Dt(i=>i!==!0,!0))}function ay(n,e,t,r){return ke(e).pipe(un(i=>uo(cy(i.route.parent,r),ly(i.route,r),uy(n,i.path,t),dy(n,i.route,t))),Dt(i=>i!==!0,!0))}function ly(n,e){return n!==null&&e&&e(new Ml(n)),N(!0)}function cy(n,e){return n!==null&&e&&e(new Rl(n)),N(!0)}function dy(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(o=>Oa(()=>{let s=Ci(e)??t,a=ar(o,s),l=ey(a)?a.canActivate(e,n):et(s,()=>a(e,n));return Kt(l).pipe(Dt())}));return N(i).pipe(sr())}function uy(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Zb(s)).filter(s=>s!==null).map(s=>Oa(()=>{let a=s.guards.map(l=>{let c=Ci(s.node)??t,d=ar(l,c),u=ty(d)?d.canActivateChild(r,n):et(c,()=>d(r,n));return Kt(u).pipe(Dt())});return N(a).pipe(sr())}));return N(o).pipe(sr())}function fy(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return N(!0);let s=o.map(a=>{let l=Ci(e)??i,c=ar(a,l),d=ny(c)?c.canDeactivate(n,e,t,r):et(l,()=>c(n,e,t,r));return Kt(d).pipe(Dt())});return N(s).pipe(sr())}function my(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let o=i.map(s=>{let a=ar(s,n),l=Jb(a)?a.canLoad(e,t):et(n,()=>a(e,t));return Kt(l)});return N(o).pipe(sr(),mm(r))}function mm(n){return uu(oe(e=>{if(typeof e!="boolean")throw Go(n,e)}),j(e=>e===!0))}function hy(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let o=i.map(s=>{let a=ar(s,n),l=ry(a)?a.canMatch(e,t):et(n,()=>a(e,t));return Kt(l)});return N(o).pipe(sr(),mm(r))}var yi=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},_i=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Jn(n){return We(new yi(n))}function py(n){return We(new K(4e3,!1))}function gy(n){return We(dm(!1,Ue.GuardRejected))}var Bl=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[U])return py(`${e.redirectTo}`);i=i.children[U]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:l,fragment:c,routeConfig:d,url:u,outlet:m,params:f,data:h,title:y}=i,b=et(o,()=>a({params:f,data:h,queryParams:l,fragment:c,routeConfig:d,url:u,outlet:m,title:y}));if(b instanceof Ft)throw new _i(b);t=b}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new _i(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Ft(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new X(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ul={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vy(n,e,t,r,i){let o=hm(n,e,t);return o.matched?(r=Vb(e,r),hy(r,e,t,i).pipe(j(s=>s===!0?o:w({},Ul)))):N(o)}function hm(n,e,t){if(e.path==="**")return by(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?w({},Ul):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||mb)(t,n,e);if(!i)return w({},Ul);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function by(n){return{matched:!0,parameters:n.length>0?qf(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Hf(n,e,t,r){return t.length>0&&wy(n,t,r)?{segmentGroup:new X(e,_y(r,new X(t,n.children))),slicedSegments:[]}:t.length===0&&Cy(n,t,r)?{segmentGroup:new X(n.segments,yy(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new X(n.segments,n.children),slicedSegments:t}}function yy(n,e,t,r){let i={};for(let o of t)if(Zo(n,e,o)&&!r[at(o)]){let s=new X([],{});i[at(o)]=s}return w(w({},r),i)}function _y(n,e){let t={};t[U]=e;for(let r of n)if(r.path===""&&at(r)!==U){let i=new X([],{});t[at(r)]=i}return t}function wy(n,e,t){return t.some(r=>Zo(n,e,r)&&at(r)!==U)}function Cy(n,e,t){return t.some(r=>Zo(n,e,r))}function Zo(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Ey(n,e,t){return e.length===0&&!n.children[t]}var zl=class{};function xy(n,e,t,r,i,o,s="emptyOnly"){return new Hl(n,e,t,r,i,s,o).recognize()}var Ay=31,Hl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Bl(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=Hf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(({children:t,rootSnapshot:r})=>{let i=new Be(r,t),o=new Wo("",i),s=Mb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new nr([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),U,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,U,t).pipe(j(r=>({children:r,rootSnapshot:t})),xe(r=>{if(r instanceof _i)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof yi?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(j(s=>s instanceof Be?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(un(s=>{let a=r.children[s],l=Bb(t,s);return this.processSegmentGroup(e,l,a,s,i)}),wu((s,a)=>(s.push(...a),s)),Na(null),_u(),Ge(s=>{if(s===null)return Jn(r);let a=pm(s);return Dy(a),N(a)}))}processSegment(e,t,r,i,o,s,a){return ke(t).pipe(un(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(xe(c=>{if(c instanceof yi)return N(null);throw c}))),Dt(l=>!!l),xe(l=>{if(fm(l))return Ey(r,i,o)?N(new zl):Jn(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return at(r)!==s&&(s===U||!Zo(i,o,r))?Jn(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Jn(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:m}=hm(t,i,o);if(!l)return Jn(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ay&&(this.allowRedirects=!1));let f=new nr(o,c,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,$f(i),at(i),i.component??i._loadedComponent??null,i,Wf(i)),h=$o(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let y=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,u,f,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(Ge(b=>this.processSegment(e,r,t,b.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=vy(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ne(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ne(({routes:c})=>{let d=r._loadedInjector??e,{parameters:u,consumedSegments:m,remainingSegments:f}=l,h=new nr(m,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,$f(r),at(r),r.component??r._loadedComponent??null,r,Wf(r)),y=$o(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(y.params),h.data=Object.freeze(y.data);let{segmentGroup:b,slicedSegments:x}=Hf(t,m,f,c);if(x.length===0&&b.hasChildren())return this.processChildren(d,c,b,h).pipe(j(T=>new Be(h,T)));if(c.length===0&&x.length===0)return N(new Be(h,[]));let S=at(r)===o;return this.processSegment(d,c,b,x,S?U:o,!0,h).pipe(j(T=>new Be(h,T instanceof Be?[T]:[])))}))):Jn(t)))}getChildConfig(e,t,r){return t.children?N({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?N({routes:t._loadedRoutes,injector:t._loadedInjector}):my(e,t,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,t).pipe(oe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):gy(t))):N({routes:[],injector:e})}};function Dy(n){n.sort((e,t)=>e.value.outlet===U?-1:t.value.outlet===U?1:e.value.outlet.localeCompare(t.value.outlet))}function Sy(n){let e=n.value.routeConfig;return e&&e.path===""}function pm(n){let e=[],t=new Set;for(let r of n){if(!Sy(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=pm(r.children);e.push(new Be(r.value,i))}return e.filter(r=>!t.has(r))}function $f(n){return n.data||{}}function Wf(n){return n.resolve||{}}function Iy(n,e,t,r,i,o){return Ge(s=>xy(n,e,t,r,s.extractedUrl,i,o).pipe(j(({state:a,tree:l})=>z(w({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Ty(n,e){return Ge(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return N(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of gm(l))s.add(c);let a=0;return ke(s).pipe(un(l=>o.has(l)?Ry(l,r,n,e):(l.data=$o(l,l.parent,n).resolve,N(void 0))),oe(()=>a++),Fa(1),Ge(l=>a===s.size?N(t):Ut))})}function gm(n){let e=n.children.map(t=>gm(t)).flat();return[n,...e]}function Ry(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!lm(i)&&(o[wi]=i.title),ky(o,n,e,r).pipe(j(s=>(n._resolvedData=s,n.data=$o(n,n.parent,t).resolve,null)))}function ky(n,e,t,r){let i=yl(n);if(i.length===0)return N({});let o={};return ke(i).pipe(Ge(s=>My(n[s],e,t,r).pipe(Dt(),oe(a=>{if(a instanceof bi)throw Go(new fi,a);o[s]=a}))),Fa(1),j(()=>o),xe(s=>fm(s)?Ut:We(s)))}function My(n,e,t,r){let i=Ci(e)??r,o=ar(n,i),s=o.resolve?o.resolve(e,t):et(i,()=>o(e,t));return Kt(s)}function vl(n){return Ne(e=>{let t=n(e);return t?ke(t).pipe(j(()=>e)):N(e)})}var vm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===U);return r}getResolvedTitleForRoute(t){return t.data[wi]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>D(Oy),providedIn:"root"})}return n})(),Oy=(()=>{class n extends vm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(O(Lf))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zl=new B("",{providedIn:"root",factory:()=>({})}),Ny=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=V({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&F(0,"router-outlet")},dependencies:[ql],encapsulation:2})}return n})();function Yl(n){let e=n.children&&n.children.map(Yl),t=e?z(w({},n),{children:e}):w({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==U&&(t.component=Ny),t}var Kl=new B(""),Fy=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(Ga);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return N(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Kt(t.loadComponent()).pipe(j(bm),oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Vn(()=>{this.componentLoaders.delete(t)})),i=new Ma(r,()=>new ie).pipe(ka());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return N({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Py(r,this.compiler,t,this.onLoadEndListener).pipe(Vn(()=>{this.childrenLoaders.delete(r)})),s=new Ma(o,()=>new ie).pipe(ka());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Py(n,e,t,r){return Kt(n.loadChildren()).pipe(j(bm),Ge(i=>i instanceof Uu||Array.isArray(i)?N(i):ke(e.compileModuleAsync(i))),j(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Kl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yl),injector:o}}))}function Ly(n){return n&&typeof n=="object"&&"default"in n}function bm(n){return Ly(n)?n.default:n}var Xl=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>D(jy),providedIn:"root"})}return n})(),jy=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vy=new B("");var By=new B(""),Uy=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ie;transitionAbortSubject=new ie;configLoader=D(Fy);environmentInjector=D(zn);urlSerializer=D(Wl);rootContexts=D(Qo);location=D(yo);inputBindingEnabled=D(Ql,{optional:!0})!==null;titleStrategy=D(vm);options=D(Zl,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(Xl);createViewTransition=D(Vy,{optional:!0});navigationErrorHandler=D(By,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>N(void 0);rootComponentType=null;constructor(){let t=i=>this.events.next(new Il(i)),r=i=>this.events.next(new Tl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(z(w(w({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new $e({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:di,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zt(o=>o.id!==0),j(o=>z(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ne(o=>{let s=!1,a=!1;return N(o).pipe(Ne(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ue.SupersededByNewNavigation),Ut;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&d!=="reload"){let u="";return this.events.next(new yn(l.id,this.urlSerializer.serialize(l.rawUrl),u,El.IgnoredSameUrlNavigation)),l.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return N(l).pipe(Ne(u=>{let m=this.transitions?.getValue();return this.events.next(new hi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),m!==this.transitions?.getValue()?Ut:Promise.resolve(u)}),Iy(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),oe(u=>{o.targetSnapshot=u.targetSnapshot,o.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=z(w({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let m=new Uo(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(m)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:u,extractedUrl:m,source:f,restoredState:h,extras:y}=l,b=new hi(u,this.urlSerializer.serialize(m),f,h);this.events.next(b);let x=sm(this.rootComponentType).snapshot;return this.currentTransition=o=z(w({},l),{targetSnapshot:x,urlAfterRedirects:m,extras:z(w({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,N(o)}else{let u="";return this.events.next(new yn(l.id,this.urlSerializer.serialize(l.extractedUrl),u,El.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ut}}),oe(l=>{let c=new xl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),j(l=>(this.currentTransition=o=z(w({},l),{guards:Qb(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),oy(this.environmentInjector,l=>this.events.next(l)),oe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Go(this.urlSerializer,l.guardsResult);let c=new Al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),zt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ue.GuardRejected),!1)),vl(l=>{if(l.guards.canActivateChecks.length)return N(l).pipe(oe(c=>{let d=new Dl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ne(c=>{let d=!1;return N(c).pipe(Ty(this.paramsInheritanceStrategy,this.environmentInjector),oe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Ue.NoDataFromResolver)}}))}),oe(c=>{let d=new Sl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),vl(l=>{let c=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(oe(m=>{d.component=m}),j(()=>{})));for(let m of d.children)u.push(...c(m));return u};return zr(c(l.targetSnapshot.root)).pipe(Na(null),Ht(1))}),vl(()=>this.afterPreactivation()),Ne(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return d?ke(d).pipe(j(()=>o)):N(o)}),j(l=>{let c=Hb(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(w({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),oe(()=>{this.events.next(new gi)}),qb(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ht(1),oe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Un(this.transitionAbortSubject.pipe(oe(l=>{throw l}))),Vn(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ue.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xe(l=>{if(a=!0,um(l))this.events.next(new Nt(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Gb(l)?this.events.next(new or(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new pi(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let d=et(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof bi){let{message:u,cancellationCode:m}=Go(this.urlSerializer,d);this.events.next(new Nt(o.id,this.urlSerializer.serialize(o.extractedUrl),u,m)),this.events.next(new or(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return Ut}))}))}cancelNavigationTransition(t,r,i){let o=new Nt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zy(n){return n!==di}var Hy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>D($y),providedIn:"root"})}return n})(),$l=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},$y=(()=>{class n extends $l{static \u0275fac=(()=>{let t;return function(i){return(t||(t=St(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ym=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:()=>D(Wy),providedIn:"root"})}return n})(),Wy=(()=>{class n extends ym{location=D(yo);urlSerializer=D(Wl);options=D(Zl,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=D(Xl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ft;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=sm(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof hi)this.stateMemento=this.createStateMemento();else if(t instanceof yn)this.rawUrlTree=r.initialUrl;else if(t instanceof Uo){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof gi?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Nt&&(t.code===Ue.GuardRejected||t.code===Ue.NoDataFromResolver)?this.restoreHistory(r):t instanceof pi?this.restoreHistory(r,!0):t instanceof Yt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Ft?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=w(w({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=St(n)))(i||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),li=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(li||{});function Gy(n,e){n.events.pipe(zt(t=>t instanceof Yt||t instanceof Nt||t instanceof pi||t instanceof yn),j(t=>t instanceof Yt||t instanceof yn?li.COMPLETE:(t instanceof Nt?t.code===Ue.Redirect||t.code===Ue.SupersededByNewNavigation:!1)?li.REDIRECTING:li.FAILED),zt(t=>t!==li.REDIRECTING),Ht(1)).subscribe(()=>{e()})}var qy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ee=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(go);stateManager=D(ym);options=D(Zl,{optional:!0})||{};pendingTasks=D(fo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(Uy);urlSerializer=D(Wl);location=D(yo);urlHandlingStrategy=D(Xl);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(Hy);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D(Kl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(Ql,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new du;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Nt&&r.code!==Ue.Redirect&&r.code!==Ue.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yt)this.navigated=!0;else if(r instanceof or){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zy(i.source)},s);this.scheduleNavigation(a,di,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Yy(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),di,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=w({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Yl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let m=i?i.snapshot:this.routerState.snapshot.root;u=nm(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return rm(u,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=bn(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,di,null,r)}navigate(t,r={skipLocationChange:!1}){return Zy(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=w({},qy):r===!1?i=w({},Qy):i=r,bn(t))return Vf(this.currentUrlTree,t,i);let o=this.parseUrl(t);return Vf(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,m)=>{a=u,l=m});let d=this.pendingTasks.add();return Gy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zy(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function Yy(n){return!(n instanceof gi)&&!(n instanceof or)}var lr=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ie;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Yt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(bn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Vu(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:bn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(I(Ee),I(Pt),Su("tabindex"),I(Gr),I(Le),I(qa))};static \u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Me("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$t],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$t],replaceUrl:[2,"replaceUrl","replaceUrl",$t],routerLink:"routerLink"},features:[Qn,qe]})}return n})();var Ky=new B("");function _m(n,...e){return ht([{provide:Kl,multi:!0,useValue:n},[],{provide:Pt,useFactory:Xy,deps:[Ee]},{provide:bo,multi:!0,useFactory:Jy},e.map(t=>t.\u0275providers)])}function Xy(n){return n.routerState.root}function Jy(){let n=D(tt);return e=>{let t=n.get(It);if(e!==t.components[0])return;let r=n.get(Ee),i=n.get(e_);n.get(t_)===1&&r.initialNavigation(),n.get(n_,null,Pa.Optional)?.setUpPreloading(),n.get(Ky,null,Pa.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var e_=new B("",{factory:()=>new ie}),t_=new B("",{providedIn:"root",factory:()=>1});var n_=new B("");var _n=class extends Error{};_n.prototype.name="InvalidTokenError";function r_(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function i_(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return r_(e)}catch{return atob(e)}}function Jl(n,e){if(typeof n!="string")throw new _n("Invalid token specified: must be a string");e||(e={});let t=e.header===!0?0:1,r=n.split(".")[t];if(typeof r!="string")throw new _n(`Invalid token specified: missing part #${t+1}`);let i;try{i=i_(r)}catch(o){throw new _n(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(i)}catch(o){throw new _n(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var lt=class n{authState=je({user:this.getUser(),token:this.getToken(),isAuthenticated:this.verifyToken(this.getToken())});isAuthenticated$=pt(()=>this.authState().isAuthenticated);user=pt(()=>this.authState().user);token=pt(()=>this.authState().token);isAuthenticated=pt(()=>this.authState().isAuthenticated);constructor(){Qr(()=>{let e=this.authState().token,t=this.authState().user;typeof localStorage<"u"&&(e!==null?localStorage.setItem("token",e):localStorage.removeItem("token"),t!==null?localStorage.setItem("user",t):localStorage.removeItem("user"))})}updateToken(e){let r=Jl(e).user;this.authState.set({user:r,token:e,isAuthenticated:this.verifyToken(e)})}getToken(){return typeof localStorage<"u"?localStorage.getItem("token"):null}getUser(){return typeof localStorage<"u"?localStorage.getItem("user"):null}verifyToken(e){if(e!==null)try{let r=Jl(e).exp;return!(r===void 0||Date.now()>=r*1e3)}catch{return!1}return!1}isUserAuthenticated(){return this.verifyToken(this.getToken())}logout(){this.authState.set({user:null,token:null,isAuthenticated:!1}),typeof localStorage<"u"&&(localStorage.removeItem("user"),localStorage.removeItem("token"))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function Cm(n,e){let r=D(lt).getToken();return r&&(n=n.clone({setHeaders:{Authorization:"Bearer "+r}})),e(n)}var Em=["toast-component",""];function o_(n,e){if(n&1){let t=Te();g(0,"button",5),H("click",function(){ye(t);let i=R();return _e(i.remove())}),g(1,"span",6),E(2,"\xD7"),p()()}}function s_(n,e){if(n&1&&(za(0),E(1),Ha()),n&2){let t=R(2);C(),le("[",t.duplicatesCount+1,"]")}}function a_(n,e){if(n&1&&(g(0,"div"),E(1),P(2,s_,2,1,"ng-container",4),p()),n&2){let t=R();Ze(t.options.titleClass),Me("aria-label",t.title),C(),le(" ",t.title," "),C(),A("ngIf",t.duplicatesCount)}}function l_(n,e){if(n&1&&F(0,"div",7),n&2){let t=R();Ze(t.options.messageClass),A("innerHTML",t.message,Ba)}}function c_(n,e){if(n&1&&(g(0,"div",8),E(1),p()),n&2){let t=R();Ze(t.options.messageClass),Me("aria-label",t.message),C(),le(" ",t.message," ")}}function d_(n,e){if(n&1&&(g(0,"div"),F(1,"div",9),p()),n&2){let t=R();C(),qr("width",t.width()+"%")}}function u_(n,e){if(n&1){let t=Te();g(0,"button",5),H("click",function(){ye(t);let i=R();return _e(i.remove())}),g(1,"span",6),E(2,"\xD7"),p()()}}function f_(n,e){if(n&1&&(za(0),E(1),Ha()),n&2){let t=R(2);C(),le("[",t.duplicatesCount+1,"]")}}function m_(n,e){if(n&1&&(g(0,"div"),E(1),P(2,f_,2,1,"ng-container",4),p()),n&2){let t=R();Ze(t.options.titleClass),Me("aria-label",t.title),C(),le(" ",t.title," "),C(),A("ngIf",t.duplicatesCount)}}function h_(n,e){if(n&1&&F(0,"div",7),n&2){let t=R();Ze(t.options.messageClass),A("innerHTML",t.message,Ba)}}function p_(n,e){if(n&1&&(g(0,"div",8),E(1),p()),n&2){let t=R();Ze(t.options.messageClass),Me("aria-label",t.message),C(),le(" ",t.message," ")}}function g_(n,e){if(n&1&&(g(0,"div"),F(1,"div",9),p()),n&2){let t=R();C(),qr("width",t.width()+"%")}}var ec=class{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},tc=class{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},nc=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new ie;_activate=new ie;_manualClose=new ie;_resetTimeout=new ie;_countDuplicate=new ie;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}},cr=class{toastId;config;message;title;toastType;toastRef;_onTap=new ie;_onAction=new ie;constructor(e,t,r,i,o,s){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=o,this.toastRef=s,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},xm={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Am=new B("ToastConfig"),rc=class extends tc{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){let r=this._componentFactoryResolver.resolveComponentFactory(e.component),i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},v_=(()=>{class n{_document=D(ue);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ic=class{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}},b_=(()=>{class n{_overlayContainer=D(v_);_componentFactoryResolver=D(Bu);_appRef=D(It);_document=D(ue);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){let i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new rc(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ic(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),De=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,o,s){this.overlay=r,this._injector=i,this.sanitizer=o,this.ngZone=s,this.toastrConfig=w(w({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=w(w({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},o=""){return this._preBuildNotification(o,t,r,this.applyConfig(i))}success(t,r,i={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}error(t,r,i={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}info(t,r,i={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}warning(t,r,i={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,t,r,this.applyConfig(i))}clear(t){for(let r of this.toasts)if(t!==void 0){if(r.toastId===t){r.toastRef.manualClose();return}}else r.toastRef.manualClose()}remove(t){let r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,o){let{includeTitleDuplicates:s}=this.toastrConfig;for(let a of this.toasts){let l=s&&a.title===t;if((!s||l)&&a.message===r)return a.toastRef.onDuplicate(i,o),a}return null}applyConfig(t={}){return w(w({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,o)):this._buildNotification(t,r,i,o)}_buildNotification(t,r,i,o){if(!o.toastComponent)throw new Error("toastComponent required");let s=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&s!==null)return s;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&o.enableHtml&&(c=this.sanitizer.sanitize(nt.HTML,r));let d=new nc(l),u=new cr(this.index,o,c,i,t,d),m=[{provide:cr,useValue:u}],f=tt.create({providers:m,parent:this._injector}),h=new ec(o.toastComponent,f),y=l.attach(h,o.newestOnTop);d.componentInstance=y.instance;let b={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:y};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{b.toastRef.activate()})),this.toasts.push(b),b}static \u0275fac=function(r){return new(r||n)(O(Am),O(b_),O(tt),O(oi),O(ge))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),y_=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=je(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=je({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(t=>z(w({},t),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(t=>z(w({},t),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(t=>z(w({},t),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(I(De),I(cr),I(ge))};static \u0275cmp=V({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){r&1&&H("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Hu("@flyInOut",i._state),Ze(i.toastClasses),qr("display",i.displayStyle))},attrs:Em,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&P(0,o_,3,0,"button",0)(1,a_,3,5,"div",1)(2,l_,1,3,"div",2)(3,c_,2,4,"div",3)(4,d_,2,2,"div",4),r&2&&(A("ngIf",i.options.closeButton),C(),A("ngIf",i.title),C(),A("ngIf",i.message&&i.options.enableHtml),C(),A("ngIf",i.message&&!i.options.enableHtml),C(),A("ngIf",i.options.progressBar))},dependencies:[fe],encapsulation:2,data:{animation:[Ju("flyInOut",[xo("inactive",Eo({opacity:0})),xo("active",Eo({opacity:1})),xo("removed",Eo({opacity:0})),Za("inactive => active",Qa("{{ easeTime }}ms {{ easing }}")),Za("active => removed",Qa("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),__=z(w({},xm),{toastComponent:y_}),Dm=(n={})=>ht([{provide:Am,useValue:{default:__,config:n}}]);var w_=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=je(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=je("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let t=new Date().getTime(),r=this.hideTime-t;this.width.set(r/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(i=>100-i),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(r){return new(r||n)(I(De),I(cr),I(It))};static \u0275cmp=V({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,i){r&1&&H("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),r&2&&(Ze(i.toastClasses),qr("display",i.displayStyle))},attrs:Em,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){r&1&&P(0,u_,3,0,"button",0)(1,m_,3,5,"div",1)(2,h_,1,3,"div",2)(3,p_,2,4,"div",3)(4,g_,2,2,"div",4),r&2&&(A("ngIf",i.options.closeButton),C(),A("ngIf",i.title),C(),A("ngIf",i.message&&i.options.enableHtml),C(),A("ngIf",i.message&&!i.options.enableHtml),C(),A("ngIf",i.options.progressBar))},dependencies:[fe],encapsulation:2,changeDetection:0})}return n})(),xS=z(w({},xm),{toastComponent:w_});var dr=(n,e)=>{let t=D(lt),r=D(De),i=D(Ee);return t.isUserAuthenticated()?!0:(r.warning("Please, login to access this feature","Unauthorized!",{timeOut:4e3,progressBar:!0}),i.parseUrl("/login"))},oc=(n,e)=>{let t=D(lt),r=D(De),i=D(Ee);if(!t.isUserAuthenticated())return r.warning("Please, login to access this feature","Unauthorized!",{timeOut:4e3,progressBar:!0}),i.parseUrl("/login");let o=n.data.roles,s=localStorage.getItem("userRole");return s&&o.includes(s)?!0:(r.error("You don't have permission to access this feature","Access Denied!",{timeOut:4e3,progressBar:!0}),i.parseUrl("/events"))};var Fm=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(I(Gr),I(Le))};static \u0275dir=ae({type:n})}return n})(),Pm=(()=>{class n extends Fm{static \u0275fac=(()=>{let t;return function(i){return(t||(t=St(n)))(i||n)}})();static \u0275dir=ae({type:n,features:[rt]})}return n})(),uc=new B("");var C_={provide:uc,useExisting:fn(()=>en),multi:!0};function E_(){let n=Yn()?Yn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var x_=new B(""),en=(()=>{class n extends Fm{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!E_())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(I(Gr),I(Le),I(x_,8))};static \u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[kt([C_]),rt]})}return n})();function Xt(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Lm(n){return n!=null&&typeof n.length=="number"}var os=new B(""),jm=new B(""),A_=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,me=class{static min(e){return Vm(e)}static max(e){return D_(e)}static required(e){return Bm(e)}static requiredTrue(e){return S_(e)}static email(e){return I_(e)}static minLength(e){return T_(e)}static maxLength(e){return R_(e)}static pattern(e){return k_(e)}static nullValidator(e){return Xo(e)}static compose(e){return Gm(e)}static composeAsync(e){return Qm(e)}};function Vm(n){return e=>{if(Xt(e.value)||Xt(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function D_(n){return e=>{if(Xt(e.value)||Xt(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Bm(n){return Xt(n.value)?{required:!0}:null}function S_(n){return n.value===!0?null:{required:!0}}function I_(n){return Xt(n.value)||A_.test(n.value)?null:{email:!0}}function T_(n){return e=>Xt(e.value)||!Lm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function R_(n){return e=>Lm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function k_(n){if(!n)return Xo;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Xt(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Xo(n){return null}function Um(n){return n!=null}function zm(n){return vo(n)?ke(n):n}function Hm(n){let e={};return n.forEach(t=>{e=t!=null?w(w({},e),t):e}),Object.keys(e).length===0?null:e}function $m(n,e){return e.map(t=>t(n))}function M_(n){return!n.validate}function Wm(n){return n.map(e=>M_(e)?e:t=>e.validate(t))}function Gm(n){if(!n)return null;let e=n.filter(Um);return e.length==0?null:function(t){return Hm($m(t,e))}}function qm(n){return n!=null?Gm(Wm(n)):null}function Qm(n){if(!n)return null;let e=n.filter(Um);return e.length==0?null:function(t){let r=$m(t,e).map(zm);return hu(r).pipe(j(Hm))}}function Zm(n){return n!=null?Qm(Wm(n)):null}function Sm(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ym(n){return n._rawValidators}function Km(n){return n._rawAsyncValidators}function sc(n){return n?Array.isArray(n)?n:[n]:[]}function Jo(n,e){return Array.isArray(n)?n.includes(e):n===e}function Im(n,e){let t=sc(e);return sc(n).forEach(i=>{Jo(t,i)||t.push(i)}),t}function Tm(n,e){return sc(e).filter(t=>!Jo(n,t))}var es=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},mr=class extends es{name;get formDirective(){return null}get path(){return null}},Ti=class extends es{_parent=null;name=null;valueAccessor=null},ts=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},O_={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qS=z(w({},O_),{"[class.ng-submitted]":"isSubmitted"}),gr=(()=>{class n extends ts{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(I(Ti,2))};static \u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&it("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[rt]})}return n})(),vr=(()=>{class n extends ts{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(I(mr,10))};static \u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&it("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[rt]})}return n})();var Ai="VALID",Ko="INVALID",ur="PENDING",Di="DISABLED",Jt=class{},ns=class extends Jt{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Si=class extends Jt{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Ii=class extends Jt{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},fr=class extends Jt{status;source;constructor(e,t){super(),this.status=e,this.source=t}},ac=class extends Jt{source;constructor(e){super(),this.source=e}},lc=class extends Jt{source;constructor(e){super(),this.source=e}};function fc(n){return(ss(n)?n.validators:n)||null}function N_(n){return Array.isArray(n)?qm(n):n||null}function mc(n,e){return(ss(e)?e.asyncValidators:n)||null}function F_(n){return Array.isArray(n)?Zm(n):n||null}function ss(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Xm(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function Jm(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new K(1002,"")})}var hr=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wt(this.statusReactive)}set status(e){Wt(()=>this.statusReactive.set(e))}_status=pt(()=>this.statusReactive());statusReactive=je(void 0);get valid(){return this.status===Ai}get invalid(){return this.status===Ko}get pending(){return this.status==ur}get disabled(){return this.status===Di}get enabled(){return this.status!==Di}errors;get pristine(){return Wt(this.pristineReactive)}set pristine(e){Wt(()=>this.pristineReactive.set(e))}_pristine=pt(()=>this.pristineReactive());pristineReactive=je(!0);get dirty(){return!this.pristine}get touched(){return Wt(this.touchedReactive)}set touched(e){Wt(()=>this.touchedReactive.set(e))}_touched=pt(()=>this.touchedReactive());touchedReactive=je(!1);get untouched(){return!this.touched}_events=new ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Im(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Im(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Tm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Tm(e,this._rawAsyncValidators))}hasValidator(e){return Jo(this._rawValidators,e)}hasAsyncValidator(e){return Jo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(z(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ii(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ii(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(z(w({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Si(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Si(!0,r))}markAsPending(e={}){this.status=ur;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new fr(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(z(w({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Di,this.errors=null,this._forEachChild(i=>{i.disable(z(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ns(this.value,r)),this._events.next(new fr(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ai,this._forEachChild(r=>{r.enable(z(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(z(w({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ai||this.status===ur)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ns(this.value,t)),this._events.next(new fr(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(z(w({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Di:Ai}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ur,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=zm(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new fr(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new de,this.statusChanges=new de}_calculateStatus(){return this._allControlsDisabled()?Di:this.errors?Ko:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ur)?ur:this._anyControlsHaveStatus(Ko)?Ko:Ai}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Si(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Ii(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ss(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=N_(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=F_(this._rawAsyncValidators)}},pr=class extends hr{constructor(e,t,r){super(fc(t),mc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Jm(this,!0,e),Object.keys(e).forEach(r=>{Xm(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var cc=class extends pr{};var hc=new B("CallSetDisabledState",{providedIn:"root",factory:()=>as}),as="always";function P_(n,e){return[...e.path,n]}function Rm(n,e,t=as){pc(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),j_(n,e),B_(n,e),V_(n,e),L_(n,e)}function km(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),is(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rs(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function L_(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function pc(n,e){let t=Ym(n);e.validator!==null?n.setValidators(Sm(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Km(n);e.asyncValidator!==null?n.setAsyncValidators(Sm(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();rs(e._rawValidators,i),rs(e._rawAsyncValidators,i)}function is(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Ym(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=Km(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return rs(e._rawValidators,r),rs(e._rawAsyncValidators,r),t}function j_(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&eh(n,e)})}function V_(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&eh(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function eh(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B_(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function U_(n,e){n==null,pc(n,e)}function z_(n,e){return is(n,e)}function H_(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function $_(n){return Object.getPrototypeOf(n.constructor)===Pm}function W_(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function G_(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===en?t=o:$_(o)?r=o:i=o}),i||r||t||null}function q_(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Mm(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Om(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var wn=class extends hr{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(fc(t),mc(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ss(t)&&(t.nonNullable||t.initialValueIsDefault)&&(Om(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Mm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Mm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Om(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Q_=n=>n instanceof wn;var br=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),Z_={provide:uc,useExisting:fn(()=>gc),multi:!0},gc=(()=>{class n extends Pm{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=St(n)))(i||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&H("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[kt([Z_]),rt]})}return n})();var th=new B("");var Y_={provide:mr,useExisting:fn(()=>Cn)},Cn=(()=>{class n extends mr{callSetDisabledState;get submitted(){return Wt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=pt(()=>this._submittedReactive());_submittedReactive=je(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new de;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(is(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Rm(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){km(t.control||null,t,!1),q_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),W_(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ac(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new lc(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(km(r||null,t),Q_(i)&&(Rm(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);U_(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&z_(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pc(this.form,this),this._oldForm&&is(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||n)(I(os,10),I(jm,10),I(hc,8))};static \u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[kt([Y_]),rt,qe]})}return n})();var K_={provide:Ti,useExisting:fn(()=>En)},En=(()=>{class n extends Ti{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new de;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=G_(this,o)}ngOnChanges(t){this._added||this._setUpControl(),H_(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return P_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(I(mr,13),I(os,10),I(jm,10),I(uc,10),I(th,8))};static \u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[kt([K_]),rt,qe]})}return n})();function X_(n){return typeof n=="number"?n:parseFloat(n)}var nh=(()=>{class n{_validator=Xo;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Xo,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ae({type:n,features:[qe]})}return n})();var J_={provide:os,useExisting:fn(()=>vc),multi:!0},vc=(()=>{class n extends nh{min;inputName="min";normalizeInput=t=>X_(t);createValidator=t=>Vm(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=St(n)))(i||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Me("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[kt([J_]),rt]})}return n})(),e0={provide:os,useExisting:fn(()=>Ri),multi:!0};var Ri=(()=>{class n extends nh{required;inputName="required";normalizeInput=$t;createValidator=t=>Bm;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=St(n)))(i||n)}})();static \u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Me("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[kt([e0]),rt]})}return n})();var rh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({})}return n})(),dc=class extends hr{constructor(e,t,r){super(fc(t),mc(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Jm(this,!1,e),e.forEach((r,i)=>{Xm(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Nm(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ls=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return Nm(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new pr(i,o)}record(t,r=null){let i=this._reduceControls(t);return new cc(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Nm(r)?o=r:(o.validators=r,o.asyncValidators=i),new wn(t,z(w({},o),{nonNullable:!0}))):new wn(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new dc(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof wn)return t;if(t instanceof hr)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ih=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hc,useValue:t.callSetDisabledState??as}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[rh]})}return n})(),yr=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:th,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:hc,useValue:t.callSetDisabledState??as}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[rh]})}return n})();var Re=class n{constructor(e,t){this.http=e;this.auth=t}url="http://localhost:3000";httpOptions={headers:new Ve({"Content-Type":"application/json"})};getAuthHeaders(){let e=localStorage.getItem("token");return console.log("Current token:",e),{headers:new Ve({"Content-Type":"application/json",Authorization:`Bearer ${e}`})}}getUnreadNotificationsCount(){let e=`${this.url}/notification/unread/count`;return this.http.get(e,this.getAuthHeaders()).pipe(xe(t=>(console.error("Error getting unread notifications count:",t),N(0))))}getNotifications(){let e=`${this.url}/notification`;return this.http.get(e,this.getAuthHeaders()).pipe(oe(t=>console.log("Fetched notifications:",t)),xe(t=>(console.error("Error fetching notifications:",t),We(()=>t))))}createNotification(e){let t=`${this.url}/notification`;return console.log("Creating notification:",e),this.http.post(t,e,this.getAuthHeaders()).pipe(oe(r=>console.log("Created notification:",r)),xe(r=>(console.error("Error creating notification:",r),We(()=>r))))}markNotificationAsRead(e){let t=`${this.url}/notification/${e}/read`;return this.http.patch(t,{},this.getAuthHeaders()).pipe(xe(r=>(console.error("Error marking notification as read:",r),We(()=>r))))}handleError(e){let t="An error occurred";return e.error instanceof ErrorEvent?t=`Error: ${e.error.message}`:t=`Error Code: ${e.status}
Message: ${e.error?.message||e.message}`,console.error(t),We(()=>new Error(t))}login(e){let t=`${this.url}/auth`;return this.http.post(t,e).pipe(j(r=>{if(!r||!r.token)throw new Error("Invalid response from server");return r}),xe(this.handleError))}signup(e){let t=`${this.url}/signup`;return console.log(e),this.http.post(t,e,this.httpOptions)}getEvents(){let e=`${this.url}/event/`;return this.http.get(e).pipe(j(t=>{if(!t.success||!Array.isArray(t.data))throw new Error("Invalid response format");return t.data}),xe(this.handleError))}getWaiters(){let e=`${this.url}/users/waiters`;return this.http.get(e).pipe(xe(t=>(console.error("Error fetching waiters:",t),We(()=>new Error("Failed to fetch waiters")))))}getEventById(e){let t=`${this.url}/event/${e}`;return this.http.get(t).pipe(j(r=>(console.log("Raw response from server:",r),r.data)),xe(this.handleError))}createEvent(e){return console.log("Creating event with data:",e),this.http.post(`${this.url}/event/`,e,this.httpOptions).pipe(oe(t=>console.log("Server response:",t)),xe(this.handleError))}update(e){let t=`${this.url}/event/${e.id}`;return console.log("Update request headers:",this.getAuthHeaders()),console.log("Update request data:",e),this.http.put(t,e,this.getAuthHeaders()).pipe(oe(r=>console.log("Update response:",r)),xe(r=>(console.error("Update error:",r),We(()=>r))))}delete(e){let t=`${this.url}/event/${e.id}`;return console.log("Deleting event:",e),this.http.delete(t,this.httpOptions).pipe(oe(r=>console.log("Delete response:",r)))}getNotificationById(e){let t=`${this.url}/notification/${e}`;return this.http.get(t,this.httpOptions)}markAllNotificationsAsRead(){let e=`${this.url}/notification/read-all`;return this.http.patch(e,{},this.httpOptions)}deleteNotification(e){let t=`${this.url}/notification/${e}`;return this.http.delete(t,this.httpOptions)}static \u0275fac=function(t){return new(t||n)(O(ti),O(lt))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function t0(n,e){n&1&&(g(0,"span"),E(1,"Email is required"),p())}function n0(n,e){n&1&&(g(0,"span"),E(1,"Please enter a valid email"),p())}function r0(n,e){if(n&1&&(g(0,"div",22),P(1,t0,2,0,"span",23)(2,n0,2,0,"span",23),p()),n&2){let t,r,i=R();C(),A("ngIf",(t=i.loginForm.get("email"))==null||t.errors==null?null:t.errors.required),C(),A("ngIf",(r=i.loginForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function i0(n,e){n&1&&(g(0,"span"),E(1,"Password is required"),p())}function o0(n,e){if(n&1&&(g(0,"div",22),P(1,i0,2,0,"span",23),p()),n&2){let t,r=R();C(),A("ngIf",(t=r.loginForm.get("password"))==null||t.errors==null?null:t.errors.required)}}var cs=class n{constructor(e,t,r,i){this.fb=e;this.router=t;this.restService=r;this.toastr=i;console.log("LoginComponent initialized"),this.loginForm=this.fb.group({email:["",[me.required,me.email]],password:["",[me.required]]})}loginForm;isSubmitting=!1;ngOnInit(){console.log("LoginComponent initialized in ngOnInit")}doLogin(){if(this.loginForm.valid&&!this.isSubmitting){this.isSubmitting=!0;let e={usr:this.loginForm.get("email")?.value,pwd:this.loginForm.get("password")?.value};console.log("Sending login request:",e),this.restService.login(e).subscribe({next:t=>{console.log("Login response:",t),localStorage.setItem("token",t.token),localStorage.setItem("userRole",t.role),this.toastr.success("Login successful"),this.router.navigate(["/events"])},error:t=>{console.error("Login error:",t),this.toastr.error("Invalid credentials"),this.isSubmitting=!1},complete:()=>{this.isSubmitting=!1}})}}static \u0275fac=function(t){return new(t||n)(I(ls),I(Ee),I(Re),I(De))};static \u0275cmp=V({type:n,selectors:[["app-login"]],decls:34,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-lavender-500","dark:bg-true_blue-900"],[1,"w-full","max-w-lg","bg-white","rounded-lg","shadow-xl","dark:border","dark:border-violet_blue-400","md:mt-0","xl:p-0","dark:bg-true_blue-800"],[1,"p-8","space-y-6","md:space-y-8","sm:p-10"],[1,"flex","justify-center","mb-8"],["href","#",1,"text-3xl","font-bold","text-violet_blue-500","dark:text-lavender-500","cursor-pointer","flex","items-center"],[1,"text-2xl","font-bold","leading-tight","tracking-tight","text-true_blue-900","md:text-3xl","dark:text-white","text-center"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","mb-2","text-sm","font-medium","text-true_blue-900","dark:text-lavender-400"],["type","email","formControlName","email","id","email","placeholder","nome@azienda.com","required","",1,"bg-lavender-50","border","border-lavender-200","text-gray-900","rounded-lg","focus:ring-persian_blue-500","focus:border-persian_blue-500","block","w-full","p-3","dark:bg-true_blue-700","dark:border-true_blue-600","dark:text-white","dark:placeholder-lavender-400"],["class","text-violet_blue-600 dark:text-violet_blue-400 text-sm mt-1",4,"ngIf"],["for","password",1,"block","mb-2","text-sm","font-medium","text-true_blue-900","dark:text-lavender-400"],["type","password","formControlName","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-lavender-50","border","border-lavender-200","text-gray-900","rounded-lg","focus:ring-persian_blue-500","focus:border-persian_blue-500","block","w-full","p-3","dark:bg-true_blue-700","dark:border-true_blue-600","dark:text-white","dark:placeholder-lavender-400"],[1,"flex","items-center","justify-between"],[1,"flex","items-start"],[1,"flex","items-center","h-5"],["id","remember","type","checkbox",1,"w-4","h-4","border","border-lavender-300","rounded","bg-lavender-50","focus:ring-3","focus:ring-persian_blue-300","dark:border-true_blue-600","dark:bg-true_blue-700"],[1,"ml-3","text-sm"],["for","remember",1,"text-true_blue-600","dark:text-lavender-400"],["href","#",1,"text-sm","font-medium","text-persian_blue-500","hover:text-persian_blue-600","dark:text-lavender-400","hover:underline"],["type","submit",1,"w-full","text-white","bg-persian_blue-500","hover:bg-persian_blue-600","focus:ring-4","focus:outline-none","focus:ring-persian_blue-300","font-medium","rounded-lg","text-sm","px-6","py-3","text-center","dark:bg-persian_blue-600","dark:hover:bg-persian_blue-700","dark:focus:ring-persian_blue-800","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","duration-200",3,"disabled"],[1,"text-sm","font-light","text-true_blue-600","dark:text-lavender-400","text-center"],["routerLink","/signup",1,"font-medium","text-persian_blue-500","hover:text-persian_blue-600","dark:text-lavender-300","hover:underline","ml-1","transition-colors","duration-200"],[1,"text-violet_blue-600","dark:text-violet_blue-400","text-sm","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),E(5," Catering Management "),p()(),g(6,"h1",5),E(7," Accedi al tuo account "),p(),g(8,"form",6),H("ngSubmit",function(){return r.doLogin()}),g(9,"div")(10,"label",7),E(11," Email "),p(),F(12,"input",8),P(13,r0,3,2,"div",9),p(),g(14,"div")(15,"label",10),E(16," Password "),p(),F(17,"input",11),P(18,o0,2,1,"div",9),p(),g(19,"div",12)(20,"div",13)(21,"div",14),F(22,"input",15),p(),g(23,"div",16)(24,"label",17),E(25,"Ricordami"),p()()(),g(26,"a",18),E(27," Password dimenticata? "),p()(),g(28,"button",19),E(29),p(),g(30,"div",20),E(31," Non hai un account? "),g(32,"a",21),E(33,"Registrati"),p()()()()()()),t&2){let i,o;C(8),A("formGroup",r.loginForm),C(5),A("ngIf",((i=r.loginForm.get("email"))==null?null:i.touched)&&((i=r.loginForm.get("email"))==null?null:i.invalid)),C(5),A("ngIf",((o=r.loginForm.get("password"))==null?null:o.touched)&&((o=r.loginForm.get("password"))==null?null:o.invalid)),C(10),A("disabled",r.loginForm.invalid||r.isSubmitting),C(),le(" ",r.isSubmitting?"Accesso in corso...":"Accedi"," ")}},dependencies:[te,fe,yr,br,en,gr,vr,Ri,Cn,En,lr],encapsulation:2})};function s0(n,e){n&1&&(g(0,"span"),E(1,"Email \xE8 obbligatoria"),p())}function a0(n,e){n&1&&(g(0,"span"),E(1,"Inserisci un'email valida"),p())}function l0(n,e){if(n&1&&(g(0,"div",17),P(1,s0,2,0,"span",18)(2,a0,2,0,"span",18),p()),n&2){let t,r,i=R();C(),A("ngIf",(t=i.signupForm.get("email"))==null||t.errors==null?null:t.errors.required),C(),A("ngIf",(r=i.signupForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function c0(n,e){n&1&&(g(0,"span"),E(1,"Password \xE8 obbligatoria"),p())}function d0(n,e){n&1&&(g(0,"span"),E(1,"Password deve essere almeno di 4 caratteri"),p())}function u0(n,e){n&1&&(g(0,"span"),E(1,"Password non pu\xF2 superare 16 caratteri"),p())}function f0(n,e){if(n&1&&(g(0,"div",17),P(1,c0,2,0,"span",18)(2,d0,2,0,"span",18)(3,u0,2,0,"span",18),p()),n&2){let t,r,i,o=R();C(),A("ngIf",(t=o.signupForm.get("password"))==null||t.errors==null?null:t.errors.required),C(),A("ngIf",(r=o.signupForm.get("password"))==null||r.errors==null?null:r.errors.minlength),C(),A("ngIf",(i=o.signupForm.get("password"))==null||i.errors==null?null:i.errors.maxlength)}}var ds=class n{toastr=D(De);router=D(Ee);restService=D(Re);submitted=!1;signupForm=new pr({email:new wn("",[me.required,me.email]),password:new wn("",[me.required,me.minLength(4),me.maxLength(16)])});doSignUp(){this.signupForm.valid&&!this.submitted?(this.submitted=!0,this.restService.signup({usr:this.signupForm.value.email,pwd:this.signupForm.value.password}).subscribe({next:()=>{this.toastr.success("Registrazione completata!",`Complimenti ${this.signupForm.value.email}!`),this.router.navigateByUrl("/login")},error:e=>{this.toastr.error("Il nome utente scelto \xE8 gi\xE0 stato utilizzato","Errore nella creazione dell'account"),this.submitted=!1}})):this.signupForm.invalid&&(Object.keys(this.signupForm.controls).forEach(e=>{let t=this.signupForm.get(e);t?.invalid&&t.markAsTouched()}),this.toastr.error("I dati forniti non sono validi!","Errore nei dati!"))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-signup"]],decls:28,vars:5,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"w-full","max-w-lg","bg-white","rounded-lg","shadow","dark:border","md:mt-0","xl:p-0","dark:bg-gray-800","dark:border-gray-700"],[1,"p-8","space-y-6","md:space-y-8","sm:p-10"],[1,"flex","justify-center","mb-8"],["href","#",1,"text-3xl","font-bold","text-blue-600","dark:text-white","cursor-pointer","flex","items-center"],[1,"text-2xl","font-bold","leading-tight","tracking-tight","text-gray-900","md:text-3xl","dark:text-white","text-center"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","email",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","email","id","email","formControlName","email","placeholder","nome@mail.com","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-blue-600","focus:border-blue-600","block","w-full","p-3","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","password",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","password","id","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-blue-600","focus:border-blue-600","block","w-full","p-3","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","space-x-4"],["type","button","routerLink","/login",1,"w-1/2","text-gray-900","bg-gray-100","hover:bg-gray-200","focus:ring-4","focus:outline-none","focus:ring-gray-300","font-medium","rounded-lg","text-sm","px-6","py-3","text-center","dark:bg-gray-600","dark:text-white","dark:hover:bg-gray-700"],["type","submit",1,"w-1/2","text-white","bg-blue-600","hover:bg-blue-700","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-6","py-3","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-sm","font-light","text-gray-500","dark:text-gray-400","text-center"],["routerLink","/login",1,"font-medium","text-blue-600","hover:underline","dark:text-blue-500"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"]],template:function(t,r){if(t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),E(5," Catering Management "),p()(),g(6,"h1",5),E(7," Registrati per un nuovo account "),p(),g(8,"form",6),H("ngSubmit",function(){return r.doSignUp()}),g(9,"div")(10,"label",7),E(11,"Email"),p(),F(12,"input",8),P(13,l0,3,2,"div",9),p(),g(14,"div")(15,"label",10),E(16,"Password"),p(),F(17,"input",11),P(18,f0,4,3,"div",9),p(),g(19,"div",12)(20,"button",13),E(21," Annulla "),p(),g(22,"button",14),E(23),p()(),g(24,"p",15),E(25," Hai gi\xE0 un account? "),g(26,"a",16),E(27," Accedi "),p()()()()()()),t&2){let i,o;C(8),A("formGroup",r.signupForm),C(5),A("ngIf",((i=r.signupForm.get("email"))==null?null:i.touched)&&((i=r.signupForm.get("email"))==null?null:i.invalid)),C(5),A("ngIf",((o=r.signupForm.get("password"))==null?null:o.touched)&&((o=r.signupForm.get("password"))==null?null:o.invalid)),C(4),A("disabled",r.signupForm.invalid||r.submitted),C(),le(" ",r.submitted?"Registrazione...":"Registrati"," ")}},dependencies:[te,fe,lr,yr,br,en,gr,vr,Ri,Cn,En],encapsulation:2})};function wc(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var An=wc();function dh(n){An=n}var Oi={exec:()=>null};function J(n,e=""){let t=typeof n=="string"?n:n.source,r={replace:(i,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(Oe.caret,"$1"),t=t.replace(i,s),r},getRegex:()=>new RegExp(t,e)};return r}var Oe={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:n=>new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}#`),htmlBeginRegex:n=>new RegExp(`^ {0,${Math.min(3,n-1)}}<(?:[a-z].*>|!--)`,"i")},m0=/^(?:[ \t]*(?:\n|$))+/,h0=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,p0=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Fi=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,g0=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,uh=/(?:[*+-]|\d{1,9}[.)])/,fh=J(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,uh).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Cc=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,v0=/^[^\n]+/,Ec=/(?!\s*\])(?:\\.|[^\[\]\\])+/,b0=J(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Ec).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),y0=J(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,uh).getRegex(),ms="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xc=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_0=J("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",xc).replace("tag",ms).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),mh=J(Cc).replace("hr",Fi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ms).getRegex(),w0=J(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",mh).getRegex(),Ac={blockquote:w0,code:h0,def:b0,fences:p0,heading:g0,hr:Fi,html:_0,lheading:fh,list:y0,newline:m0,paragraph:mh,table:Oi,text:v0},oh=J("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Fi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ms).getRegex(),C0=z(w({},Ac),{table:oh,paragraph:J(Cc).replace("hr",Fi).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",oh).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ms).getRegex()}),E0=z(w({},Ac),{html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",xc).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Oi,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:J(Cc).replace("hr",Fi).replace("heading",` *#{1,6} *[^
]`).replace("lheading",fh).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),x0=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,A0=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,hh=/^( {2,}|\\)\n(?!\s*$)/,D0=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,hs=/[\p{P}\p{S}]/u,Dc=/[\s\p{P}\p{S}]/u,ph=/[^\s\p{P}\p{S}]/u,S0=J(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,Dc).getRegex(),gh=/(?!~)[\p{P}\p{S}]/u,I0=/(?!~)[\s\p{P}\p{S}]/u,T0=/(?:[^\s\p{P}\p{S}]|~)/u,R0=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,vh=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,k0=J(vh,"u").replace(/punct/g,hs).getRegex(),M0=J(vh,"u").replace(/punct/g,gh).getRegex(),bh="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",O0=J(bh,"gu").replace(/notPunctSpace/g,ph).replace(/punctSpace/g,Dc).replace(/punct/g,hs).getRegex(),N0=J(bh,"gu").replace(/notPunctSpace/g,T0).replace(/punctSpace/g,I0).replace(/punct/g,gh).getRegex(),F0=J("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ph).replace(/punctSpace/g,Dc).replace(/punct/g,hs).getRegex(),P0=J(/\\(punct)/,"gu").replace(/punct/g,hs).getRegex(),L0=J(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),j0=J(xc).replace("(?:-->|$)","-->").getRegex(),V0=J("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",j0).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fs=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,B0=J(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",fs).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),yh=J(/^!?\[(label)\]\[(ref)\]/).replace("label",fs).replace("ref",Ec).getRegex(),_h=J(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ec).getRegex(),U0=J("reflink|nolink(?!\\()","g").replace("reflink",yh).replace("nolink",_h).getRegex(),Sc={_backpedal:Oi,anyPunctuation:P0,autolink:L0,blockSkip:R0,br:hh,code:A0,del:Oi,emStrongLDelim:k0,emStrongRDelimAst:O0,emStrongRDelimUnd:F0,escape:x0,link:B0,nolink:_h,punctuation:S0,reflink:yh,reflinkSearch:U0,tag:V0,text:D0,url:Oi},z0=z(w({},Sc),{link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",fs).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fs).getRegex()}),yc=z(w({},Sc),{emStrongRDelimAst:N0,emStrongLDelim:M0,url:J(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),H0=z(w({},yc),{br:J(hh).replace("{2,}","*").getRegex(),text:J(yc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),us={normal:Ac,gfm:C0,pedantic:E0},ki={normal:Sc,gfm:yc,breaks:H0,pedantic:z0},$0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sh=n=>$0[n];function vt(n,e){if(e){if(Oe.escapeTest.test(n))return n.replace(Oe.escapeReplace,sh)}else if(Oe.escapeTestNoEncode.test(n))return n.replace(Oe.escapeReplaceNoEncode,sh);return n}function ah(n){try{n=encodeURI(n).replace(Oe.percentDecode,"%")}catch{return null}return n}function lh(n,e){let t=n.replace(Oe.findPipe,(o,s,a)=>{let l=!1,c=s;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=t.split(Oe.splitPipe),i=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(Oe.slashPipe,"|");return r}function Mi(n,e,t){let r=n.length;if(r===0)return"";let i=0;for(;i<r&&n.charAt(r-i-1)===e;)i++;return n.slice(0,r-i)}function W0(n,e){if(n.indexOf(e[1])===-1)return-1;let t=0;for(let r=0;r<n.length;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])t++;else if(n[r]===e[1]&&(t--,t<0))return r;return-1}function ch(n,e,t,r,i){let o=e.href,s=e.title||null,a=n[1].replace(i.other.outputLinkReplace,"$1");if(n[0].charAt(0)!=="!"){r.state.inLink=!0;let l={type:"link",raw:t,href:o,title:s,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}return{type:"image",raw:t,href:o,title:s,text:a}}function G0(n,e,t){let r=n.match(t.other.indentCodeCompensation);if(r===null)return e;let i=r[1];return e.split(`
`).map(o=>{let s=o.match(t.other.beginningSpace);if(s===null)return o;let[a]=s;return a.length>=i.length?o.slice(i.length):o}).join(`
`)}var Cr=class{options;rules;lexer;constructor(e){this.options=e||An}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let r=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Mi(r,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let r=t[0],i=G0(r,t[3]||"",this.rules);return{type:"code",raw:r,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let r=t[2].trim();if(this.rules.other.endingHash.test(r)){let i=Mi(r,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(r=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:Mi(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let r=Mi(t[0],`
`).split(`
`),i="",o="",s=[];for(;r.length>0;){let a=!1,l=[],c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))l.push(r[c]),a=!0;else if(!a)l.push(r[c]);else break;r=r.slice(c);let d=l.join(`
`),u=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${d}`:d,o=o?`${o}
${u}`:u;let m=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=m,r.length===0)break;let f=s.at(-1);if(f?.type==="code")break;if(f?.type==="blockquote"){let h=f,y=h.raw+`
`+r.join(`
`),b=this.blockquote(y);s[s.length-1]=b,i=i.substring(0,i.length-h.raw.length)+b.raw,o=o.substring(0,o.length-h.text.length)+b.text;break}else if(f?.type==="list"){let h=f,y=h.raw+`
`+r.join(`
`),b=this.list(y);s[s.length-1]=b,i=i.substring(0,i.length-f.raw.length)+b.raw,o=o.substring(0,o.length-h.raw.length)+b.raw,r=y.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let r=t[1].trim(),i=r.length>1,o={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");let s=this.rules.other.listItemRegex(r),a=!1;for(;e;){let c=!1,d="",u="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;d=t[0],e=e.substring(d.length);let m=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),f=e.split(`
`,1)[0],h=!m.trim(),y=0;if(this.options.pedantic?(y=2,u=m.trimStart()):h?y=t[1].length+1:(y=t[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,u=m.slice(y),y+=t[1].length),h&&this.rules.other.blankLine.test(f)&&(d+=f+`
`,e=e.substring(f.length+1),c=!0),!c){let S=this.rules.other.nextBulletRegex(y),T=this.rules.other.hrRegex(y),L=this.rules.other.fencesBeginRegex(y),se=this.rules.other.headingBeginRegex(y),ce=this.rules.other.htmlBeginRegex(y);for(;e;){let pe=e.split(`
`,1)[0],$;if(f=pe,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),$=f):$=f.replace(this.rules.other.tabCharGlobal,"    "),L.test(f)||se.test(f)||ce.test(f)||S.test(f)||T.test(f))break;if($.search(this.rules.other.nonSpaceChar)>=y||!f.trim())u+=`
`+$.slice(y);else{if(h||m.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(m)||se.test(m)||T.test(m))break;u+=`
`+f}!h&&!f.trim()&&(h=!0),d+=pe+`
`,e=e.substring(pe.length+1),m=$.slice(y)}}o.loose||(a?o.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(a=!0));let b=null,x;this.options.gfm&&(b=this.rules.other.listIsTask.exec(u),b&&(x=b[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:d,task:!!b,checked:x,loose:!1,text:u,tokens:[]}),o.raw+=d}let l=o.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let c=0;c<o.items.length;c++)if(this.lexer.state.top=!1,o.items[c].tokens=this.lexer.blockTokens(o.items[c].text,[]),!o.loose){let d=o.items[c].tokens.filter(m=>m.type==="space"),u=d.length>0&&d.some(m=>this.rules.other.anyLine.test(m.raw));o.loose=u}if(o.loose)for(let c=0;c<o.items.length;c++)o.items[c].loose=!0;return o}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let r=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:r,raw:t[0],href:i,title:o}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let r=lh(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(r.length===i.length){for(let a of i)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<r.length;a++)s.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:s.align[a]});for(let a of o)s.rows.push(lh(a,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let r=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:r,tokens:this.lexer.inline(r)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let r=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;let s=Mi(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{let s=W0(t[2],"()");if(s>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],o="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?i=i.slice(1):i=i.slice(1,-1)),ch(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[i.toLowerCase()];if(!o){let s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return ch(r,o,r[0],this.lexer,this.rules)}}emStrong(e,t,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){let s=[...i[0]].length-1,a,l,c=s,d=0,u=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+s);(i=u.exec(t))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);let m=[...i[0]][0].length,f=e.slice(0,s+i.index+m+l);if(Math.min(s,l)%2){let y=f.slice(1,-1);return{type:"em",raw:f,text:y,tokens:this.lexer.inlineTokens(y)}}let h=f.slice(2,-2);return{type:"strong",raw:f,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let r=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(r),o=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return i&&o&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:t[0],text:r}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let r,i;return t[2]==="@"?(r=t[1],i="mailto:"+r):(r=t[1],i=r),{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let r,i;if(t[2]==="@")r=t[0],i="mailto:"+r;else{let o;do o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(o!==t[0]);r=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let r=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:r}}}},ct=class n{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||An,this.options.tokenizer=this.options.tokenizer||new Cr,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Oe,block:us.normal,inline:ki.normal};this.options.pedantic?(t.block=us.pedantic,t.inline=ki.pedantic):this.options.gfm&&(t.block=us.gfm,this.options.breaks?t.inline=ki.breaks:t.inline=ki.gfm),this.tokenizer.rules=t}static get rules(){return{block:us,inline:ki}}static lex(e,t){return new n(t).lex(e)}static lexInline(e,t){return new n(t).inlineTokens(e)}lex(e){e=e.replace(Oe.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let r=this.inlineQueue[t];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[],r=!1){for(this.options.pedantic&&(e=e.replace(Oe.tabCharGlobal,"    ").replace(Oe.spaceLine,""));e;){let i;if(this.options.extensions?.block?.some(s=>(i=s.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))continue;if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length);let s=t.at(-1);i.raw.length===1&&s!==void 0?s.raw+=`
`:t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.at(-1).src=s.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="paragraph"||s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue.at(-1).src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}let o=e;if(this.options.extensions?.startBlock){let s=1/0,a=e.slice(1),l;this.options.extensions.startBlock.forEach(c=>{l=c.call({lexer:this},a),typeof l=="number"&&l>=0&&(s=Math.min(s,l))}),s<1/0&&s>=0&&(o=e.substring(0,s+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){let s=t.at(-1);r&&s?.type==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length);let s=t.at(-1);s?.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=s.text):t.push(i);continue}if(e){let s="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(s);break}else throw new Error(s)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let r=e,i=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(i=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(i=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,i.index)+"["+"a".repeat(i[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(i=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,i.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let o=!1,s="";for(;e;){o||(s=""),o=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},e,t))?(e=e.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let c=t.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(e,r,s)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),t.push(a);continue}let l=e;if(this.options.extensions?.startInline){let c=1/0,d=e.slice(1),u;this.options.extensions.startInline.forEach(m=>{u=m.call({lexer:this},d),typeof u=="number"&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=e.substring(0,c+1))}if(a=this.tokenizer.inlineText(l)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(s=a.raw.slice(-1)),o=!0;let c=t.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):t.push(a);continue}if(e){let c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}},bt=class{options;parser;constructor(e){this.options=e||An}space(e){return""}code({text:e,lang:t,escaped:r}){let i=(t||"").match(Oe.notSpaceStart)?.[0],o=e.replace(Oe.endingNewline,"")+`
`;return i?'<pre><code class="language-'+vt(i)+'">'+(r?o:vt(o,!0))+`</code></pre>
`:"<pre><code>"+(r?o:vt(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,r=e.start,i="";for(let a=0;a<e.items.length;a++){let l=e.items[a];i+=this.listitem(l)}let o=t?"ol":"ul",s=t&&r!==1?' start="'+r+'"':"";return"<"+o+s+`>
`+i+"</"+o+`>
`}listitem(e){let t="";if(e.task){let r=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+vt(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",r="";for(let o=0;o<e.header.length;o++)r+=this.tablecell(e.header[o]);t+=this.tablerow({text:r});let i="";for(let o=0;o<e.rows.length;o++){let s=e.rows[o];r="";for(let a=0;a<s.length;a++)r+=this.tablecell(s[a]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+t+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${vt(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:r}){let i=this.parser.parseInline(r),o=ah(e);if(o===null)return i;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+vt(t)+'"'),s+=">"+i+"</a>",s}image({href:e,title:t,text:r}){let i=ah(e);if(i===null)return vt(r);e=i;let o=`<img src="${e}" alt="${r}"`;return t&&(o+=` title="${vt(t)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:vt(e.text)}},Ni=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},dt=class n{options;renderer;textRenderer;constructor(e){this.options=e||An,this.options.renderer=this.options.renderer||new bt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Ni}static parse(e,t){return new n(t).parse(e)}static parseInline(e,t){return new n(t).parseInline(e)}parse(e,t=!0){let r="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}let s=o;switch(s.type){case"space":{r+=this.renderer.space(s);continue}case"hr":{r+=this.renderer.hr(s);continue}case"heading":{r+=this.renderer.heading(s);continue}case"code":{r+=this.renderer.code(s);continue}case"table":{r+=this.renderer.table(s);continue}case"blockquote":{r+=this.renderer.blockquote(s);continue}case"list":{r+=this.renderer.list(s);continue}case"html":{r+=this.renderer.html(s);continue}case"paragraph":{r+=this.renderer.paragraph(s);continue}case"text":{let a=s,l=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],l+=`
`+this.renderer.text(a);t?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l,escaped:!0}]}):r+=l;continue}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,t=this.renderer){let r="";for(let i=0;i<e.length;i++){let o=e[i];if(this.options.extensions?.renderers?.[o.type]){let a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){r+=a||"";continue}}let s=o;switch(s.type){case"escape":{r+=t.text(s);break}case"html":{r+=t.html(s);break}case"link":{r+=t.link(s);break}case"image":{r+=t.image(s);break}case"strong":{r+=t.strong(s);break}case"em":{r+=t.em(s);break}case"codespan":{r+=t.codespan(s);break}case"br":{r+=t.br(s);break}case"del":{r+=t.del(s);break}case"text":{r+=t.text(s);break}default:{let a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}},wr=class{options;block;constructor(e){this.options=e||An}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?ct.lex:ct.lexInline}provideParser(){return this.block?dt.parse:dt.parseInline}},_c=class{defaults=wc();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=dt;Renderer=bt;TextRenderer=Ni;Lexer=ct;Tokenizer=Cr;Hooks=wr;constructor(...e){this.use(...e)}walkTokens(e,t){let r=[];for(let i of e)switch(r=r.concat(t.call(this,i)),i.type){case"table":{let o=i;for(let s of o.header)r=r.concat(this.walkTokens(s.tokens,t));for(let s of o.rows)for(let a of s)r=r.concat(this.walkTokens(a.tokens,t));break}case"list":{let o=i;r=r.concat(this.walkTokens(o.items,t));break}default:{let o=i;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{let a=o[s].flat(1/0);r=r.concat(this.walkTokens(a,t))}):o.tokens&&(r=r.concat(this.walkTokens(o.tokens,t)))}}return r}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{let i=w({},r);if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){let s=t.renderers[o.name];s?t.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),i.extensions=t),r.renderer){let o=this.defaults.renderer||new bt(this.defaults);for(let s in r.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let a=s,l=r.renderer[a],c=o[a];o[a]=(...d)=>{let u=l.apply(o,d);return u===!1&&(u=c.apply(o,d)),u||""}}i.renderer=o}if(r.tokenizer){let o=this.defaults.tokenizer||new Cr(this.defaults);for(let s in r.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let a=s,l=r.tokenizer[a],c=o[a];o[a]=(...d)=>{let u=l.apply(o,d);return u===!1&&(u=c.apply(o,d)),u}}i.tokenizer=o}if(r.hooks){let o=this.defaults.hooks||new wr;for(let s in r.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let a=s,l=r.hooks[a],c=o[a];wr.passThroughHooks.has(s)?o[a]=d=>{if(this.defaults.async)return Promise.resolve(l.call(o,d)).then(m=>c.call(o,m));let u=l.call(o,d);return c.call(o,u)}:o[a]=(...d)=>{let u=l.apply(o,d);return u===!1&&(u=c.apply(o,d)),u}}i.hooks=o}if(r.walkTokens){let o=this.defaults.walkTokens,s=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),o&&(l=l.concat(o.call(this,a))),l}}this.defaults=w(w({},this.defaults),i)}),this}setOptions(e){return this.defaults=w(w({},this.defaults),e),this}lexer(e,t){return ct.lex(e,t??this.defaults)}parser(e,t){return dt.parse(e,t??this.defaults)}parseMarkdown(e){return(r,i)=>{let o=w({},i),s=w(w({},this.defaults),o),a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&o.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);let l=s.hooks?s.hooks.provideLexer():e?ct.lex:ct.lexInline,c=s.hooks?s.hooks.provideParser():e?dt.parse:dt.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(d=>l(d,s)).then(d=>s.hooks?s.hooks.processAllTokens(d):d).then(d=>s.walkTokens?Promise.all(this.walkTokens(d,s.walkTokens)).then(()=>d):d).then(d=>c(d,s)).then(d=>s.hooks?s.hooks.postprocess(d):d).catch(a);try{s.hooks&&(r=s.hooks.preprocess(r));let d=l(r,s);s.hooks&&(d=s.hooks.processAllTokens(d)),s.walkTokens&&this.walkTokens(d,s.walkTokens);let u=c(d,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(d){return a(d)}}}onError(e,t){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+vt(r.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(r);throw r}}},xn=new _c;function q(n,e){return xn.parse(n,e)}q.options=q.setOptions=function(n){return xn.setOptions(n),q.defaults=xn.defaults,dh(q.defaults),q};q.getDefaults=wc;q.defaults=An;q.use=function(...n){return xn.use(...n),q.defaults=xn.defaults,dh(q.defaults),q};q.walkTokens=function(n,e){return xn.walkTokens(n,e)};q.parseInline=xn.parseInline;q.Parser=dt;q.parser=dt.parse;q.Renderer=bt;q.TextRenderer=Ni;q.Lexer=ct;q.lexer=ct.lex;q.Tokenizer=Cr;q.Hooks=wr;q.parse=q;var bI=q.options,yI=q.setOptions,_I=q.use,wI=q.walkTokens,CI=q.parseInline;var EI=dt.parse,xI=ct.lex;var q0=["*"],Q0="Copy",Z0="Copied",Y0=(()=>{class n{constructor(){this._buttonClick$=new ie,this.copied$=this._buttonClick$.pipe(Ne(()=>gu(N(!0),pu(3e3).pipe(bu(!1)))),yu(),Cu(1)),this.copiedText$=this.copied$.pipe(Bn(!1),j(t=>t?Z0:Q0))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=V({type:n,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,i){r&1&&(g(0,"button",0),Mt(1,"async"),H("click",function(){return i.onCopyToClipboardClick()}),E(2),Mt(3,"async"),p()),r&2&&(it("copied",Wa(1,3,i.copied$)),C(2),ot(Wa(3,5,i.copiedText$)))},dependencies:[Ku],encapsulation:2,changeDetection:0})}}return n})(),K0=new B("CLIPBOARD_OPTIONS");var Ic=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(Ic||{}),wh=new B("MARKED_EXTENSIONS"),X0=new B("MARKED_OPTIONS"),J0=new B("MERMAID_OPTIONS"),ew="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",tw="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",nw="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",rw="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",iw="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",ow="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",Ch=new B("SECURITY_CONTEXT");var Eh=(()=>{class n{get options(){return this._options}set options(t){this._options=w(w({},this.DEFAULT_MARKED_OPTIONS),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,r,i,o,s,a,l,c){this.clipboardOptions=t,this.extensions=r,this.mermaidOptions=o,this.platform=s,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new bt},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new ie,this.reload$=this._reload$.asObservable(),this.options=i}parse(t,r=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:i,inline:o,emoji:s,mermaid:a,disableSanitizer:l}=r,c=w(w({},this.options),r.markedOptions),d=c.renderer||this.renderer||new bt;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),a&&(this.renderer=this.extendsRendererForMermaid(d));let u=this.trimIndentation(t),m=i?this.decodeHtml(u):u,f=s?this.parseEmoji(m):m,h=this.parseMarked(f,c,o);return(l?h:this.sanitizer.sanitize(this.securityContext,h))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,i){let{clipboard:o,clipboardOptions:s,katex:a,katexOptions:l,mermaid:c,mermaidOptions:d}=r;a&&this.renderKatex(t,w(w({},this.DEFAULT_KATEX_OPTIONS),l)),c&&this.renderMermaid(t,w(w(w({},this.DEFAULT_MERMAID_OPTIONS),this.mermaidOptions),d)),o&&this.renderClipboard(t,i,w(w(w({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),s)),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error(ow);return this.http.get(t,{responseType:"text"}).pipe(j(r=>this.handleExtension(t,r)))}highlight(t){if(!Ot(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);let r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,i=>i.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!Ot(this.platform))return t;let r=document.createElement("textarea");return r.innerHTML=t,r.value}extendsRendererForExtensions(t){let r=t;return r.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&q.use(...this.extensions),r.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){let r=t;if(r.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return t;let i=t.code;return t.code=o=>o.lang==="mermaid"?`<div class="mermaid">${o.text}</div>`:i(o),r.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,r){let i=t.lastIndexOf("://"),o=i>-1?t.substring(i+4):t,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",l=a.lastIndexOf("."),c=l>-1?a.substring(l+1):"";return c&&c!=="md"?"```"+c+`
`+r+"\n```":r}parseMarked(t,r,i=!1){if(r.renderer){let o=w({},r.renderer);delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete r.renderer,q.use({renderer:o})}return i?q.parseInline(t,r):q.parse(t,r)}parseEmoji(t){if(!Ot(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(ew);return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(Ot(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(tw);renderMathInElement(t,r)}}renderClipboard(t,r,i){if(!Ot(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(rw);if(!r)throw new Error(iw);let{buttonComponent:o,buttonTemplate:s}=i,a=t.querySelectorAll("pre");for(let l=0;l<a.length;l++){let c=a.item(l),d=document.createElement("div");d.style.position="relative",c.parentNode.insertBefore(d,c),d.appendChild(c);let u=document.createElement("div");u.classList.add("markdown-clipboard-toolbar"),u.style.position="absolute",u.style.top=".5em",u.style.right=".5em",u.style.zIndex="1",d.insertAdjacentElement("beforeend",u),d.onmouseenter=()=>u.classList.add("hover"),d.onmouseleave=()=>u.classList.remove("hover");let m;if(o){let h=r.createComponent(o);m=h.hostView,h.changeDetectorRef.markForCheck()}else if(s)m=r.createEmbeddedView(s);else{let h=r.createComponent(Y0);m=h.hostView,h.changeDetectorRef.markForCheck()}let f;m.rootNodes.forEach(h=>{u.appendChild(h),f=new ClipboardJS(h,{text:()=>c.innerText})}),m.onDestroy(()=>f.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!Ot(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(nw);let i=t.querySelectorAll(".mermaid");i.length!==0&&(mermaid.initialize(r),mermaid.run({nodes:i}))}trimIndentation(t){if(!t)return"";let r;return t.split(`
`).map(i=>{let o=r;return i.length>0&&(o=isNaN(o)?i.search(/\S|$/):Math.min(i.search(/\S|$/),o)),isNaN(r)&&(r=o),o?i.substring(o):i}).join(`
`)}static{this.\u0275fac=function(r){return new(r||n)(O(K0,8),O(wh,8),O(X0,8),O(J0,8),O(Qe),O(Ch),O(ti,8),O(oi))}}static{this.\u0275prov=k({token:n,factory:n.\u0275fac})}}return n})(),ps=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,r,i){this.element=t,this.markdownService=r,this.viewContainerRef=i,this.error=new de,this.load=new de,this.ready=new de,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new ie}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Un(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){return Br(this,null,function*(){let i={decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},o={clipboard:this.clipboard,clipboardOptions:this.getClipboardOptions(),katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},s=yield this.markdownService.parse(t,i);this.element.nativeElement.innerHTML=s,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,o,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(t){return t!=null&&`${String(t)}`!="false"}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Ic.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Ic.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){let i=t.querySelectorAll("pre");for(let o=0;o<i.length;o++){let s=r instanceof Array?r:[r];i.item(o).classList.add(...s)}}setPluginOptions(t,r){let i=t.querySelectorAll("pre");for(let o=0;o<i.length;o++)Object.keys(r).forEach(s=>{let a=r[s];if(a){let l=this.toLispCase(s);i.item(o).setAttribute(l,a.toString())}})}toLispCase(t){let r=t.match(/([A-Z])/g);if(!r)return t;let i=t.toString();for(let o=0,s=r.length;o<s;o++)i=i.replace(new RegExp(r[o]),"-"+r[o].toLowerCase());return i.slice(0,1)==="-"&&(i=i.slice(1)),i}static{this.\u0275fac=function(r){return new(r||n)(I(Le),I(Eh),I(po))}}static{this.\u0275cmp=V({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[qe],ngContentSelectors:q0,decls:1,vars:0,template:function(r,i){r&1&&(Tt(),Rt(0))},encapsulation:2})}}return n})();function Tc(n){return[Eh,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],n?.mermaidOptions??[],{provide:wh,useValue:n?.markedExtensions??[]},{provide:Ch,useValue:n?.sanitize??nt.HTML}]}var gs=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Tc(t)]}}static forChild(){return{ngModule:n}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Z({type:n})}static{this.\u0275inj=Q({imports:[te]})}}return n})();function sw(n,e){if(n&1){let t=Te();g(0,"div",10)(1,"button",11),H("click",function(){ye(t);let i=R();return _e(i.edit.emit(i.event))}),F(2,"i",12),p(),g(3,"button",13),H("click",function(){ye(t);let i=R();return _e(i.delete.emit(i.event))}),F(4,"i",14),p()()}}function aw(n,e){if(n&1&&(g(0,"div",6),F(1,"i",15),g(2,"span"),E(3),p()()),n&2){let t=R();C(3),ot(t.event.eventLocation)}}function lw(n,e){if(n&1&&(g(0,"div",6),F(1,"i",16),g(2,"span"),E(3),p()()),n&2){let t=R();C(3),le("",t.event.numberOfParticipants," attendees")}}function cw(n,e){if(n&1&&(g(0,"div",17),F(1,"markdown",18),p()),n&2){let t=R();C(),A("data",t.event.eventDescription)}}var vs=class n{event;edit=new de;delete=new de;isMaitre=!1;onDelete(){this.delete.emit(this.event)}onEdit(){this.edit.emit(this.event)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-event-item"]],inputs:{event:"event",isMaitre:"isMaitre"},outputs:{edit:"edit",delete:"delete"},decls:15,vars:9,consts:[[1,"bg-white","dark:bg-secondary","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6"],[1,"flex","justify-between","items-start","mb-4"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["class","flex space-x-2",4,"ngIf"],[1,"space-y-2"],[1,"flex","items-center","text-gray-600","dark:text-gray-300"],[1,"fas","fa-calendar-alt","mr-2"],["class","flex items-center text-gray-600 dark:text-gray-300",4,"ngIf"],["class","text-gray-700 dark:text-gray-300 mt-2",4,"ngIf"],[1,"flex","space-x-2"],[1,"text-primary","hover:text-primary-700","transition-colors",3,"click"],[1,"fas","fa-edit"],[1,"text-red-600","hover:text-red-700","transition-colors",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-map-marker-alt","mr-2"],[1,"fas","fa-users","mr-2"],[1,"text-gray-700","dark:text-gray-300","mt-2"],[3,"data"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),E(4),p(),P(5,sw,5,0,"div",4),p(),g(6,"div",5)(7,"div",6),F(8,"i",7),g(9,"span"),E(10),Mt(11,"date"),p()(),P(12,aw,4,1,"div",8)(13,lw,4,1,"div",8)(14,cw,2,1,"div",9),p()()()),t&2&&(C(4),le(" ",r.event.eventName," "),C(),A("ngIf",r.isMaitre),C(5),ot(Zn(11,6,r.event.eventDate,"medium")),C(2),A("ngIf",r.event.eventLocation),C(),A("ngIf",r.event.numberOfParticipants),C(),A("ngIf",r.event.eventDescription))},dependencies:[te,fe,Kn,gs,ps],styles:["markdown ul{list-style-type:disc;padding-left:2rem;margin:1rem 0}  markdown li{margin:.5rem 0}"]})};function dw(n,e){if(n&1){let t=Te();g(0,"button",11),H("click",function(){ye(t);let i=R();return _e(i.navigateToCreate())}),F(1,"i",12),E(2," Create New Event "),p()}}function uw(n,e){if(n&1){let t=Te();g(0,"app-event-item",13),H("edit",function(i){ye(t);let o=R();return _e(o.onEditEvent(i))})("delete",function(i){ye(t);let o=R();return _e(o.onDeleteEvent(i))}),p()}if(n&2){let t=e.$implicit,r=R();A("event",t)("isMaitre",r.isMaitre)}}function fw(n,e){n&1&&(g(0,"div",14),E(1," No events found "),p())}var bs=class n{constructor(e,t,r){this.restService=e;this.router=t;this.toastr=r;let i=localStorage.getItem("userRole");console.log("Current user role:",i),this.isMaitre=i==="maitre"}events=[];isMaitre=!1;ngOnInit(){this.loadEvents()}loadEvents(){this.restService.getEvents().subscribe({next:e=>{console.log("Loaded events:",e),console.log("Type of events:",typeof e),Array.isArray(e)?console.log("Events is an array"):console.error("Events is not an array"),this.events=e,this.toastr.success("Events loaded successfully")},error:e=>{console.error("Error loading events:",e),this.toastr.error("Failed to load events")}})}navigateToCreate(){this.router.navigate(["/events/create"])}onEditEvent(e){this.isMaitre?this.router.navigate(["/events",e.id,"edit"]):this.toastr.warning("Only maitre can edit events")}onDeleteEvent(e){if(!this.isMaitre){this.toastr.warning("Only maitre can delete events");return}confirm("Are you sure you want to delete this event?")&&this.restService.delete(e).subscribe({next:t=>{this.events=this.events.filter(r=>r.id!==e.id),this.toastr.success("Event deleted successfully")},error:t=>{console.error("Error deleting event:",t),this.toastr.error("Failed to delete event: "+t.message)}})}static \u0275fac=function(t){return new(t||n)(I(Re),I(Ee),I(De))};static \u0275cmp=V({type:n,selectors:[["event-page"]],decls:15,vars:3,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","mb-8","space-y-4","sm:space-y-0"],[1,"text-2xl","font-bold","text-violet_blue-500","dark:text-white"],[1,"text-violet_blue-400","dark:text-gray-400","mt-1"],[1,"flex","space-x-4"],[1,"px-4","py-2","text-violet_blue-700","bg-lavender-200","hover:bg-lavender-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-violet_blue-300","dark:bg-gray-700","dark:text-gray-300","dark:hover:bg-gray-600",3,"click"],[1,"fas","fa-sync-alt","mr-2"],["class",`px-4 py-2 text-white bg-persian_blue-500 hover:bg-persian_blue-600
               rounded-lg focus:outline-none focus:ring-2 focus:ring-persian_blue-400
               flex items-center`,3,"click",4,"ngIf"],[1,"grid","gap-6","md:grid-cols-2","lg:grid-cols-3"],[3,"event","isMaitre","edit","delete",4,"ngFor","ngForOf"],["class","text-center text-violet_blue-400 dark:text-gray-400 py-8",4,"ngIf"],[1,"px-4","py-2","text-white","bg-persian_blue-500","hover:bg-persian_blue-600","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-persian_blue-400","flex","items-center",3,"click"],[1,"fas","fa-plus","mr-2"],[3,"edit","delete","event","isMaitre"],[1,"text-center","text-violet_blue-400","dark:text-gray-400","py-8"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),E(4,"Events"),p(),g(5,"p",3),E(6,"Manage your catering events"),p()(),g(7,"div",4)(8,"button",5),H("click",function(){return r.loadEvents()}),F(9,"i",6),E(10," Refresh "),p(),P(11,dw,3,0,"button",7),p()(),g(12,"div",8),P(13,uw,1,2,"app-event-item",9),p(),P(14,fw,2,0,"div",10),p()),t&2&&(C(11),A("ngIf",r.isMaitre===!0),C(2),A("ngForOf",r.events),C(),A("ngIf",r.events.length===0))},dependencies:[te,Gt,fe,vs],encapsulation:2})};var ys=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-homepage"]],decls:2,vars:0,template:function(t,r){t&1&&(g(0,"p"),E(1,"homepage works!"),p())},encapsulation:2})};var Er=class n{notification;accept=new de;decline=new de;onAccept(){this.accept.emit()}onDecline(){this.decline.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-notification-detail"]],inputs:{notification:"notification"},outputs:{accept:"accept",decline:"decline"},decls:13,vars:5,consts:[[1,"bg-white","p-4","rounded-lg","shadow","mb-4"],[1,"flex","justify-between","items-start"],[1,"text-gray-800"],[1,"text-sm","text-gray-500"],[1,"flex","space-x-2"],[1,"px-4","py-2","bg-green-500","text-white","rounded","hover:bg-green-600",3,"click"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600",3,"click"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),E(4),p(),g(5,"p",3),E(6),Mt(7,"date"),p()(),g(8,"div",4)(9,"button",5),H("click",function(){return r.onAccept()}),E(10," Accept "),p(),g(11,"button",6),H("click",function(){return r.onDecline()}),E(12," Decline "),p()()()()),t&2&&(C(4),ot(r.notification==null?null:r.notification.NotificationContent),C(2),ot(Zn(7,2,r.notification==null?null:r.notification.createdAt,"medium")))},dependencies:[te,Kn],encapsulation:2})};function mw(n,e){if(n&1){let t=Te();g(0,"app-notification-detail",5),H("accept",function(){let i=ye(t).$implicit,o=R();return _e(o.handleAccept(i))})("decline",function(){let i=ye(t).$implicit,o=R();return _e(o.handleDecline(i))}),p()}if(n&2){let t=e.$implicit;A("notification",t)}}function hw(n,e){n&1&&(g(0,"p",6),E(1," No notifications "),p())}var _s=class n{constructor(e,t){this.restService=e;this.toastr=t}notifications=[];ngOnInit(){this.loadNotifications()}loadNotifications(){console.log("Loading notifications..."),this.restService.getNotifications().subscribe({next:e=>{console.log("Received notifications:",e),this.notifications=e},error:e=>{console.error("Error loading notifications:",e),this.toastr.error("Failed to load notifications")}})}handleAccept(e){e.id&&this.restService.markNotificationAsRead(e.id).subscribe({next:()=>{this.toastr.success("You have accepted the invitation"),this.loadNotifications()},error:t=>{console.error("Error accepting invitation:",t),this.toastr.error("Failed to accept invitation")}})}handleDecline(e){e.id&&this.restService.markNotificationAsRead(e.id).subscribe({next:()=>{this.toastr.info("You have declined the invitation"),this.loadNotifications()},error:t=>{console.error("Error declining invitation:",t),this.toastr.error("Failed to decline invitation")}})}static \u0275fac=function(t){return new(t||n)(I(Re),I(De))};static \u0275cmp=V({type:n,selectors:[["app-notification-page"]],decls:6,vars:2,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"text-2xl","font-bold","mb-6"],[1,"space-y-4"],[3,"notification","accept","decline",4,"ngFor","ngForOf"],["class","text-gray-500 text-center",4,"ngIf"],[3,"accept","decline","notification"],[1,"text-gray-500","text-center"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"h2",1),E(2,"Notifications"),p(),g(3,"div",2),P(4,mw,1,1,"app-notification-detail",3),p(),P(5,hw,2,0,"p",4),p()),t&2&&(C(4),A("ngForOf",r.notifications),C(),A("ngIf",r.notifications.length===0))},dependencies:[te,Gt,fe,Er],encapsulation:2})};var Rc;try{Rc=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Rc=!1}var ws=(()=>{class n{_platformId=D(Qe);isBrowser=this._platformId?Ot(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Rc)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kc(n){return Array.isArray(n)?n:[n]}var Ah=new Set,Dn,pw=(()=>{class n{_platform=D(ws);_nonce=D(Hr,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vw}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&gw(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gw(n,e){if(!Ah.has(n))try{Dn||(Dn=document.createElement("style"),e&&Dn.setAttribute("nonce",e),Dn.setAttribute("type","text/css"),document.head.appendChild(Dn)),Dn.sheet&&(Dn.sheet.insertRule(`@media ${n} {body{ }}`,0),Ah.add(n))}catch(t){console.error(t)}}function vw(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var Sh=(()=>{class n{_mediaMatcher=D(pw);_zone=D(ge);_queries=new Map;_destroySubject=new ie;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Dh(kc(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=Dh(kc(t)).map(s=>this._registerQuery(s).observable),o=zr(i);return o=uo(o.pipe(Ht(1)),o.pipe(Eu(1),vu(0))),o.pipe(j(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Ur(s=>{let a=l=>this._zone.run(()=>s.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Bn(r),j(({matches:s})=>({query:t,matches:s})),Un(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dh(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Sn=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Sn||{}),Ih="cdk-high-contrast-black-on-white",Th="cdk-high-contrast-white-on-black",Mc="cdk-high-contrast-active",Rh=(()=>{class n{_platform=D(ws);_hasCheckedHighContrastMode;_document=D(ue);_breakpointSubscription;constructor(){this._breakpointSubscription=D(Sh).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Sn.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Sn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Sn.BLACK_ON_WHITE}return Sn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Mc,Ih,Th),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Sn.BLACK_ON_WHITE?t.add(Mc,Ih):r===Sn.WHITE_ON_BLACK&&t.add(Mc,Th)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Oc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({})}return n})();var Se=(()=>{class n{constructor(){D(Rh)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Oc,Oc]})}return n})();var kh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Se,Se]})}return n})();var Mh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Se,Se]})}return n})();var Oh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Se,kh,Se]})}return n})();var Nh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Se,Se]})}return n})();var Fh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Se,Se]})}return n})();var Cs=class n{router=D(Ee);static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-main"]],decls:28,vars:0,consts:[[1,"w-full","bg-violet_blue-500","shadow-lg"],[1,"container","mx-auto","px-4","py-4"],[1,"text-white","flex","items-center","gap-4"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"h-8","w-8"],["cx","12","cy","12","r","10"],["d","M8 14s1.5 2 4 2 4-2 4-2"],["x1","9","y1","9","x2","9.01","y2","9"],["x1","15","y1","9","x2","15.01","y2","9"],[1,"text-2xl","font-semibold"],[1,"container","mx-auto","px-4"],[1,"flex","flex-col","lg:flex-row","justify-between","items-start","mt-16","gap-12"],[1,"max-w-2xl","lg:w-1/2"],[1,"text-5xl","mb-4","text-true_blue-500","dark:text-lavender-500"],[1,"block","text-3xl","font-normal","text-true_blue-400","dark:text-lavender-400","mt-2"],[1,"mt-8"],["href","/login",1,"inline-flex","items-center","gap-2","px-6","py-3","bg-persian_blue-500","hover:bg-persian_blue-600","text-white","rounded-lg","transition-colors","duration-200","shadow-lg","hover:shadow-xl"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-4","w-4"],["fill-rule","evenodd","d","M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"lg:w-1/2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["src","assets/public/preview.png","alt","preview",1,"w-full","h-auto","shadow-xl",2,"max-height","300px","object-fit","contain"],["src","assets/public/edit-preview.jpg","alt","edit-preview",1,"w-full","h-auto","shadow-xl",2,"max-height","300px","object-fit","contain"],["src","assets/public/calendar-preview.jpg","alt","third preview",1,"w-full","h-auto","shadow-xl",2,"max-height","300px","object-fit","contain"],["src","assets/public/event-calendar-preview.jpg","alt","fourth preview",1,"w-full","h-auto","shadow-xl",2,"max-height","300px","object-fit","contain"]],template:function(t,r){t&1&&(g(0,"header",0)(1,"div",1)(2,"div",2),La(),g(3,"svg",3),F(4,"circle",4)(5,"path",5)(6,"line",6)(7,"line",7),p(),ja(),g(8,"span",8),E(9,"CATERING MANAGEMENT"),p()()()(),g(10,"div",9)(11,"div",10)(12,"div",11)(13,"h1",12),E(14," Welcome to Catering Management. "),g(15,"span",13),E(16," This is your all-in-one solution for catering operations. "),p()(),g(17,"div",14)(18,"a",15),E(19," Log in "),La(),g(20,"svg",16),F(21,"path",17),p()()()(),ja(),g(22,"div",18)(23,"div",19),F(24,"img",20)(25,"img",21)(26,"img",22)(27,"img",23),p()()()())},dependencies:[Mh,Oh,Nh,Fh],styles:[".welcome-page[_ngcontent-%COMP%]{min-height:100vh;--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));padding:2rem}.welcome-page[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.welcome-page[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]:hover{--tw-translate-y: -.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]{border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;align-items:center;justify-content:space-between}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.75rem;font-weight:600;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse));--tw-divide-opacity: 1;border-color:rgb(243 244 246 / var(--tw-divide-opacity, 1))}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:.75rem}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-text[_ngcontent-%COMP%]{flex:1 1 auto}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-text[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;font-weight:500;--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.welcome-page[_ngcontent-%COMP%]   .activity-card[_ngcontent-%COMP%]   .activity-list[_ngcontent-%COMP%]   .activity-item[_ngcontent-%COMP%]   .activity-content[_ngcontent-%COMP%]   .activity-text[_ngcontent-%COMP%]   .activity-meta[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.75rem;line-height:1rem;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}","body[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 224 244 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){body[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(215 224 239 / var(--tw-bg-opacity, 1))}}"]})};var Es=n=>({"border-red-500":n});function yw(n,e){n&1&&(g(0,"div"),E(1,"Event name is required"),p())}function _w(n,e){n&1&&(g(0,"div"),E(1,"Event name must be at least 3 characters"),p())}function ww(n,e){if(n&1&&(g(0,"div",25),P(1,yw,2,0,"div",26)(2,_w,2,0,"div",26),p()),n&2){let t=R();C(),A("ngIf",t.eventName==null||t.eventName.errors==null?null:t.eventName.errors.required),C(),A("ngIf",t.eventName==null||t.eventName.errors==null?null:t.eventName.errors.minlength)}}function Cw(n,e){n&1&&(g(0,"div"),E(1,"Event date is required"),p())}function Ew(n,e){if(n&1&&(g(0,"div",25),P(1,Cw,2,0,"div",26),p()),n&2){let t=R();C(),A("ngIf",t.eventDate==null||t.eventDate.errors==null?null:t.eventDate.errors.required)}}function xw(n,e){n&1&&(g(0,"div"),E(1,"Location is required"),p())}function Aw(n,e){n&1&&(g(0,"div"),E(1,"Location must be at least 3 characters"),p())}function Dw(n,e){if(n&1&&(g(0,"div",25),P(1,xw,2,0,"div",26)(2,Aw,2,0,"div",26),p()),n&2){let t=R();C(),A("ngIf",t.eventLocation==null||t.eventLocation.errors==null?null:t.eventLocation.errors.required),C(),A("ngIf",t.eventLocation==null||t.eventLocation.errors==null?null:t.eventLocation.errors.minlength)}}function Sw(n,e){n&1&&(g(0,"div"),E(1,"Number of participants is required"),p())}function Iw(n,e){n&1&&(g(0,"div"),E(1,"Must be at least 1 participant"),p())}function Tw(n,e){if(n&1&&(g(0,"div",25),P(1,Sw,2,0,"div",26)(2,Iw,2,0,"div",26),p()),n&2){let t=R();C(),A("ngIf",t.numberOfParticipants==null||t.numberOfParticipants.errors==null?null:t.numberOfParticipants.errors.required),C(),A("ngIf",t.numberOfParticipants==null||t.numberOfParticipants.errors==null?null:t.numberOfParticipants.errors.min)}}function Rw(n,e){n&1&&(g(0,"div"),E(1,"Description cannot exceed 500 characters"),p())}function kw(n,e){if(n&1&&(g(0,"div",25),P(1,Rw,2,0,"div",26),p()),n&2){let t=R();C(),A("ngIf",t.eventDescription==null||t.eventDescription.errors==null?null:t.eventDescription.errors.maxlength)}}function Mw(n,e){if(n&1&&(g(0,"div",27)(1,"label",18),E(2," Preview "),p(),g(3,"div",28),F(4,"markdown",29),p()()),n&2){let t,r=R();C(4),A("data",(t=r.eventForm.get("eventDescription"))==null?null:t.value)}}function Ow(n,e){if(n&1){let t=Te();g(0,"div",30)(1,"input",31),H("change",function(i){let o=ye(t).$implicit,s=R();return _e(s.onWaiterSelectionChange(i,o.usr))}),p(),g(2,"label",32),E(3),p()()}if(n&2){let t=e.$implicit,r=R();C(),A("value",t.usr)("checked",r.isWaiterSelected(t.usr)),C(2),le(" ",t.usr," ")}}var Pi=class n{constructor(e,t,r,i,o){this.fb=e;this.router=t;this.route=r;this.restService=i;this.toastr=o;this.initForm()}eventForm;isSubmitting=!1;eventId;isEditing=!1;waiters=[];get eventName(){return this.eventForm.get("eventName")}get eventDate(){return this.eventForm.get("eventDate")}get eventLocation(){return this.eventForm.get("eventLocation")}get numberOfParticipants(){return this.eventForm.get("numberOfParticipants")}get eventDescription(){return this.eventForm.get("eventDescription")}initForm(){this.eventForm=this.fb.group({eventName:["",[me.required,me.minLength(3)]],eventDate:["",[me.required,this.futureDateValidator()]],numberOfParticipants:["",[me.required,me.min(1)]],eventLocation:["",[me.required,me.minLength(3)]],eventDescription:["",[me.maxLength(500)]],selectedWaiters:this.fb.array([])})}get selectedWaitersFormArray(){return this.eventForm.get("selectedWaiters")}ngOnInit(){this.loadWaiters(),this.route.params.subscribe(e=>{e.id&&(this.eventId=+e.id,this.isEditing=!0,this.loadEventData(this.eventId))})}loadWaiters(){this.restService.getWaiters().subscribe({next:e=>{this.waiters=e,console.log("Loaded waiters:",e)},error:e=>{console.error("Error loading waiters:",e),this.toastr.error("Failed to load waiters")}})}loadEventData(e){this.restService.getEventById(e).subscribe({next:t=>{console.log("Original event data:",t);let r="";t.eventDate&&(r=new Date(t.eventDate).toISOString().slice(0,16)),this.eventForm.patchValue({eventName:t.eventName,eventDate:r,eventLocation:t.eventLocation,numberOfParticipants:t.numberOfParticipants,eventDescription:t.eventDescription||""});let i=t.Users?.map(o=>o.usr)||[];this.eventForm.patchValue({selectedWaiters:i})},error:t=>{console.error("Error loading event:",t),this.toastr.error("Failed to load event data"),this.router.navigate(["/events"])}})}onWaiterSelectionChange(e,t){let r=this.selectedWaitersFormArray;if(e.target.checked)r.push(this.fb.control(t));else{let i=r.controls.findIndex(o=>o.value===t);i>=0&&r.removeAt(i)}}onSubmit(){if(this.eventForm.valid&&!this.isSubmitting){this.isSubmitting=!0;let e=this.eventForm.get("selectedWaiters")?.value||[];console.log("Selected waiters:",e);let t={id:this.eventId,eventName:this.eventForm.get("eventName")?.value,eventDate:new Date(this.eventForm.get("eventDate")?.value),eventLocation:this.eventForm.get("eventLocation")?.value,numberOfParticipants:this.eventForm.get("numberOfParticipants")?.value,eventDescription:this.eventForm.get("eventDescription")?.value,Users:e.map(i=>({usr:i,pwd:"",role:"waiter"}))};(this.isEditing?this.restService.update(t):this.restService.createEvent(t)).subscribe({next:i=>{if(this.toastr.success(this.isEditing?"Event updated successfully":"Event created successfully"),e.length>0){let o=this.isEditing?"updated":"created";e.forEach(s=>{this.toastr.info(`Waiter ${s} has been assigned to the ${o} event "${t.eventName}"`,"Waiter Assignment")})}this.router.navigate(["/events"])},error:i=>{console.error("Error saving event:",i),this.toastr.error(this.isEditing?"Failed to update event":"Failed to create event"),this.isSubmitting=!1}})}}futureDateValidator(){return e=>e.value&&new Date(e.value)<=new Date?{futureDate:!0}:null}goBack(){this.router.navigate(["/events"])}isWaiterSelected(e){return this.selectedWaitersFormArray.controls.some(t=>t.value===e)}static \u0275fac=function(t){return new(t||n)(I(ls),I(Ee),I(Pt),I(Re),I(De))};static \u0275cmp=V({type:n,selectors:[["app-event-creation-form"]],decls:44,vars:23,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"max-w-2xl","mx-auto","bg-white","dark:bg-secondary","rounded-lg","shadow-md","p-6"],[1,"text-2xl","font-bold","mb-6","text-gray-900","dark:text-white"],[1,"space-y-6",3,"ngSubmit","formGroup"],["for","eventName",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-200","mb-2"],["type","text","id","eventName","formControlName","eventName","placeholder","Enter event name",1,"w-full","p-3","border","rounded-lg",3,"ngClass"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","eventDate",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-200","mb-2"],["type","datetime-local","id","eventDate","formControlName","eventDate","step","any",1,"w-full","p-3","border","rounded-lg",3,"ngClass"],["for","eventLocation",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-200","mb-2"],["type","text","id","eventLocation","formControlName","eventLocation","placeholder","Enter event location",1,"w-full","p-3","border","rounded-lg",3,"ngClass"],["for","numberOfParticipants",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-200","mb-2"],["type","number","id","numberOfParticipants","formControlName","numberOfParticipants","min","1","placeholder","Enter number of participants",1,"w-full","p-3","border","rounded-lg",3,"ngClass"],["for","eventDescription",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-200","mb-2"],["id","eventDescription","formControlName","eventDescription","rows","4","placeholder","Enter event description (supports Markdown formatting)",1,"w-full","p-3","border","rounded-lg"],[1,"text-sm","text-gray-500","mt-1"],["class","mt-4",4,"ngIf"],[1,"mt-6"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-200","mb-2"],[1,"mt-2","space-y-2"],[1,"grid","grid-cols-2","gap-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","justify-end","space-x-4"],["type","button",1,"px-4","py-2","text-gray-700","bg-gray-200","rounded-lg","hover:bg-gray-300",3,"click"],["type","submit",1,"px-4","py-2","text-white","bg-blue-600","rounded-lg","hover:bg-blue-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"text-red-500","text-sm","mt-1"],[4,"ngIf"],[1,"mt-4"],[1,"p-3","bg-gray-50","rounded-lg"],[3,"data"],[1,"flex","items-center"],["type","checkbox",1,"h-4","w-4","text-persian_blue-600","focus:ring-persian_blue-500","border-gray-300","rounded",3,"change","value","checked"],[1,"ml-2","block","text-sm","text-gray-900","dark:text-gray-300"]],template:function(t,r){if(t&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),E(3),p(),g(4,"form",3),H("ngSubmit",function(){return r.onSubmit()}),g(5,"div")(6,"label",4),E(7," Event Name * "),p(),F(8,"input",5),P(9,ww,3,2,"div",6),p(),g(10,"div")(11,"label",7),E(12," Event Date * "),p(),F(13,"input",8),P(14,Ew,2,1,"div",6),p(),g(15,"div")(16,"label",9),E(17," Location * "),p(),F(18,"input",10),P(19,Dw,3,2,"div",6),p(),g(20,"div")(21,"label",11),E(22," Number of Participants * "),p(),F(23,"input",12),P(24,Tw,3,2,"div",6),p(),g(25,"div")(26,"label",13),E(27," Description (Markdown supported) "),p(),F(28,"textarea",14),g(29,"div",15),E(30," Supports Markdown: **bold**, *italic*, - list items, # headers, etc. "),p(),P(31,kw,2,1,"div",6),p(),P(32,Mw,5,1,"div",16),g(33,"div",17)(34,"label",18),E(35," Assign Waiters "),p(),g(36,"div",19)(37,"div",20),P(38,Ow,4,3,"div",21),p()()(),g(39,"div",22)(40,"button",23),H("click",function(){return r.goBack()}),E(41," Cancel "),p(),g(42,"button",24),E(43),p()()()()()),t&2){let i;C(3),le(" ",r.isEditing?"Edit Event":"Create New Event"," "),C(),A("formGroup",r.eventForm),C(4),A("ngClass",Ye(15,Es,(r.eventName==null?null:r.eventName.invalid)&&(r.eventName==null?null:r.eventName.touched))),C(),A("ngIf",(r.eventName==null?null:r.eventName.invalid)&&(r.eventName==null?null:r.eventName.touched)),C(4),A("ngClass",Ye(17,Es,(r.eventDate==null?null:r.eventDate.invalid)&&(r.eventDate==null?null:r.eventDate.touched))),C(),A("ngIf",(r.eventDate==null?null:r.eventDate.invalid)&&(r.eventDate==null?null:r.eventDate.touched)),C(4),A("ngClass",Ye(19,Es,(r.eventLocation==null?null:r.eventLocation.invalid)&&(r.eventLocation==null?null:r.eventLocation.touched))),C(),A("ngIf",(r.eventLocation==null?null:r.eventLocation.invalid)&&(r.eventLocation==null?null:r.eventLocation.touched)),C(4),A("ngClass",Ye(21,Es,(r.numberOfParticipants==null?null:r.numberOfParticipants.invalid)&&(r.numberOfParticipants==null?null:r.numberOfParticipants.touched))),C(),A("ngIf",(r.numberOfParticipants==null?null:r.numberOfParticipants.invalid)&&(r.numberOfParticipants==null?null:r.numberOfParticipants.touched)),C(7),A("ngIf",(r.eventDescription==null?null:r.eventDescription.invalid)&&(r.eventDescription==null?null:r.eventDescription.touched)),C(),A("ngIf",(i=r.eventForm.get("eventDescription"))==null?null:i.value),C(6),A("ngForOf",r.waiters),C(4),A("disabled",r.eventForm.invalid||r.isSubmitting),C(),le(" ",r.isSubmitting?"Saving...":r.isEditing?"Update Event":"Create Event"," ")}},dependencies:[te,wo,Gt,fe,yr,br,en,gc,gr,vr,vc,Cn,En,gs,ps],encapsulation:2})};var Is,M,Bh,Fc,xr,In,Ph,Uh,zh,As={},Hh=[],Nw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function tn(n,e){for(var t in e)n[t]=e[t];return n}function $h(n){var e=n.parentNode;e&&e.removeChild(n)}function v(n,e,t){var r,i,o,s={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:s[o]=e[o];if(arguments.length>2&&(s.children=arguments.length>3?Is.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)s[o]===void 0&&(s[o]=n.defaultProps[o]);return xs(n,s,r,i,null)}function xs(n,e,t,r,i){var o={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Bh};return i==null&&M.vnode!=null&&M.vnode(o),o}function ze(){return{current:null}}function ee(n){return n.children}function Fw(n,e,t,r,i){var o;for(o in t)o==="children"||o==="key"||o in e||Ds(n,o,null,t[o],r);for(o in e)i&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||t[o]===e[o]||Ds(n,o,e[o],t[o],r)}function Lh(n,e,t){e[0]==="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||Nw.test(e)?t:t+"px"}function Ds(n,e,t,r,i){var o;e:if(e==="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||Lh(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||Lh(n.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in n?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+o]=t,t?r||n.addEventListener(e,o?Vh:jh,o):n.removeEventListener(e,o?Vh:jh,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?n.removeAttribute(e):n.setAttribute(e,t))}}function jh(n){xr=!0;try{return this.l[n.type+!1](M.event?M.event(n):n)}finally{xr=!1}}function Vh(n){xr=!0;try{return this.l[n.type+!0](M.event?M.event(n):n)}finally{xr=!1}}function Ie(n,e){this.props=n,this.context=e}function Li(n,e){if(e==null)return n.__?Li(n.__,n.__.__k.indexOf(n)+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Li(n):null}function Wh(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return Wh(n)}}function Pw(n){xr?setTimeout(n):Uh(n)}function Nc(n){(!n.__d&&(n.__d=!0)&&In.push(n)&&!Ss.__r++||Ph!==M.debounceRendering)&&((Ph=M.debounceRendering)||Pw)(Ss)}function Ss(){var n,e,t,r,i,o,s,a;for(In.sort(function(l,c){return l.__v.__b-c.__v.__b});n=In.shift();)n.__d&&(e=In.length,r=void 0,i=void 0,s=(o=(t=n).__v).__e,(a=t.__P)&&(r=[],(i=tn({},o)).__v=o.__v+1,Pc(a,o,i,t.__n,a.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s??Li(o),o.__h),Yh(r,o),o.__e!=s&&Wh(o)),In.length>e&&In.sort(function(l,c){return l.__v.__b-c.__v.__b}));Ss.__r=0}function Gh(n,e,t,r,i,o,s,a,l,c){var d,u,m,f,h,y,b,x=r&&r.__k||Hh,S=x.length;for(t.__k=[],d=0;d<e.length;d++)if((f=t.__k[d]=(f=e[d])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?xs(null,f,null,null,f):Array.isArray(f)?xs(ee,{children:f},null,null,null):f.__b>0?xs(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=t,f.__b=t.__b+1,(m=x[d])===null||m&&f.key==m.key&&f.type===m.type)x[d]=void 0;else for(u=0;u<S;u++){if((m=x[u])&&f.key==m.key&&f.type===m.type){x[u]=void 0;break}m=null}Pc(n,f,m=m||As,i,o,s,a,l,c),h=f.__e,(u=f.ref)&&m.ref!=u&&(b||(b=[]),m.ref&&b.push(m.ref,null,f),b.push(u,f.__c||h,f)),h!=null?(y==null&&(y=h),typeof f.type=="function"&&f.__k===m.__k?f.__d=l=qh(f,l,n):l=Qh(n,f,m,x,h,l),typeof t.type=="function"&&(t.__d=l)):l&&m.__e==l&&l.parentNode!=n&&(l=Li(m))}for(t.__e=y,d=S;d--;)x[d]!=null&&(typeof t.type=="function"&&x[d].__e!=null&&x[d].__e==t.__d&&(t.__d=Zh(r).nextSibling),Xh(x[d],x[d]));if(b)for(d=0;d<b.length;d++)Kh(b[d],b[++d],b[++d])}function qh(n,e,t){for(var r,i=n.__k,o=0;i&&o<i.length;o++)(r=i[o])&&(r.__=n,e=typeof r.type=="function"?qh(r,e,t):Qh(t,r,r,i,r.__e,e));return e}function ji(n,e){return e=e||[],n==null||typeof n=="boolean"||(Array.isArray(n)?n.some(function(t){ji(t,e)}):e.push(n)),e}function Qh(n,e,t,r,i,o){var s,a,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==n)n.appendChild(i),s=null;else{for(a=o,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;n.insertBefore(i,o),s=o}return s!==void 0?s:i.nextSibling}function Zh(n){var e,t,r;if(n.type==null||typeof n.type=="string")return n.__e;if(n.__k){for(e=n.__k.length-1;e>=0;e--)if((t=n.__k[e])&&(r=Zh(t)))return r}return null}function Pc(n,e,t,r,i,o,s,a,l){var c,d,u,m,f,h,y,b,x,S,T,L,se,ce,pe,$=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,a=e.__e=t.__e,e.__h=null,o=[a]),(c=M.__b)&&c(e);try{e:if(typeof $=="function"){if(b=e.props,x=(c=$.contextType)&&r[c.__c],S=c?x?x.props.value:c.__:r,t.__c?y=(d=e.__c=t.__c).__=d.__E:("prototype"in $&&$.prototype.render?e.__c=d=new $(b,S):(e.__c=d=new Ie(b,S),d.constructor=$,d.render=jw),x&&x.sub(d),d.props=b,d.state||(d.state={}),d.context=S,d.__n=r,u=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),$.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=tn({},d.__s)),tn(d.__s,$.getDerivedStateFromProps(b,d.__s))),m=d.props,f=d.state,d.__v=e,u)$.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if($.getDerivedStateFromProps==null&&b!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(b,S),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(b,d.__s,S)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(d.props=b,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(co){co&&(co.__=e)}),T=0;T<d._sb.length;T++)d.__h.push(d._sb[T]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(b,d.__s,S),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,f,h)})}if(d.context=S,d.props=b,d.__P=n,L=M.__r,se=0,"prototype"in $&&$.prototype.render){for(d.state=d.__s,d.__d=!1,L&&L(e),c=d.render(d.props,d.state,d.context),ce=0;ce<d._sb.length;ce++)d.__h.push(d._sb[ce]);d._sb=[]}else do d.__d=!1,L&&L(e),c=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++se<25);d.state=d.__s,d.getChildContext!=null&&(r=tn(tn({},r),d.getChildContext())),u||d.getSnapshotBeforeUpdate==null||(h=d.getSnapshotBeforeUpdate(m,f)),pe=c!=null&&c.type===ee&&c.key==null?c.props.children:c,Gh(n,Array.isArray(pe)?pe:[pe],e,t,r,i,o,s,a,l),d.base=e.__e,e.__h=null,d.__h.length&&s.push(d),y&&(d.__E=d.__=null),d.__e=!1}else o==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Lw(t.__e,e,t,r,i,o,s,l);(c=M.diffed)&&c(e)}catch(co){e.__v=null,(l||o!=null)&&(e.__e=a,e.__h=!!l,o[o.indexOf(a)]=null),M.__e(co,e,t)}}function Yh(n,e){M.__c&&M.__c(e,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(r){r.call(t)})}catch(r){M.__e(r,t.__v)}})}function Lw(n,e,t,r,i,o,s,a){var l,c,d,u=t.props,m=e.props,f=e.type,h=0;if(f==="svg"&&(i=!0),o!=null){for(;h<o.length;h++)if((l=o[h])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){n=l,o[h]=null;break}}if(n==null){if(f===null)return document.createTextNode(m);n=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,m.is&&m),o=null,a=!1}if(f===null)u===m||a&&n.data===m||(n.data=m);else{if(o=o&&Is.call(n.childNodes),c=(u=t.props||As).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!a){if(o!=null)for(u={},h=0;h<n.attributes.length;h++)u[n.attributes[h].name]=n.attributes[h].value;(d||c)&&(d&&(c&&d.__html==c.__html||d.__html===n.innerHTML)||(n.innerHTML=d&&d.__html||""))}if(Fw(n,m,u,i,a),d)e.__k=[];else if(h=e.props.children,Gh(n,Array.isArray(h)?h:[h],e,t,r,i&&f!=="foreignObject",o,s,o?o[0]:t.__k&&Li(t,0),a),o!=null)for(h=o.length;h--;)o[h]!=null&&$h(o[h]);a||("value"in m&&(h=m.value)!==void 0&&(h!==n.value||f==="progress"&&!h||f==="option"&&h!==u.value)&&Ds(n,"value",h,u.value,!1),"checked"in m&&(h=m.checked)!==void 0&&h!==n.checked&&Ds(n,"checked",h,u.checked,!1))}return n}function Kh(n,e,t){try{typeof n=="function"?n(e):n.current=e}catch(r){M.__e(r,t)}}function Xh(n,e,t){var r,i;if(M.unmount&&M.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||Kh(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){M.__e(o,e)}r.base=r.__P=null,n.__c=void 0}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&Xh(r[i],e,t||typeof n.type!="function");t||n.__e==null||$h(n.__e),n.__=n.__e=n.__d=void 0}function jw(n,e,t){return this.constructor(n,t)}function nn(n,e,t){var r,i,o;M.__&&M.__(n,e),i=(r=typeof t=="function")?null:t&&t.__k||e.__k,o=[],Pc(e,n=(!r&&t||e).__k=v(ee,null,[n]),i||As,As,e.ownerSVGElement!==void 0,!r&&t?[t]:i?null:e.firstChild?Is.call(e.childNodes):null,o,!r&&t?t:i?i.__e:e.firstChild,r),Yh(o,n)}function Ts(n,e){var t={__c:e="__cC"+zh++,__:n,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(function(a){a.__e=!0,Nc(a)})},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}Is=Hh.slice,M={__e:function(n,e,t,r){for(var i,o,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(n)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),s=i.__d),s)return i.__E=i}catch(a){n=a}throw n}},Bh=0,Fc=function(n){return n!=null&&n.constructor===void 0},xr=!1,Ie.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=tn({},this.state),typeof n=="function"&&(n=n(tn({},t),this.props)),n&&tn(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),Nc(this))},Ie.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Nc(this))},Ie.prototype.render=ee,In=[],Uh=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ss.__r=0,zh=0;var Bw,yt,Lc,Jh;var sp=[],jc=[],ep=M.__b,tp=M.__r,np=M.diffed,rp=M.__c,ip=M.unmount;function Uw(){for(var n;n=sp.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Rs),n.__H.__h.forEach(Vc),n.__H.__h=[]}catch(e){n.__H.__h=[],M.__e(e,n.__v)}}M.__b=function(n){yt=null,ep&&ep(n)},M.__r=function(n){tp&&tp(n),Bw=0;var e=(yt=n.__c).__H;e&&(Lc===yt?(e.__h=[],yt.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=jc,t.__N=t.i=void 0})):(e.__h.forEach(Rs),e.__h.forEach(Vc),e.__h=[])),Lc=yt},M.diffed=function(n){np&&np(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(sp.push(e)!==1&&Jh===M.requestAnimationFrame||((Jh=M.requestAnimationFrame)||zw)(Uw)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==jc&&(t.__=t.__V),t.i=void 0,t.__V=jc})),Lc=yt=null},M.__c=function(n,e){e.some(function(t){try{t.__h.forEach(Rs),t.__h=t.__h.filter(function(r){return!r.__||Vc(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],M.__e(r,t.__v)}}),rp&&rp(n,e)},M.unmount=function(n){ip&&ip(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{Rs(r)}catch(i){e=i}}),t.__H=void 0,e&&M.__e(e,t.__v))};var op=typeof requestAnimationFrame=="function";function zw(n){var e,t=function(){clearTimeout(r),op&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);op&&(e=requestAnimationFrame(t))}function Rs(n){var e=yt,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),yt=e}function Vc(n){var e=yt;n.__c=n.__(),yt=e}function Hw(n,e){for(var t in e)n[t]=e[t];return n}function ap(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function lp(n){this.props=n}(lp.prototype=new Ie).isPureReactComponent=!0,lp.prototype.shouldComponentUpdate=function(n,e){return ap(this.props,n)||ap(this.state,e)};var cp=M.__b;M.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),cp&&cp(n)};var ZR=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var $w=M.__e;M.__e=function(n,e,t,r){if(n.then){for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(n,e)}$w(n,e,t,r)};var dp=M.unmount;function gp(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=Hw({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return gp(r,e,t)})),n}function vp(n,e,t){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return vp(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=t)),n}function Bc(){this.__u=0,this.t=null,this.__b=null}function bp(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function ks(){this.u=null,this.o=null}M.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&n.__h===!0&&(n.type=null),dp&&dp(n)},(Bc.prototype=new Ie).__c=function(n,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var i=bp(r.__v),o=!1,s=function(){o||(o=!0,t.__R=null,i?i(a):a())};t.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var c=r.state.__a;r.__v.__k[0]=vp(c,c.__c.__P,c.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(s,s)},Bc.prototype.componentWillUnmount=function(){this.t=[]},Bc.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=gp(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&v(ee,null,n.fallback);return i&&(i.__h=null),[v(ee,null,e.__a?null:n.children),i]};var up=function(n,e,t){if(++t[1]===t[0]&&n.o.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.o.size))for(t=n.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.u=t=t[2]}};function Ww(n){return this.getChildContext=function(){return n.context},n.children}function Gw(n){var e=this,t=n.i;e.componentWillUnmount=function(){nn(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),n.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),nn(v(Ww,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function yp(n,e){var t=v(Gw,{__v:n,i:e});return t.containerInfo=e,t}(ks.prototype=new Ie).__a=function(n){var e=this,t=bp(e.__v),r=e.o.get(n);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),up(e,n,r)):i()};t?t(o):o()}},ks.prototype.render=function(n){this.u=null,this.o=new Map;var e=ji(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return n.children},ks.prototype.componentDidUpdate=ks.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(e,t){up(n,t,e)})};var qw=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Qw=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Zw=typeof document<"u",Yw=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(n)};Ie.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(Ie.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var fp=M.event;function Kw(){}function Xw(){return this.cancelBubble}function Jw(){return this.defaultPrevented}M.event=function(n){return fp&&(n=fp(n)),n.persist=Kw,n.isPropagationStopped=Xw,n.isDefaultPrevented=Jw,n.nativeEvent=n};var eC,mp={configurable:!0,get:function(){return this.class}},hp=M.vnode;M.vnode=function(n){var e=n.type,t=n.props,r=t;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var o in r={},t){var s=t[o];Zw&&o==="children"&&e==="noscript"||o==="value"&&"defaultValue"in t&&s==null||(o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&s===!0?s="":/ondoubleclick/i.test(o)?o="ondblclick":/^onchange(textarea|input)/i.test(o+e)&&!Yw(t.type)?o="oninput":/^onfocus$/i.test(o)?o="onfocusin":/^onblur$/i.test(o)?o="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(o)?o=o.toLowerCase():i&&Qw.test(o)?o=o.replace(/[A-Z0-9]/g,"-$&").toLowerCase():s===null&&(s=void 0),/^oninput$/i.test(o)&&(o=o.toLowerCase(),r[o]&&(o="oninputCapture")),r[o]=s)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ji(t.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=ji(t.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),n.props=r,t.class!=t.className&&(mp.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",mp))}n.$$typeof=qw,hp&&hp(n)};var pp=M.__r;M.__r=function(n){pp&&pp(n),eC=n.__c};var Op=[],qc=new Map;function Js(n){Op.push(n),qc.forEach(e=>{Pp(e,n)})}function Np(n){n.isConnected&&n.getRootNode&&Fp(n.getRootNode())}function Fp(n){let e=qc.get(n);if(!e||!e.isConnected){if(e=n.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let t=nC();t&&(e.nonce=t);let r=n===document?document.head:n,i=n===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}qc.set(n,e),tC(e)}}function tC(n){for(let e of Op)Pp(n,e)}function Pp(n,e){let{sheet:t}=n,r=t.cssRules.length;e.split("}").forEach((i,o)=>{i=i.trim(),i&&t.insertRule(i+"}",r+o)})}var Uc;function nC(){return Uc===void 0&&(Uc=rC()),Uc}function rC(){let n=document.querySelector('meta[name="csp-nonce"]');if(n&&n.hasAttribute("content"))return n.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Fp(document);var iC=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';Js(iC);var Rn=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:r}=this;e in r&&(t?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function Lp(n){n.parentNode&&n.parentNode.removeChild(n)}function ut(n,e){if(n.closest)return n.closest(e);if(!document.documentElement.contains(n))return null;do{if(jp(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function jp(n,e){return(n.matches||n.matchesSelector||n.msMatchesSelector).call(n,e)}function Vp(n,e){let t=n instanceof HTMLElement?[n]:n,r=[];for(let i=0;i<t.length;i+=1){let o=t[i].querySelectorAll(e);for(let s=0;s<o.length;s+=1)r.push(o[s])}return r}var oC=/(top|left|right|bottom|width|height)$/i;function Bp(n,e){for(let t in e)ld(n,t,e[t])}function ld(n,e,t){t==null?n.style[e]="":typeof t=="number"&&oC.test(e)?n.style[e]=`${t}px`:n.style[e]=t}function Up(n){var e,t;return(t=(e=n.composedPath)===null||e===void 0?void 0:e.call(n)[0])!==null&&t!==void 0?t:n.target}var _p=0;function Nn(){return _p+=1,"fc-dom-"+_p}function sC(n,e){return t=>{let r=ut(t.target,n);r&&e.call(r,t,r)}}function cd(n,e,t,r){let i=sC(t,r);return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}function zp(n,e,t,r){let i;return cd(n,"mouseover",e,(o,s)=>{if(s!==i){i=s,t(o,s);let a=l=>{i=null,r(l,s),s.removeEventListener("mouseleave",a)};s.addEventListener("mouseleave",a)}})}function Hp(n){return Object.assign({onClick:n},$p(n))}function $p(n){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(n(e),e.preventDefault())}}}var wp=0;function Vt(){return wp+=1,String(wp)}function Wp(n){let e=[],t=[],r,i;for(typeof n=="string"?t=n.split(/\s*,\s*/):typeof n=="function"?t=[n]:Array.isArray(n)&&(t=n),r=0;r<t.length;r+=1)i=t[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Gp(n,e,t){let r,i;for(r=0;r<t.length;r+=1)if(i=aC(n,e,t[r]),i)return i;return 0}function aC(n,e,t){return t.func?t.func(n,e):qp(n[t.field],e[t.field])*(t.order||1)}function qp(n,e){return!n&&!e?0:e==null?-1:n==null?1:typeof n=="string"||typeof e=="string"?String(n).localeCompare(String(e)):n-e}function Ls(n,e){let t=String(n);return"000".substr(0,e-t.length)+t}function Mr(n,e,t){return typeof n=="function"?n(...e):typeof n=="string"?e.reduce((r,i,o)=>r.replace("$"+o,i||""),n):t}function js(n){return n%1===0}function lC(n){let e=n.querySelector(".fc-scrollgrid-shrink-frame"),t=n.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return n.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}var cC=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Y(n,e){return typeof n=="string"?dC(n):typeof n=="object"&&n?Cp(n):typeof n=="number"?Cp({[e||"milliseconds"]:n}):null}function dC(n){let e=cC.exec(n);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function Cp(n){let e={years:n.years||n.year||0,months:n.months||n.month||0,days:n.days||n.day||0,milliseconds:(n.hours||n.hour||0)*60*60*1e3+(n.minutes||n.minute||0)*60*1e3+(n.seconds||n.second||0)*1e3+(n.milliseconds||n.millisecond||n.ms||0)},t=n.weeks||n.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function uC(n,e){return n.years===e.years&&n.months===e.months&&n.days===e.days&&n.milliseconds===e.milliseconds}function Qp(n,e){return{years:n.years-e.years,months:n.months-e.months,days:n.days-e.days,milliseconds:n.milliseconds-e.milliseconds}}function fC(n){return Ar(n)/365}function mC(n){return Ar(n)/30}function Ar(n){return Dr(n)/864e5}function Dr(n){return n.years*(365*864e5)+n.months*(30*864e5)+n.days*864e5+n.milliseconds}function Bi(n){let e=n.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return n.days?n.specifiedWeeks&&n.days%7===0?{unit:"week",value:n.days/7}:{unit:"day",value:n.days}:n.months?{unit:"month",value:n.months}:n.years?{unit:"year",value:n.years}:{unit:"millisecond",value:0}}function Ct(n,e,t){if(n===e)return!0;let r=n.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(t?t(n[i],e[i]):n[i]===e[i]))return!1;return!0}var hC=["sun","mon","tue","wed","thu","fri","sat"];function ea(n,e){let t=on(n);return t[2]+=e*7,Fe(t)}function we(n,e){let t=on(n);return t[2]+=e,Fe(t)}function wt(n,e){let t=on(n);return t[6]+=e,Fe(t)}function dd(n,e){return Fn(n,e)/7}function Fn(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60*24)}function pC(n,e){return(e.valueOf()-n.valueOf())/(1e3*60*60)}function gC(n,e){return(e.valueOf()-n.valueOf())/(1e3*60)}function vC(n,e){return(e.valueOf()-n.valueOf())/1e3}function Zp(n,e){let t=ne(n),r=ne(e);return{years:0,months:0,days:Math.round(Fn(t,r)),milliseconds:e.valueOf()-r.valueOf()-(n.valueOf()-t.valueOf())}}function Yp(n,e){let t=Sr(n,e);return t!==null&&t%7===0?t/7:null}function Sr(n,e){return sn(n)===sn(e)?Math.round(Fn(n,e)):null}function ne(n){return Fe([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()])}function bC(n){return Fe([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours()])}function yC(n){return Fe([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes()])}function _C(n){return Fe([n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds()])}function wC(n,e,t){let r=n.getUTCFullYear(),i=zc(n,r,e,t);if(i<1)return zc(n,r-1,e,t);let o=zc(n,r+1,e,t);return o>=1?Math.min(i,o):i}function zc(n,e,t,r){let i=Fe([e,0,1+CC(e,t,r)]),o=ne(n),s=Math.round(Fn(i,o));return Math.floor(s/7)+1}function CC(n,e,t){let r=7+e-t;return-((7+Fe([n,0,r]).getUTCDay()-e)%7)+r-1}function Ep(n){return[n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()]}function xp(n){return new Date(n[0],n[1]||0,n[2]==null?1:n[2],n[3]||0,n[4]||0,n[5]||0)}function on(n){return[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()]}function Fe(n){return n.length===1&&(n=n.concat([0])),new Date(Date.UTC(...n))}function ud(n){return!isNaN(n.valueOf())}function sn(n){return n.getUTCHours()*1e3*60*60+n.getUTCMinutes()*1e3*60+n.getUTCSeconds()*1e3+n.getUTCMilliseconds()}function Kp(n,e,t=!1){let r=n.toISOString();return r=r.replace(".000",""),t&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",md(e,!0)))),r}function ro(n){return n.toISOString().replace(/T.*$/,"")}function fd(n){return n.toISOString().match(/^\d{4}-\d{2}/)[0]}function md(n,e=!1){let t=n<0?"-":"+",r=Math.abs(n),i=Math.floor(r/60),o=Math.round(r%60);return e?`${t+Ls(i,2)}:${Ls(o,2)}`:`GMT${t}${i}${o?`:${Ls(o,2)}`:""}`}function W(n,e,t){let r,i;return function(...o){if(!r)i=n.apply(this,o);else if(!Ct(r,o)){t&&t(i);let s=n.apply(this,o);(!e||!e(s,i))&&(i=s)}return r=o,i}}function Or(n,e,t){let r,i;return o=>{if(!r)i=n.call(this,o);else if(!He(r,o)){t&&t(i);let s=n.call(this,o);(!e||!e(s,i))&&(i=s)}return r=o,i}}var Ap={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Us={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Ms=/\s*([ap])\.?m\.?/i,EC=/,/g,xC=/\s+/g,AC=/\u200e/g,DC=/UTC|GMT/,Qc=class{constructor(e){let t={},r={},i=0;for(let o in e)o in Ap?(r[o]=e[o],i=Math.max(Ap[o],i)):(t[o]=e[o],o in Us&&(i=Math.max(Us[o],i)));this.standardDateProps=t,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=W(Dp)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,r,i){let{standardDateProps:o,extendedSettings:s}=this,a=MC(e.marker,t.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(o.year==="numeric"||o.year==="2-digit")&&(o.month==="numeric"||o.month==="2-digit")&&(o.day==="numeric"||o.day==="2-digit")&&(l=1);let c=this.format(e,r),d=this.format(t,r);if(c===d)return c;let u=OC(o,l),m=Dp(u,s,r),f=m(e),h=m(t),y=NC(c,f,d,h),b=s.separator||i||r.defaultSeparator||"";return y?y.before+f+b+h+y.after:c+b+d}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function Dp(n,e,t){let r=Object.keys(n).length;return r===1&&n.timeZoneName==="short"?i=>md(i.timeZoneOffset):r===0&&e.week?i=>kC(t.computeWeekNumber(i.marker),t.weekText,t.weekTextLong,t.locale,e.week):SC(n,e,t)}function SC(n,e,t){n=Object.assign({},n),e=Object.assign({},e),IC(n,e),n.timeZone="UTC";let r=new Intl.DateTimeFormat(t.locale.codes,n),i;if(e.omitZeroMinute){let o=Object.assign({},n);delete o.minute,i=new Intl.DateTimeFormat(t.locale.codes,o)}return o=>{let{marker:s}=o,a;i&&!s.getUTCMinutes()?a=i:a=r;let l=a.format(s);return TC(l,o,n,e,t)}}function IC(n,e){n.timeZoneName&&(n.hour||(n.hour="2-digit"),n.minute||(n.minute="2-digit")),n.timeZoneName==="long"&&(n.timeZoneName="short"),e.omitZeroMinute&&(n.second||n.millisecond)&&delete e.omitZeroMinute}function TC(n,e,t,r,i){return n=n.replace(AC,""),t.timeZoneName==="short"&&(n=RC(n,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":md(e.timeZoneOffset))),r.omitCommas&&(n=n.replace(EC,"").trim()),r.omitZeroMinute&&(n=n.replace(":00","")),r.meridiem===!1?n=n.replace(Ms,"").trim():r.meridiem==="narrow"?n=n.replace(Ms,(o,s)=>s.toLocaleLowerCase()):r.meridiem==="short"?n=n.replace(Ms,(o,s)=>`${s.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(n=n.replace(Ms,o=>o.toLocaleLowerCase())),n=n.replace(xC," "),n=n.trim(),n}function RC(n,e){let t=!1;return n=n.replace(DC,()=>(t=!0,e)),t||(n+=` ${e}`),n}function kC(n,e,t,r,i){let o=[];return i==="long"?o.push(t):(i==="short"||i==="narrow")&&o.push(e),(i==="long"||i==="short")&&o.push(" "),o.push(r.simpleNumberFormat.format(n)),r.options.direction==="rtl"&&o.reverse(),o.join("")}function MC(n,e,t){return t.getMarkerYear(n)!==t.getMarkerYear(e)?5:t.getMarkerMonth(n)!==t.getMarkerMonth(e)?4:t.getMarkerDay(n)!==t.getMarkerDay(e)?2:sn(n)!==sn(e)?1:0}function OC(n,e){let t={};for(let r in n)(!(r in Us)||Us[r]<=e)&&(t[r]=n[r]);return t}function NC(n,e,t,r){let i=0;for(;i<n.length;){let o=n.indexOf(e,i);if(o===-1)break;let s=n.substr(0,o);i=o+e.length;let a=n.substr(i),l=0;for(;l<t.length;){let c=t.indexOf(r,l);if(c===-1)break;let d=t.substr(0,c);l=c+r.length;let u=t.substr(l);if(s===d&&a===u)return{before:s,after:a}}}return null}function Sp(n,e){let t=e.markerToArray(n.marker);return{marker:n.marker,timeZoneOffset:n.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function zs(n,e,t,r){let i=Sp(n,t.calendarSystem),o=e?Sp(e,t.calendarSystem):null;return{date:i,start:i,end:o,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:r||t.defaultSeparator}}var Zc=class{constructor(e){this.cmdStr=e}format(e,t,r){return t.cmdFormatter(this.cmdStr,zs(e,null,t,r))}formatRange(e,t,r,i){return r.cmdFormatter(this.cmdStr,zs(e,t,r,i))}},Yc=class{constructor(e){this.func=e}format(e,t,r){return this.func(zs(e,null,t,r))}formatRange(e,t,r,i){return this.func(zs(e,t,r,i))}};function he(n){return typeof n=="object"&&n?new Qc(n):typeof n=="string"?new Zc(n):typeof n=="function"?new Yc(n):null}var hd={navLinkDayClick:_,navLinkWeekClick:_,duration:Y,bootstrapFontAwesome:_,buttonIcons:_,customButtons:_,defaultAllDayEventDuration:Y,defaultTimedEventDuration:Y,nextDayThreshold:Y,scrollTime:Y,scrollTimeReset:Boolean,slotMinTime:Y,slotMaxTime:Y,dayPopoverFormat:he,slotDuration:Y,snapDuration:Y,headerToolbar:_,footerToolbar:_,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:he,dayHeaderClassNames:_,dayHeaderContent:_,dayHeaderDidMount:_,dayHeaderWillUnmount:_,dayCellClassNames:_,dayCellContent:_,dayCellDidMount:_,dayCellWillUnmount:_,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:_,weekNumbers:Boolean,weekNumberClassNames:_,weekNumberContent:_,weekNumberDidMount:_,weekNumberWillUnmount:_,editable:Boolean,viewClassNames:_,viewDidMount:_,viewWillUnmount:_,nowIndicator:Boolean,nowIndicatorClassNames:_,nowIndicatorContent:_,nowIndicatorDidMount:_,nowIndicatorWillUnmount:_,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:_,locale:_,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:_,eventOrder:Wp,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:_,contentHeight:_,direction:String,weekNumberFormat:he,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:_,initialDate:_,now:_,eventDataTransform:_,stickyHeaderDates:_,stickyFooterScrollbar:_,viewHeight:_,defaultAllDay:Boolean,eventSourceFailure:_,eventSourceSuccess:_,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:_,eventConstraint:_,eventAllow:_,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:_,eventContent:_,eventDidMount:_,eventWillUnmount:_,selectConstraint:_,selectOverlap:_,selectAllow:_,droppable:Boolean,unselectCancel:String,slotLabelFormat:_,slotLaneClassNames:_,slotLaneContent:_,slotLaneDidMount:_,slotLaneWillUnmount:_,slotLabelClassNames:_,slotLabelContent:_,slotLabelDidMount:_,slotLabelWillUnmount:_,dayMaxEvents:_,dayMaxEventRows:_,dayMinWidth:Number,slotLabelInterval:Y,allDayText:String,allDayClassNames:_,allDayContent:_,allDayDidMount:_,allDayWillUnmount:_,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:he,rerenderDelay:Number,moreLinkText:_,moreLinkHint:_,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:_,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Y,hiddenDays:_,fixedWeekCount:Boolean,validRange:_,visibleRange:_,titleFormat:_,eventInteractive:Boolean,noEventsText:String,viewHint:_,navLinkHint:_,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:_,moreLinkClassNames:_,moreLinkContent:_,moreLinkDidMount:_,moreLinkWillUnmount:_,monthStartFormat:he,handleCustomRendering:_,customRenderingMetaMap:_,customRenderingReplaces:Boolean},Pn={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},pd={datesSet:_,eventsSet:_,eventAdd:_,eventChange:_,eventRemove:_,windowResize:_,eventClick:_,eventMouseEnter:_,eventMouseLeave:_,select:_,unselect:_,loading:_,_unmount:_,_beforeprint:_,_afterprint:_,_noEventDrop:_,_noEventResize:_,_resize:_,_scrollRequest:_},gd={buttonText:_,buttonHints:_,views:_,plugins:_,initialEvents:_,events:_,eventSources:_},cn={headerToolbar:Tn,footerToolbar:Tn,buttonText:Tn,buttonHints:Tn,buttonIcons:Tn,dateIncrement:Tn,plugins:Os,events:Os,eventSources:Os,resources:Os};function Tn(n,e){return typeof n=="object"&&typeof e=="object"&&n&&e?He(n,e):n===e}function Os(n,e){return Array.isArray(n)&&Array.isArray(e)?Ct(n,e):n===e}var Xp={type:String,component:_,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:_,usesMinMaxTime:Boolean,classNames:_,content:_,didMount:_,willUnmount:_};function ta(n){return ra(n,cn)}function na(n,e){let t={},r={};for(let i in e)i in n&&(t[i]=e[i](n[i]));for(let i in n)i in e||(r[i]=n[i]);return{refined:t,extra:r}}function _(n){return n}var{hasOwnProperty:Hs}=Object.prototype;function ra(n,e){let t={};if(e){for(let r in e)if(e[r]===Tn){let i=[];for(let o=n.length-1;o>=0;o-=1){let s=n[o][r];if(typeof s=="object"&&s)i.unshift(s);else if(s!==void 0){t[r]=s;break}}i.length&&(t[r]=ra(i))}}for(let r=n.length-1;r>=0;r-=1){let i=n[r];for(let o in i)o in t||(t[o]=i[o])}return t}function an(n,e){let t={};for(let r in n)e(n[r],r)&&(t[r]=n[r]);return t}function Ln(n,e){let t={};for(let r in n)t[r]=e(n[r],r);return t}function vd(n){let e={};for(let t of n)e[t]=!0;return e}function ia(n){let e=[];for(let t in n)e.push(n[t]);return e}function He(n,e){if(n===e)return!0;for(let t in n)if(Hs.call(n,t)&&!(t in e))return!1;for(let t in e)if(Hs.call(e,t)&&n[t]!==e[t])return!1;return!0}var FC=/^on[A-Z]/;function PC(n,e){let t=Kc(n,e);for(let r of t)if(!FC.test(r))return!1;return!0}function Kc(n,e){let t=[];for(let r in n)Hs.call(n,r)&&(r in e||t.push(r));for(let r in e)Hs.call(e,r)&&n[r]!==e[r]&&t.push(r);return t}function Vs(n,e,t={}){if(n===e)return!0;for(let r in e)if(!(r in n&&LC(n[r],e[r],t[r])))return!1;for(let r in n)if(!(r in e))return!1;return!0}function LC(n,e,t){return n===e||t===!0?!0:t?t(n,e):!1}function Jp(n,e=0,t,r=1){let i=[];t==null&&(t=Object.keys(n).length);for(let o=e;o<t;o+=r){let s=n[o];s!==void 0&&i.push(s)}return i}var eg={};function jC(n,e){eg[n]=e}function VC(n){return new eg[n]}var Xc=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return Fe(e)}markerToArray(e){return on(e)}};jC("gregory",Xc);var BC=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function tg(n){let e=BC.exec(n);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(ud(t)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var Ui=class{constructor(e){let t=this.timeZone=e.timeZone,r=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=VC(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):Fe(Ep(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=Fe(e)),t===null||!ud(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=tg(e);if(t===null)return null;let{marker:r}=t,i=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-t.timeZoneOffset*60*1e3):i=t.timeZoneOffset),{marker:r,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t.years,r[1]+=t.months,r[2]+=t.days,r[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]-=t.years,r[1]-=t.months,r[2]-=t.days,r[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,t){let r=this.calendarSystem.markerToArray(e);return r[0]+=t,this.calendarSystem.arrayToMarker(r)}addMonths(e,t){let r=this.calendarSystem.markerToArray(e);return r[1]+=t,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,t){let{calendarSystem:r}=this;return sn(e)===sn(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)&&r.getMarkerMonth(e)===r.getMarkerMonth(t)?r.getMarkerYear(t)-r.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:r}=this;return sn(e)===sn(t)&&r.getMarkerDay(e)===r.getMarkerDay(t)?r.getMarkerMonth(t)-r.getMarkerMonth(e)+(r.getMarkerYear(t)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let r=this.diffWholeYears(e,t);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,t),r!==null?{unit:"month",value:r}:(r=Yp(e,t),r!==null?{unit:"week",value:r}:(r=Sr(e,t),r!==null?{unit:"day",value:r}:(r=pC(e,t),js(r)?{unit:"hour",value:r}:(r=gC(e,t),js(r)?{unit:"minute",value:r}:(r=vC(e,t),js(r)?{unit:"second",value:r}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,r){let i;return r.years&&(i=this.diffWholeYears(e,t),i!==null)?i/fC(r):r.months&&(i=this.diffWholeMonths(e,t),i!==null)?i/mC(r):r.days&&(i=Sr(e,t),i!==null)?i/Ar(r):(t.valueOf()-e.valueOf())/Dr(r)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?ne(e):t==="hour"?bC(e):t==="minute"?yC(e):t==="second"?_C(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):wC(e,this.weekDow,this.weekDoy)}format(e,t,r={}){return t.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,r,i={}){return i.isEndExclusive&&(t=wt(t,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(t)},this,i.defaultSeparator)}formatIso(e,t={}){let r=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?r=t.forcedTzo:r=this.offsetForMarker(e)),Kp(e,r,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?Fe(Ep(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):Fe(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-xp(on(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(on(e)):null}toDate(e,t){return this.timeZone==="local"?xp(on(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(on(e))*1e3*60):new Date(e.valueOf()-(t||0))}},Lt=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,r;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(r in e)t[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let r;return t&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}};Lt.prototype.classes={};Lt.prototype.iconClasses={};Lt.prototype.baseIconClass="";Lt.prototype.iconOverridePrefix="";function zi(n){n();let e=M.debounceRendering,t=[];function r(i){t.push(i)}for(M.debounceRendering=r,nn(v(Jc,{}),document.createElement("div"));t.length;)t.shift()();M.debounceRendering=e}var Jc=class extends Ie{render(){return v("div",{})}componentDidMount(){this.setState({})}};function ng(n){let e=Ts(n),t=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=t.apply(this,arguments);if(r){let o=[];this.shouldComponentUpdate=s=>{this.props.value!==s.value&&o.forEach(a=>{a.context=s.value,a.forceUpdate()})},this.sub=s=>{o.push(s);let a=s.componentWillUnmount;s.componentWillUnmount=()=>{o.splice(o.indexOf(s),1),a&&a.call(s)}}}return i},e}var $s=class{constructor(e,t,r,i){this.execFunc=e,this.emitter=t,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=o=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},o),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Bt=ng({});function rg(n,e,t,r,i,o,s,a,l,c,d,u,m){return{dateEnv:i,options:t,pluginHooks:s,emitter:c,dispatch:a,getCurrentData:l,calendarApi:d,viewSpec:n,viewApi:e,dateProfileGenerator:r,theme:o,isRtl:t.direction==="rtl",addResizeHandler(f){c.on("_resize",f)},removeResizeHandler(f){c.off("_resize",f)},createScrollResponder(f){return new $s(f,c,Y(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:u,unregisterInteractiveComponent:m}}var io=(()=>{class n extends Ie{shouldComponentUpdate(t,r){return this.debug&&console.log(Kc(t,this.props),Kc(r,this.state)),!Vs(this.props,t,this.propEquality)||!Vs(this.state,r,this.stateEquality)}safeSetState(t){Vs(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}return n.addPropsEquality=UC,n.addStateEquality=zC,n.contextType=Bt,n})();io.prototype.propEquality={};io.prototype.stateEquality={};var re=(()=>{class n extends io{}return n.contextType=Bt,n})();function UC(n){let e=Object.create(this.prototype.propEquality);Object.assign(e,n),this.prototype.propEquality=e}function zC(n){let e=Object.create(this.prototype.stateEquality);Object.assign(e,n),this.prototype.stateEquality=e}function Je(n,e){typeof n=="function"?n(e):n&&(n.current=e)}var Hi=class extends re{constructor(){super(...arguments),this.id=Vt(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:t}=this.context,{generatorName:r}=this.props;(!t.customRenderingReplaces||!ed(r,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Je(this.props.elRef,e)}}render(){let{props:e,context:t}=this,{options:r}=t,{customGenerator:i,defaultGenerator:o,renderProps:s}=e,a=bd(e,[],this.handleEl),l=!1,c,d=[],u;if(i!=null){let m=typeof i=="function"?i(s,v):i;if(m===!0)l=!0;else{let f=m&&typeof m=="object";f&&"html"in m?a.dangerouslySetInnerHTML={__html:m.html}:f&&"domNodes"in m?d=Array.prototype.slice.call(m.domNodes):(f?Fc(m):typeof m!="function")?c=m:u=m}}else l=!ed(e.generatorName,r);return l&&o&&(c=o(s)),this.queuedDomNodes=d,this.currentGeneratorMeta=u,v(e.elTag,a,c)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;let{props:r,context:i}=this,{handleCustomRendering:o,customRenderingMetaMap:s}=i.options;if(o){let a=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:s?.[r.generatorName];a&&o(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(HC)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:t}=this,r=this.base;if(!Ct(e,t)){t.forEach(Lp);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}};Hi.addPropsEquality({elClasses:Ct,elStyle:He,elAttrs:PC,renderProps:He});function ed(n,e){var t;return!!(e.handleCustomRendering&&n&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[n]))}function bd(n,e,t){let r=Object.assign(Object.assign({},n.elAttrs),{ref:t});return(n.elClasses||e)&&(r.className=(n.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),n.elStyle&&(r.style=n.elStyle),r}function HC(n){return!!n}var yd=ng(0),Et=(()=>{class n extends Ie{constructor(){super(...arguments),this.InnerContent=$C.bind(void 0,this),this.handleEl=t=>{this.el=t,this.props.elRef&&(Je(this.props.elRef,t),t&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:t}=this,r=WC(t.classNameGenerator,t.renderProps);if(t.children){let i=bd(t,r,this.handleEl),o=t.children(this.InnerContent,t.renderProps,i);return t.elTag?v(t.elTag,i,o):o}else return v(Hi,Object.assign(Object.assign({},t),{elRef:this.handleEl,elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var t,r;this.el?(r=(t=this.props).didMount)===null||r===void 0||r.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var t,r;(r=(t=this.props).willUnmount)===null||r===void 0||r.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return n.contextType=yd,n})();function $C(n,e){let t=n.props;return v(Hi,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:n.context},e))}function WC(n,e){let t=typeof n=="function"?n(e):n||[];return typeof t=="string"?[t]:t}var Ir=class extends re{render(){let{props:e,context:t}=this,{options:r}=t,i={view:t.viewApi};return v(Et,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[..._d(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}};function _d(n){return[`fc-${n.type}-view`,"fc-view"]}function GC(n,e){let t=null,r=null;return n.start&&(t=e.createMarker(n.start)),n.end&&(r=e.createMarker(n.end)),!t&&!r||t&&r&&r<t?null:{start:t,end:r}}function Ip(n,e){let t=[],{start:r}=e,i,o;for(n.sort(qC),i=0;i<n.length;i+=1)o=n[i],o.start>r&&t.push({start:r,end:o.start}),o.end>r&&(r=o.end);return r<e.end&&t.push({start:r,end:e.end}),t}function qC(n,e){return n.start.valueOf()-e.start.valueOf()}function jt(n,e){let{start:t,end:r}=n,i=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(t===null||r===null||t<r)&&(i={start:t,end:r}),i}function ig(n,e){return(n.end===null||e.start===null||n.end>e.start)&&(n.start===null||e.end===null||n.start<e.end)}function _t(n,e){return(n.start===null||e>=n.start)&&(n.end===null||e<n.end)}function QC(n,e){return e.start!=null&&n<e.start?e.start:e.end!=null&&n>=e.end?new Date(e.end.valueOf()-1):n}function og(n){let e=Math.floor(Fn(n.start,n.end))||1,t=ne(n.start),r=we(t,e);return{start:t,end:r}}function wd(n,e=Y(0)){let t=null,r=null;if(n.end){r=ne(n.end);let i=n.end.valueOf()-r.valueOf();i&&i>=Dr(e)&&(r=we(r,1))}return n.start&&(t=ne(n.start),r&&r<=t&&(r=we(t,1))),{start:t,end:r}}function Vi(n,e,t,r){return r==="year"?Y(t.diffWholeYears(n,e),"year"):r==="month"?Y(t.diffWholeMonths(n,e),"month"):Zp(n,e)}function sg(n,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return n}}function ag(n,e){let t=n.initialDate;return t!=null?e.createMarker(t):Nr(n.now,e)}function Nr(n,e){return typeof n=="function"&&(n=n()),n==null?e.createNowMarker():e.createMarker(n)}var kn=class{constructor(e){this.props=e,this.nowDate=Nr(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,t,r){let{dateEnv:i}=this.props,o=i.subtract(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,-1,r)}buildNext(e,t,r){let{dateEnv:i}=this.props,o=i.add(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(o,1,r)}build(e,t,r=!0){let{props:i}=this,o,s,a,l,c,d;return o=this.buildValidRange(),o=this.trimHiddenDays(o),r&&(e=QC(e,o)),s=this.buildCurrentRangeInfo(e,t),a=/^(year|month|week|day)$/.test(s.unit),l=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,a),l=this.trimHiddenDays(l),c=l,i.showNonCurrentDates||(c=jt(c,s.range)),c=this.adjustActiveRange(c),c=jt(c,o),d=ig(s.range,o),_t(l,e)||(e=l.start),{currentDate:e,validRange:o,currentRange:s.range,currentRangeUnit:s.unit,isRangeAllDay:a,activeRange:c,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(s.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:r}=this,i=null,o=null,s=null,a;return r.duration?(i=r.duration,o=r.durationUnit,s=this.buildRangeFromDuration(e,t,i,o)):(a=this.props.dayCount)?(o="day",s=this.buildRangeFromDayCount(e,t,a)):(s=this.buildCustomVisibleRange(e))?o=r.dateEnv.greatestWholeUnit(s.start,s.end).unit:(i=this.getFallbackDuration(),o=Bi(i).unit,s=this.buildRangeFromDuration(e,t,i,o)),{duration:i,unit:o,range:s}}getFallbackDuration(){return Y({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:o}=this.props,{start:s,end:a}=e;return r&&(Ar(i)<0&&(s=ne(s),s=t.add(s,i)),Ar(o)>1&&(a=ne(a),a=we(a,-1),a=t.add(a,o))),{start:s,end:a}}buildRangeFromDuration(e,t,r,i){let{dateEnv:o,dateAlignment:s}=this.props,a,l,c;if(!s){let{dateIncrement:u}=this.props;u&&Dr(u)<Dr(r)?s=Bi(u).unit:s=i}Ar(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,t),a=ne(a));function d(){a=o.startOf(e,s),l=o.add(a,r),c={start:a,end:l}}return d(),this.trimHiddenDays(c)||(e=this.skipHiddenDays(e,t),d()),c}buildRangeFromDayCount(e,t,r){let{dateEnv:i,dateAlignment:o}=this.props,s=0,a=e,l;o&&(a=i.startOf(a,o)),a=ne(a),a=this.skipHiddenDays(a,t),l=a;do l=we(l,1),this.isHiddenDay(l)||(s+=1);while(s<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:t}=this,r=t.visibleRangeInput,i=typeof r=="function"?r.call(t.calendarApi,t.dateEnv.toDate(e)):r,o=this.refineRange(i);return o&&(o.start==null||o.end==null)?null:o}buildRenderRange(e,t,r){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,r;return t||((r=this.props.dateAlignment)?Y(1,r):e||Y({days:1}))}refineRange(e){if(e){let t=GC(e,this.props.dateEnv);return t&&(t=wd(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(t[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:r}=e;return t&&(t=this.skipHiddenDays(t)),r&&(r=this.skipHiddenDays(r,-1,!0)),t==null||r==null||t<r?{start:t,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?t:0)+7)%7];)e=we(e,t);return e}};function oa(n,e,t,r){return{instanceId:Vt(),defId:n,range:e,forcedStartTzo:t??null,forcedEndTzo:r??null}}function ZC(n,e,t,r){for(let i=0;i<r.length;i+=1){let o=r[i].parse(n,t);if(o){let{allDay:s}=n;return s==null&&(s=e,s==null&&(s=o.allDayGuess,s==null&&(s=!1))),{allDay:s,duration:o.duration,typeData:o.typeData,typeId:i}}}return null}function oo(n,e,t){let{dateEnv:r,pluginHooks:i,options:o}=t,{defs:s,instances:a}=n;a=an(a,l=>!s[l.defId].recurringDef);for(let l in s){let c=s[l];if(c.recurringDef){let{duration:d}=c.recurringDef;d||(d=c.allDay?o.defaultAllDayEventDuration:o.defaultTimedEventDuration);let u=YC(c,d,e,r,i.recurringTypes);for(let m of u){let f=oa(l,{start:m,end:r.add(m,d)});a[f.instanceId]=f}}}return{defs:s,instances:a}}function YC(n,e,t,r,i){let s=i[n.recurringDef.typeId].expand(n.recurringDef.typeData,{start:r.subtract(t.start,e),end:t.end},r);return n.allDay&&(s=s.map(ne)),s}var Bs={id:String,groupId:String,title:String,url:String,interactive:Boolean},lg={start:_,end:_,date:_,allDay:Boolean},KC=Object.assign(Object.assign(Object.assign({},Bs),lg),{extendedProps:_});function cg(n,e,t,r,i=Ed(t),o,s){let{refined:a,extra:l}=Cd(n,t,i),c=JC(e,t),d=ZC(a,c,t.dateEnv,t.pluginHooks.recurringTypes);if(d){let m=Ws(a,l,e?e.sourceId:"",d.allDay,!!d.duration,t,o);return m.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:m,instance:null}}let u=XC(a,c,t,r);if(u){let m=Ws(a,l,e?e.sourceId:"",u.allDay,u.hasEnd,t,o),f=oa(m.defId,u.range,u.forcedStartTzo,u.forcedEndTzo);return s&&m.publicId&&s[m.publicId]&&(f.instanceId=s[m.publicId]),{def:m,instance:f}}return null}function Cd(n,e,t=Ed(e)){return na(n,t)}function Ed(n){return Object.assign(Object.assign(Object.assign({},qs),KC),n.pluginHooks.eventRefiners)}function Ws(n,e,t,r,i,o,s){let a={title:n.title||"",groupId:n.groupId||"",publicId:n.id||"",url:n.url||"",recurringDef:null,defId:(s&&n.id?s[n.id]:"")||Vt(),sourceId:t,allDay:r,hasEnd:i,interactive:n.interactive,ui:Fr(n,o),extendedProps:Object.assign(Object.assign({},n.extendedProps||{}),e)};for(let l of o.pluginHooks.eventDefMemberAdders)Object.assign(a,l(n));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function XC(n,e,t,r){let{allDay:i}=n,o,s=null,a=!1,l,c=null,d=n.start!=null?n.start:n.date;if(o=t.dateEnv.createMarkerMeta(d),o)s=o.marker;else if(!r)return null;return n.end!=null&&(l=t.dateEnv.createMarkerMeta(n.end)),i==null&&(e!=null?i=e:i=(!o||o.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&s&&(s=ne(s)),l&&(c=l.marker,i&&(c=ne(c)),s&&c<=s&&(c=null)),c?a=!0:r||(a=t.options.forceEventDuration||!1,c=t.dateEnv.add(s,i?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:s,end:c},forcedStartTzo:o?o.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function JC(n,e){let t=null;return n&&(t=n.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function $i(n,e,t,r,i,o){let s=xt(),a=Ed(t);for(let l of n){let c=cg(l,e,t,r,a,i,o);c&&Gs(c,s)}return s}function Gs(n,e=xt()){return e.defs[n.def.defId]=n.def,n.instance&&(e.instances[n.instance.instanceId]=n.instance),e}function dg(n,e){let t=n.instances[e];if(t){let r=n.defs[t.defId],i=xd(n,o=>eE(r,o));return i.defs[r.defId]=r,i.instances[t.instanceId]=t,i}return xt()}function eE(n,e){return!!(n.groupId&&n.groupId===e.groupId)}function xt(){return{defs:{},instances:{}}}function sa(n,e){return{defs:Object.assign(Object.assign({},n.defs),e.defs),instances:Object.assign(Object.assign({},n.instances),e.instances)}}function xd(n,e){let t=an(n.defs,e),r=an(n.instances,i=>t[i.defId]);return{defs:t,instances:r}}function tE(n,e){let{defs:t,instances:r}=n,i={},o={};for(let s in t)e.defs[s]||(i[s]=t[s]);for(let s in r)!e.instances[s]&&i[r[s].defId]&&(o[s]=r[s]);return{defs:i,instances:o}}function nE(n,e){return Array.isArray(n)?$i(n,null,e,!0):typeof n=="object"&&n?$i([n],null,e,!0):n!=null?String(n):null}function td(n){return Array.isArray(n)?n:typeof n=="string"?n.split(/\s+/):[]}var qs={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:_,overlap:_,allow:_,className:td,classNames:td,color:String,backgroundColor:String,borderColor:String,textColor:String},rE={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Fr(n,e){let t=nE(n.constraint,e);return{display:n.display||null,startEditable:n.startEditable!=null?n.startEditable:n.editable,durationEditable:n.durationEditable!=null?n.durationEditable:n.editable,constraints:t!=null?[t]:[],overlap:n.overlap!=null?n.overlap:null,allows:n.allow!=null?[n.allow]:[],backgroundColor:n.backgroundColor||n.color||"",borderColor:n.borderColor||n.color||"",textColor:n.textColor||"",classNames:(n.className||[]).concat(n.classNames||[])}}function ug(n){return n.reduce(iE,rE)}function iE(n,e){return{display:e.display!=null?e.display:n.display,startEditable:e.startEditable!=null?e.startEditable:n.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:n.durationEditable,constraints:n.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:n.overlap,allows:n.allows.concat(e.allows),backgroundColor:e.backgroundColor||n.backgroundColor,borderColor:e.borderColor||n.borderColor,textColor:e.textColor||n.textColor,classNames:n.classNames.concat(e.classNames)}}var oE={id:String,defaultAllDay:Boolean,url:String,format:String,events:_,eventDataTransform:_,success:_,failure:_};function Ad(n,e,t=Dd(e)){let r;if(typeof n=="string"?r={url:n}:typeof n=="function"||Array.isArray(n)?r={events:n}:typeof n=="object"&&n&&(r=n),r){let{refined:i,extra:o}=na(r,t),s=sE(i,e);if(s)return{_raw:n,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Vt(),sourceDefId:s.sourceDefId,meta:s.meta,ui:Fr(i,e),extendedProps:o}}return null}function Dd(n){return Object.assign(Object.assign(Object.assign({},qs),oE),n.pluginHooks.eventSourceRefiners)}function sE(n,e){let t=e.pluginHooks.eventSourceDefs;for(let r=t.length-1;r>=0;r-=1){let o=t[r].parseMeta(n);if(o)return{sourceDefId:r,meta:o}}return null}function fg(n,e,t,r,i){switch(e.type){case"RECEIVE_EVENTS":return aE(n,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return lE(n,t[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return cE(n,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return sa(n,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?oo(n,r.activeRange,i):n;case"REMOVE_EVENTS":return tE(n,e.eventStore);case"REMOVE_EVENT_SOURCE":return hg(n,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return xd(n,o=>!o.sourceId);case"REMOVE_ALL_EVENTS":return xt();default:return n}}function aE(n,e,t,r,i,o){if(e&&t===e.latestFetchId){let s=$i(mg(i,e,o),e,o);return r&&(s=oo(s,r,o)),sa(hg(n,e.sourceId),s)}return n}function lE(n,e,t,r,i){let{defIdMap:o,instanceIdMap:s}=dE(n),a=$i(mg(t,e,i),e,i,!1,o,s);return oo(a,r,i)}function mg(n,e,t){let r=t.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(n=Tp(n,i)),r&&(n=Tp(n,r)),n}function Tp(n,e){let t;if(!e)t=n;else{t=[];for(let r of n){let i=e(r);i?t.push(i):i==null&&t.push(r)}}return t}function cE(n,e,t,r){return t&&(e=oo(e,t,r)),sa(n,e)}function Sd(n,e,t){let{defs:r}=n,i=Ln(n.instances,o=>r[o.defId].allDay?o:Object.assign(Object.assign({},o),{range:{start:t.createMarker(e.toDate(o.range.start,o.forcedStartTzo)),end:t.createMarker(e.toDate(o.range.end,o.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:o.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:o.forcedEndTzo}));return{defs:r,instances:i}}function hg(n,e){return xd(n,t=>t.sourceId!==e)}function dE(n){let{defs:e,instances:t}=n,r={},i={};for(let o in e){let s=e[o],{publicId:a}=s;a&&(r[a]=o)}for(let o in t){let s=t[o],a=e[s.defId],{publicId:l}=a;l&&(i[l]=o)}return{defIdMap:r,instanceIdMap:i}}var Wi=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){uE(this.handlers,e,t)}off(e,t){fE(this.handlers,e,t)}trigger(e,...t){let r=this.handlers[e]||[],i=this.options&&this.options[e],o=[].concat(i||[],r);for(let s of o)s.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function uE(n,e,t){(n[e]||(n[e]=[])).push(t)}function fE(n,e,t){t?n[e]&&(n[e]=n[e].filter(r=>r!==t)):delete n[e]}var mE={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Id(n,e){return $i(hE(n),null,e)}function hE(n){let e;return n===!0?e=[{}]:Array.isArray(n)?e=n.filter(t=>t.daysOfWeek):typeof n=="object"&&n?e=[n]:e=[],e=e.map(t=>Object.assign(Object.assign({},mE),t)),e}function pg(n,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},gE(n,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function pE(n,e){e.emitter.trigger("unselect",{jsEvent:n?n.origEvent:null,view:e.viewApi||e.calendarApi.view})}function gE(n,e){let t={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(t,r(n,e));return Object.assign(t,SE(n,e.dateEnv)),t}function nd(n,e,t){let{dateEnv:r,options:i}=t,o=e;return n?(o=ne(o),o=r.add(o,i.defaultAllDayEventDuration)):o=r.add(o,i.defaultTimedEventDuration),o}function gg(n,e,t,r){let i=bg(n.defs,e),o=xt();for(let s in n.defs){let a=n.defs[s];o.defs[s]=vE(a,i[s],t,r)}for(let s in n.instances){let a=n.instances[s],l=o.defs[a.defId];o.instances[s]=bE(a,l,i[a.defId],t,r)}return o}function vE(n,e,t,r){let i=t.standardProps||{};i.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(i.hasEnd=!0);let o=Object.assign(Object.assign(Object.assign({},n),i),{ui:Object.assign(Object.assign({},n.ui),i.ui)});t.extendedProps&&(o.extendedProps=Object.assign(Object.assign({},o.extendedProps),t.extendedProps));for(let s of r.pluginHooks.eventDefMutationAppliers)s(o,t,r);return!o.hasEnd&&r.options.forceEventDuration&&(o.hasEnd=!0),o}function bE(n,e,t,r,i){let{dateEnv:o}=i,s=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},n);return s&&(l.range=og(l.range)),r.datesDelta&&t.startEditable&&(l.range={start:o.add(l.range.start,r.datesDelta),end:o.add(l.range.end,r.datesDelta)}),r.startDelta&&t.durationEditable&&(l.range={start:o.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:o.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:nd(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:ne(l.range.start),end:ne(l.range.end)}),l.range.end<l.range.start&&(l.range.end=nd(e.allDay,l.range.start,i)),l}var rn=class{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Pe=class n{constructor(e,t,r){this._context=e,this._def=t,this._instance=r||null}setProp(e,t){if(e in lg)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Bs[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Bs)t=Bs[e](t),this.mutate({standardProps:{[e]:t}});else if(e in qs){let r=qs[e](t);e==="color"?r={backgroundColor:t,borderColor:t}:e==="editable"?r={startEditable:t,durationEditable:t}:r={[e]:t},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let o=this._instance.range,s=Vi(o.start,i,r,t.granularity);t.maintainDuration?this.mutate({datesDelta:s}):this.mutate({startDelta:s})}}setEnd(e,t={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let o=Vi(this._instance.range.end,i,r,t.granularity);this.mutate({endDelta:o})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,r={}){let{dateEnv:i}=this._context,o={allDay:r.allDay},s=i.createMarker(e),a;if(s&&!(t!=null&&(a=i.createMarker(t),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=og(l));let c=Vi(l.start,s,i,r.granularity);if(a){let d=Vi(l.end,a,i,r.granularity);uC(c,d)?this.mutate({datesDelta:c,standardProps:o}):this.mutate({startDelta:c,endDelta:d,standardProps:o})}else o.hasEnd=!1,this.mutate({datesDelta:c,standardProps:o})}}moveStart(e){let t=Y(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=Y(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=Y(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let r={allDay:e},{maintainDuration:i}=t;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:t}=this._context,r=this._instance,i=he(e);return this._def.hasEnd?t.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):t.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let r=this._def,i=this._context,{eventStore:o}=i.getCurrentData(),s=dg(o,t.instanceId);s=gg(s,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new n(i,r,t);this._def=s.defs[r.defId],this._instance=s.instances[t.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:s}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:so(s,i,t),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:o})}})}}remove(){let e=this._context,t=vg(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new rn(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:r}=t,{startStr:i,endStr:o}=this,s={allDay:t.allDay};return t.title&&(s.title=t.title),i&&(s.start=i),o&&(s.end=o),t.publicId&&(s.id=t.publicId),t.groupId&&(s.groupId=t.groupId),t.url&&(s.url=t.url),r.display&&r.display!=="auto"&&(s.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?s.color=r.backgroundColor:(r.backgroundColor&&(s.backgroundColor=r.backgroundColor),r.borderColor&&(s.borderColor=r.borderColor)),r.textColor&&(s.textColor=r.textColor),r.classNames.length&&(s.classNames=r.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(s,t.extendedProps):s.extendedProps=t.extendedProps),s}toJSON(){return this.toPlainObject()}};function vg(n){let e=n._def,t=n._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function so(n,e,t){let{defs:r,instances:i}=n,o=[],s=t?t.instanceId:"";for(let a in i){let l=i[a],c=r[l.defId];l.instanceId!==s&&o.push(new Pe(e,c,l))}return o}function Qs(n,e,t,r){let i={},o={},s={},a=[],l=[],c=bg(n.defs,e);for(let d in n.defs){let u=n.defs[d];c[u.defId].display==="inverse-background"&&(u.groupId?(i[u.groupId]=[],s[u.groupId]||(s[u.groupId]=u)):o[d]=[])}for(let d in n.instances){let u=n.instances[d],m=n.defs[u.defId],f=c[m.defId],h=u.range,y=!m.allDay&&r?wd(h,r):h,b=jt(y,t);b&&(f.display==="inverse-background"?m.groupId?i[m.groupId].push(b):o[u.defId].push(b):f.display!=="none"&&(f.display==="background"?a:l).push({def:m,ui:f,instance:u,range:b,isStart:y.start&&y.start.valueOf()===b.start.valueOf(),isEnd:y.end&&y.end.valueOf()===b.end.valueOf()}))}for(let d in i){let u=i[d],m=Ip(u,t);for(let f of m){let h=s[d],y=c[h.defId];a.push({def:h,ui:y,instance:null,range:f,isStart:!1,isEnd:!1})}}for(let d in o){let u=o[d],m=Ip(u,t);for(let f of m)a.push({def:n.defs[d],ui:c[d],instance:null,range:f,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Rp(n,e){n.fcSeg=e}function ao(n){return n.fcSeg||n.parentNode.fcSeg||null}function bg(n,e){return Ln(n,t=>yg(t,e))}function yg(n,e){let t=[];return e[""]&&t.push(e[""]),e[n.defId]&&t.push(e[n.defId]),t.push(n.ui),ug(t)}function Td(n,e){let t=n.map(yE);return t.sort((r,i)=>Gp(r,i,e)),t.map(r=>r._seg)}function yE(n){let{eventRange:e}=n,t=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,o=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:i,end:o,duration:o-i,allDay:Number(t.allDay),_seg:n})}function _E(n,e){let{pluginHooks:t}=e,r=t.isDraggableTransformers,{def:i,ui:o}=n.eventRange,s=o.startEditable;for(let a of r)s=a(s,i,o,e);return s}function wE(n,e){return n.isStart&&n.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function CE(n,e){return n.isEnd&&n.eventRange.ui.durationEditable}function aa(n,e,t,r,i,o,s){let{dateEnv:a,options:l}=t,{displayEventTime:c,displayEventEnd:d}=l,u=n.eventRange.def,m=n.eventRange.instance;c==null&&(c=r!==!1),d==null&&(d=i!==!1);let f=m.range.start,h=m.range.end,y=o||n.start||n.eventRange.range.start,b=s||n.end||n.eventRange.range.end,x=ne(f).valueOf()===ne(y).valueOf(),S=ne(wt(h,-1)).valueOf()===ne(wt(b,-1)).valueOf();return c&&!u.allDay&&(x||S)?(y=x?f:y,b=S?h:b,d&&u.hasEnd?a.formatRange(y,b,e,{forcedStartTzo:o?null:m.forcedStartTzo,forcedEndTzo:s?null:m.forcedEndTzo}):a.format(y,e,{forcedTzo:o?null:m.forcedStartTzo})):""}function jn(n,e,t){let r=n.eventRange.range;return{isPast:r.end<=(t||e.start),isFuture:r.start>=(t||e.end),isToday:e&&_t(e,r.start)}}function EE(n){let e=["fc-event"];return n.isMirror&&e.push("fc-event-mirror"),n.isDraggable&&e.push("fc-event-draggable"),(n.isStartResizable||n.isEndResizable)&&e.push("fc-event-resizable"),n.isDragging&&e.push("fc-event-dragging"),n.isResizing&&e.push("fc-event-resizing"),n.isSelected&&e.push("fc-event-selected"),n.isStart&&e.push("fc-event-start"),n.isEnd&&e.push("fc-event-end"),n.isPast&&e.push("fc-event-past"),n.isToday&&e.push("fc-event-today"),n.isFuture&&e.push("fc-event-future"),e}function Rd(n){return n.instance?n.instance.instanceId:`${n.def.defId}:${n.range.start.toISOString()}`}function la(n,e){let{def:t,instance:r}=n.eventRange,{url:i}=t;if(i)return{href:i};let{emitter:o,options:s}=e,{eventInteractive:a}=s;return a==null&&(a=t.interactive,a==null&&(a=!!o.hasHandlers("eventClick"))),a?$p(l=>{o.trigger("eventClick",{el:l.target,event:new Pe(e,t,r),jsEvent:l,view:e.viewApi})}):{}}var xE={start:_,end:_,allDay:Boolean};function AE(n,e,t){let r=DE(n,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(t==null)return null;i.end=e.add(i.start,t)}return r}function DE(n,e){let{refined:t,extra:r}=na(n,xE),i=t.start?e.createMarkerMeta(t.start):null,o=t.end?e.createMarkerMeta(t.end):null,{allDay:s}=t;return s==null&&(s=i&&i.isTimeUnspecified&&(!o||o.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:o?o.marker:null},allDay:s},r)}function SE(n,e){return Object.assign(Object.assign({},_g(n.range,e,n.allDay)),{allDay:n.allDay})}function kd(n,e,t){return Object.assign(Object.assign({},_g(n,e,t)),{timeZone:e.timeZone})}function _g(n,e,t){return{start:e.toDate(n.start),end:e.toDate(n.end),startStr:e.formatIso(n.start,{omitTime:t}),endStr:e.formatIso(n.end,{omitTime:t})}}function IE(n,e,t){let r=Cd({editable:!1},t),i=Ws(r.refined,r.extra,"",n.allDay,!0,t);return{def:i,ui:yg(i,e),instance:oa(i.defId,n.range),range:n.range,isStart:!0,isEnd:!0}}function Md(n,e,t){let r=!1,i=function(a){r||(r=!0,e(a))},o=function(a){r||(r=!0,t(a))},s=n(i,o);s&&typeof s.then=="function"&&s.then(i,o)}var Zs=class extends Error{constructor(e,t){super(e),this.response=t}};function Od(n,e,t){n=n.toUpperCase();let r={method:n};return n==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(r.body=new URLSearchParams(t),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(o=>[o,i],()=>{throw new Zs("Failure parsing JSON",i)});throw new Zs("Request failed",i)})}var Hc;function Nd(){return Hc==null&&(Hc=TE()),Hc}function TE(){if(typeof document>"u")return!0;let n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.innerHTML="<table><tr><td><div></div></td></tr></table>",n.querySelector("table").style.height="100px",n.querySelector("div").style.height="100%",document.body.appendChild(n);let t=n.querySelector("div").offsetHeight>0;return document.body.removeChild(n),t}var Gi=class extends re{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{zi(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{zi(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:r}=this.state,i=r||t.height==="auto"||t.contentHeight==="auto",o=!i&&t.height!=null?t.height:"",s=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return Nd()||s.push("fc-liquid-hack"),e.children(s,o,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},Tr=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function wg(n,e){return{component:n,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}var ca={},qi=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let r=this.getCurrentData(),i;t=t||"day",i=r.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),o,s;for(let a in t)i.push(a);for(o=0;o<i.length;o+=1)if(s=t[i[o]],s&&s.singleUnit===e)return s;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Nr(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),r=Y(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),he(t))}formatRange(e,t,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(t),he(r),r)}formatIso(e,t){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:t})}select(e,t){let r;t==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:t};let i=this.getCurrentData(),o=AE(r,i.dateEnv,Y({days:1}));o&&(this.dispatch({type:"SELECT_DATES",selection:o}),pg(o,null,i))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),pE(e,t))}addEvent(e,t){if(e instanceof Pe){let s=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[s.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Gs({def:s,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(t instanceof rn)i=t.internalEventSource;else if(typeof t=="boolean")t&&([i]=ia(r.eventSources));else if(t!=null){let s=this.getEventSourceById(t);if(!s)return console.warn(`Could not find an event source with ID "${t}"`),null;i=s.internalEventSource}let o=cg(e,i,r,!1);if(o){let s=new Pe(r,o.def,o.def.recurringDef?null:o.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Gs(o)}),this.triggerEventAdd(s),s}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:vg(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:r,instances:i}=t.eventStore;e=String(e);for(let o in r){let s=r[o];if(s.publicId===e){if(s.recurringDef)return new Pe(t,s,null);for(let a in i){let l=i[a];if(l.defId===s.defId)return new Pe(t,s,l)}}}return null}getEvents(){let e=this.getCurrentData();return so(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,r=[];for(let i in t)r.push(new rn(e,t[i]));return r}getEventSourceById(e){let t=this.getCurrentData(),r=t.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new rn(t,r[i]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof rn)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Ad(e,t);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new rn(t,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=Y(e);t&&this.trigger("_scrollRequest",{time:t})}};function Cg(n,e){let t={left:Math.max(n.left,e.left),right:Math.min(n.right,e.right),top:Math.max(n.top,e.top),bottom:Math.min(n.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}var tk=xt();function Fd(n,e,t,r){return{dow:n.getUTCDay(),isDisabled:!!(r&&!_t(r.activeRange,n)),isOther:!!(r&&!_t(r.currentRange,n)),isToday:!!(e&&_t(e,n)),isPast:!!(t?n<t:e&&n<e.start),isFuture:!!(t?n>t:e&&n>=e.end)}}function da(n,e){let t=["fc-day",`fc-day-${hC[n.dow]}`];return n.isDisabled?t.push("fc-day-disabled"):(n.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),n.isPast&&t.push("fc-day-past"),n.isFuture&&t.push("fc-day-future"),n.isOther&&t.push("fc-day-other")),t}var RE=he({year:"numeric",month:"long",day:"numeric"}),kE=he({week:"long"});function lo(n,e,t="day",r=!0){let{dateEnv:i,options:o,calendarApi:s}=n,a=i.format(e,t==="week"?kE:RE);if(o.navLinks){let l=i.toDate(e),c=d=>{let u=t==="day"?o.navLinkDayClick:t==="week"?o.navLinkWeekClick:null;typeof u=="function"?u.call(s,i.toDate(e),d):(typeof u=="string"&&(t=u),s.zoomTo(e,t))};return Object.assign({title:Mr(o.navLinkHint,[a,l],a),"data-navlink":""},r?Hp(c):{onClick:c})}return{"aria-label":a}}var $c;function Eg(){return $c||($c=ME()),$c}function ME(){let n=document.createElement("div");n.style.overflow="scroll",n.style.position="absolute",n.style.top="-9999px",n.style.left="-9999px",document.body.appendChild(n);let e=OE(n);return document.body.removeChild(n),e}function OE(n){return{x:n.offsetHeight-n.clientHeight,y:n.offsetWidth-n.clientWidth}}function NE(n){let e=xg(n),t=n.getBoundingClientRect();for(let r of e){let i=Cg(t,r.getBoundingClientRect());if(i)t=i;else return null}return t}function xg(n){let e=[];for(;n instanceof HTMLElement;){let t=window.getComputedStyle(n);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(n),n=n.parentNode}return e}var ln=class{constructor(e,t,r,i){this.els=t;let o=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(o.left),i&&this.buildElVerticals(o.top)}buildElHorizontals(e){let t=[],r=[];for(let i of this.els){let o=i.getBoundingClientRect();t.push(o.left-e),r.push(o.right-e)}this.lefts=t,this.rights=r}buildElVerticals(e){let t=[],r=[];for(let i of this.els){let o=i.getBoundingClientRect();t.push(o.top-e),r.push(o.bottom-e)}this.tops=t,this.bottoms=r}leftToIndex(e){let{lefts:t,rights:r}=this,i=t.length,o;for(o=0;o<i;o+=1)if(e>=t[o]&&e<r[o])return o}topToIndex(e){let{tops:t,bottoms:r}=this,i=t.length,o;for(o=0;o<i;o+=1)if(e>=t[o]&&e<r[o])return o}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Ns(this.tops||[],e.tops||[])&&Ns(this.bottoms||[],e.bottoms||[])&&Ns(this.lefts||[],e.lefts||[])&&Ns(this.rights||[],e.rights||[])}};function Ns(n,e){let t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(Math.round(n[r])!==Math.round(e[r]))return!1;return!0}var ft=class extends re{constructor(){super(...arguments),this.uid=Vt()}prepareHits(){}queryHit(e,t,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ut(e,".fc-event-mirror")}isValidDateDownEl(e){return!ut(e,".fc-event:not(.fc-bg-event)")&&!ut(e,".fc-more-link")&&!ut(e,"a[data-navlink]")&&!ut(e,".fc-popover")}};var Qi=class{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let r of e)this.insertEntry(r,t);return t}insertEntry(e,t){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,r){if(this.allowReslicing&&e.touchingEntry){let i=Object.assign(Object.assign({},t),{span:ua(t.span,e.touchingEntry.span)});r.push(i),this.splitEntry(t,e.touchingEntry,r)}else r.push(t)}splitEntry(e,t,r){let i=e.span,o=t.span;i.start<o.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:o.start}},r),i.end>o.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:o.end,end:i.end}},r)}insertEntryAt(e,t){let{entriesByLevel:r,levelCoords:i}=this;t.lateral===-1?(Wc(i,t.level,t.levelCoord),Wc(r,t.level,[e])):Wc(r[t.level],t.lateral,e),this.stackCnts[Mn(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:r,strictOrder:i,stackCnts:o}=this,s=t.length,a=0,l=-1,c=-1,d=null,u=0;for(let h=0;h<s;h+=1){let y=t[h];if(!i&&y>=a+this.getEntryThickness(e))break;let b=r[h],x,S=id(b,e.span.start,rd),T=S[0]+S[1];for(;(x=b[T])&&x.span.start<e.span.end;){let L=y+this.getEntryThickness(x);L>a&&(a=L,d=x,l=h,c=T),L===a&&(u=Math.max(u,o[Mn(x)]+1)),T+=1}}let m=0;if(d)for(m=l+1;m<s&&t[m]<a;)m+=1;let f=-1;return m<s&&t[m]===a&&(f=id(r[m],e.span.end,rd)[0]),{touchingLevel:l,touchingLateral:c,touchingEntry:d,stackCnt:u,levelCoord:a,level:m,lateral:f}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,r=e.length,i=[];for(let o=0;o<r;o+=1){let s=e[o],a=t[o];for(let l of s)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}};function rd(n){return n.span.end}function Mn(n){return n.index+":"+n.span.start}function ua(n,e){let t=Math.max(n.start,e.start),r=Math.min(n.end,e.end);return t<r?{start:t,end:r}:null}function Wc(n,e,t){n.splice(e,0,t)}function id(n,e,t){let r=0,i=n.length;if(!i||e<t(n[r]))return[0,0];if(e>t(n[i-1]))return[i,0];for(;r<i;){let o=Math.floor(r+(i-r)/2),s=t(n[o]);if(e<s)i=o;else if(e>s)r=o+1;else return[o,1]}return[r,0]}function Ag(n,e){return!n||e>10?he({weekday:"short"}):e>1?he({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):he({weekday:"long"})}var Dg="fc-col-header-cell";function Sg(n){return n.text}var Ys=class extends re{render(){let{dateEnv:e,options:t,theme:r,viewApi:i}=this.context,{props:o}=this,{date:s,dateProfile:a}=o,l=Fd(s,o.todayRange,null,a),c=[Dg].concat(da(l,r)),d=e.format(s,o.dayHeaderFormat),u=!l.isDisabled&&o.colCnt>1?lo(this.context,s):{},m=Object.assign(Object.assign(Object.assign({date:e.toDate(s),view:i},o.extraRenderProps),{text:d}),l);return v(Et,{elTag:"th",elClasses:c,elAttrs:Object.assign({role:"columnheader",colSpan:o.colSpan,"data-date":l.isDisabled?void 0:ro(s)},o.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:Sg,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},f=>v("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&v(f,{elTag:"a",elAttrs:u,elClasses:["fc-col-header-cell-cushion",o.isSticky&&"fc-sticky"]})))}},FE=he({weekday:"long"}),Ks=class extends re{render(){let{props:e}=this,{dateEnv:t,theme:r,viewApi:i,options:o}=this.context,s=we(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(s,e.dayHeaderFormat),c=Object.assign(Object.assign(Object.assign(Object.assign({date:s},a),{view:i}),e.extraRenderProps),{text:l});return v(Et,{elTag:"th",elClasses:[Dg,...da(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:c,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:Sg,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},d=>v("div",{className:"fc-scrollgrid-sync-inner"},v(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(s,FE)}})))}},fa=(()=>{class n extends Ie{constructor(t,r){super(t,r),this.initialNowDate=Nr(r.options.now,r.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:r}=this;return t.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:r}=this,i=wt(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),o=r.dateEnv.startOf(i,t.unit),s=r.dateEnv.add(o,Y(1,t.unit)),a=s.valueOf()-i.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:o,todayRange:kp(o)},nextState:{nowDate:s,todayRange:kp(s)},waitMs:a}}setTimeout(){let{nextState:t,waitMs:r}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(t,()=>{this.setTimeout()})},r)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return n.contextType=Bt,n})();function kp(n){let e=ne(n),t=we(e,1);return{start:e,end:t}}var Zi=class extends re{constructor(){super(...arguments),this.createDayHeaderFormatter=W(PE)}render(){let{context:e}=this,{dates:t,dateProfile:r,datesRepDistinctDays:i,renderIntro:o}=this.props,s=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,t.length);return v(fa,{unit:"day"},(a,l)=>v("tr",{role:"row"},o&&o("day"),t.map(c=>i?v(Ys,{key:c.toISOString(),date:c,dateProfile:r,todayRange:l,colCnt:t.length,dayHeaderFormat:s}):v(Ks,{key:c.getUTCDay(),dow:c.getUTCDay(),dayHeaderFormat:s}))))}};function PE(n,e,t){return n||Ag(e,t)}var Yi=class{constructor(e,t){let r=e.start,{end:i}=e,o=[],s=[],a=-1;for(;r<i;)t.isHiddenDay(r)?o.push(a+.5):(a+=1,o.push(a),s.push(r)),r=we(r,1);this.dates=s,this.indices=o,this.cnt=s.length}sliceRange(e){let t=this.getDateDayIndex(e.start),r=this.getDateDayIndex(we(e.end,-1)),i=Math.max(0,t),o=Math.min(this.cnt-1,r);return i=Math.ceil(i),o=Math.floor(o),i<=o?{firstIndex:i,lastIndex:o,isStart:t===i,isEnd:r===o}:null}getDateDayIndex(e){let{indices:t}=this,r=Math.floor(Fn(this.dates[0],e));return r<0?t[0]-1:r>=t.length?t[t.length-1]+1:t[r]}},Ki=class{constructor(e,t){let{dates:r}=e,i,o,s;if(t){for(o=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==o;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(t,i));e.push(r)}return e}buildCell(e,t){let r=this.daySeries.dates[e*this.colCnt+t];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:o,lastIndex:s}=r,a=o;for(;a<=s;){let l=Math.floor(a/t),c=Math.min((l+1)*t,s+1);i.push({row:l,firstCol:a%t,lastCol:(c-1)%t,isStart:r.isStart&&a===o,isEnd:r.isEnd&&c-1===s}),a=c}}return i}},Xi=class{constructor(){this.sliceBusinessHours=W(this._sliceBusinessHours),this.sliceDateSelection=W(this._sliceDateSpan),this.sliceEventStore=W(this._sliceEventStore),this.sliceEventDrag=W(this._sliceInteraction),this.sliceEventResize=W(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,r,i,...o){let{eventUiBases:s}=e,a=this.sliceEventStore(e.eventStore,s,t,r,...o);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,r,s,i,...o),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,r,i,...o),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,s,t,r,...o),eventResize:this.sliceEventResize(e.eventResize,s,t,r,...o),eventSelection:e.eventSelection}}sliceNowDate(e,t,r,i,...o){return this._sliceDateSpan({range:{start:e,end:wt(e,1)},allDay:!1},t,r,{},i,...o)}_sliceBusinessHours(e,t,r,i,...o){return e?this._sliceEventStore(oo(e,Fs(t,!!r),i),{},t,r,...o).bg:[]}_sliceEventStore(e,t,r,i,...o){if(e){let s=Qs(e,t,Fs(r,!!i),i);return{bg:this.sliceEventRanges(s.bg,o),fg:this.sliceEventRanges(s.fg,o)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,r,i,...o){if(!e)return null;let s=Qs(e.mutatedEvents,t,Fs(r,!!i),i);return{segs:this.sliceEventRanges(s.fg,o),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,r,i,o,...s){if(!e)return[];let a=Fs(t,!!r),l=jt(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let c=IE(e,i,o),d=this.sliceRange(e.range,...s);for(let u of d)u.eventRange=c;return d}return[]}sliceEventRanges(e,t){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,t));return r}sliceEventRange(e,t){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:we(r.start,1)});let i=this.sliceRange(r,...t);for(let o of i)o.eventRange=e,o.isStart=e.isStart&&o.isStart,o.isEnd=e.isEnd&&o.isEnd;return i}};function Fs(n,e){let t=n.activeRange;return e?t:{start:wt(t.start,n.slotMinTime.milliseconds),end:wt(t.end,n.slotMaxTime.milliseconds-864e5)}}var Ps=/^(visible|hidden)$/,Xs=class extends re{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Je(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:r}=e,i=t&&r,o=["fc-scroller"];return t&&(r?o.push("fc-scroller-liquid-absolute"):o.push("fc-scroller-liquid")),v("div",{ref:this.handleEl,className:o.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Ps.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Ps.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Ps.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Ps.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},mt=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,r)=>{let{depths:i,currentMap:o}=this,s=!1,a=!1;t!==null?(s=r in o,o[r]=t,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete o[r],delete this.callbackMap[r],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(r)),a&&this.masterCallback(t,String(r)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),t}collect(e,t,r){return Jp(this.currentMap,e,t,r)}getAll(){return ia(this.currentMap)}};function Ig(n){let e=Vp(n,".fc-scrollgrid-shrink"),t=0;for(let r of e)t=Math.max(t,lC(r));return Math.ceil(t)}function Pd(n,e){return n.liquid&&e.liquid}function Tg(n,e){return e.maxHeight!=null||Pd(n,e)}function Rg(n,e,t,r){let{expandRows:i}=t;return typeof e.content=="function"?e.content(t):v("table",{role:"presentation",className:[e.tableClassName,n.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:i?t.clientHeight:""}},t.tableColGroupNode,v(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function kg(n,e){return Ct(n,e,He)}function Mg(n,e){let t=[];for(let r of n){let i=r.span||1;for(let o=0;o<i;o+=1)t.push(v("col",{style:{width:r.width==="shrink"?Og(e):r.width||"",minWidth:r.minWidth||""}}))}return v("colgroup",{},...t)}function Og(n){return n??4}function Ng(n){for(let e of n)if(e.width==="shrink")return!0;return!1}function Fg(n,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return n&&t.push("fc-scrollgrid-liquid"),t}function Pg(n,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${n.type}`,n.className];return e&&n.liquid&&n.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),n.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Ld(n){return v("div",{className:"fc-scrollgrid-sticky-shim",style:{width:n.clientWidth,minWidth:n.tableMinWidth}})}function ma(n){let{stickyHeaderDates:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}function jd(n){let{stickyFooterScrollbar:e}=n;return(e==null||e==="auto")&&(e=n.height==="auto"||n.viewHeight==="auto"),e}var Rr=class extends re{constructor(){super(...arguments),this.processCols=W(e=>e,kg),this.renderMicroColGroup=W(Mg),this.scrollerRefs=new mt,this.scrollerElRefs=new mt(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:r}=this,i=e.sections||[],o=this.processCols(e.cols),s=this.renderMicroColGroup(o,t.shrinkWidth),a=Fg(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,c=0,d,u=[],m=[],f=[];for(;c<l&&(d=i[c]).type==="header";)u.push(this.renderSection(d,s,!0)),c+=1;for(;c<l&&(d=i[c]).type==="body";)m.push(this.renderSection(d,s,!1)),c+=1;for(;c<l&&(d=i[c]).type==="footer";)f.push(this.renderSection(d,s,!0)),c+=1;let h=!Nd(),y={role:"rowgroup"};return v("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!h&&u.length)&&v("thead",y,...u),!!(!h&&m.length)&&v("tbody",y,...m),!!(!h&&f.length)&&v("tfoot",y,...f),h&&v("tbody",y,...u,...m,...f))}renderSection(e,t,r){return"outerContent"in e?v(ee,{key:e.key},e.outerContent):v("tr",{key:e.key,role:"presentation",className:Pg(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,r))}renderChunkTd(e,t,r,i){if("outerContent"in r)return r.outerContent;let{props:o}=this,{forceYScrollbars:s,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,c=Tg(o,e),d=Pd(o,e),u=o.liquid?s?"scroll":c?"auto":"hidden":"visible",m=e.key,f=Rg(e,r,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!o.collapsibleWidth&&a[m]!==void 0?a[m]:null,clientHeight:l[m]!==void 0?l[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return v(i?"th":"td",{ref:r.elRef,role:"presentation"},v("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},v(Xs,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:u,overflowX:o.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},f)))}_handleScrollerEl(e,t){let r=LE(this.props.sections,t);r&&Je(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return Ng(this.props.cols)?Ig(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=Eg(),{scrollerRefs:t,scrollerElRefs:r}=this,i=!1,o={},s={};for(let a in t.currentMap){let l=t.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,c=r.currentMap[l];if(c){let d=c.parentNode;o[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),s[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:o,scrollerClientHeights:s}}};Rr.addStateEquality({scrollerClientWidths:He,scrollerClientHeights:He});function LE(n,e){for(let t of n)if(t.key===e)return t;return null}var On=class extends re{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&Rp(e,this.props.seg)}}render(){let{props:e,context:t}=this,{options:r}=t,{seg:i}=e,{eventRange:o}=i,{ui:s}=o,a={event:new Pe(t,o.def,o.instance),view:t.viewApi,timeText:e.timeText,textColor:s.textColor,backgroundColor:s.backgroundColor,borderColor:s.borderColor,isDraggable:!e.disableDragging&&_E(i,t),isStartResizable:!e.disableResizing&&wE(i,t),isEndResizable:!e.disableResizing&&CE(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return v(Et,Object.assign({},e,{elRef:this.handleEl,elClasses:[...EE(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&Rp(this.el,this.props.seg)}},Ji=class extends re{render(){let{props:e,context:t}=this,{options:r}=t,{seg:i}=e,{ui:o}=i.eventRange,s=r.eventTimeFormat||e.defaultTimeFormat,a=aa(i,s,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return v(On,Object.assign({},e,{elTag:"a",elStyle:{borderColor:o.borderColor,backgroundColor:o.backgroundColor},elAttrs:la(i,t),defaultGenerator:jE,timeText:a}),(l,c)=>v(ee,null,v(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:c.textColor}}),!!c.isStartResizable&&v("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!c.isEndResizable&&v("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function jE(n){return v("div",{className:"fc-event-main-frame"},n.timeText&&v("div",{className:"fc-event-time"},n.timeText),v("div",{className:"fc-event-title-container"},v("div",{className:"fc-event-title fc-sticky"},n.event.title||v(ee,null,"\xA0"))))}var VE=he({day:"numeric"}),kr=class extends re{constructor(){super(...arguments),this.refineRenderProps=Or(BE)}render(){let{props:e,context:t}=this,{options:r}=t,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:r.monthStartFormat});return v(Et,Object.assign({},e,{elClasses:[...da(i,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":ro(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}};function ha(n){return!!(n.dayCellContent||ed("dayCellContent",n))}function BE(n){let{date:e,dateEnv:t,dateProfile:r,isMonthStart:i}=n,o=Fd(e,n.todayRange,null,r),s=n.showDayNumber?t.format(e,i?n.monthStartFormat:VE):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:n.viewApi},o),{isMonthStart:i,dayNumberText:s}),n.extraRenderProps)}var eo=class extends re{render(){let{props:e}=this,{seg:t}=e;return v(On,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:UE,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function UE(n){let{title:e}=n.event;return e&&v("div",{className:"fc-event-title"},n.event.title)}function Vd(n){return v("div",{className:`fc-${n}`})}var Bd=n=>v(Bt.Consumer,null,e=>{let{dateEnv:t,options:r}=e,{date:i}=n,o=r.weekNumberFormat||n.defaultFormat,s=t.computeWeekNumber(i),a=t.format(i,o);return v(Et,Object.assign({},n,{renderProps:{num:s,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:zE,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function zE(n){return n.text}var Gc=10,od=class extends re{constructor(){super(...arguments),this.state={titleId:Nn()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Je(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let t=Up(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:r,state:i}=this,o=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return yp(v("div",Object.assign({},r.extraAttrs,{id:r.id,className:o.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),v("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},v("span",{className:"fc-popover-title",id:i.titleId},r.title),v("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),v("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:r}=this.props,{rootEl:i}=this,o=NE(t);if(o){let s=i.getBoundingClientRect(),a=r?ut(t,".fc-scrollgrid").getBoundingClientRect().top:o.top,l=e?o.right-s.width:o.left;a=Math.max(a,Gc),l=Math.min(l,document.documentElement.clientWidth-Gc-s.width),l=Math.max(l,Gc);let c=i.offsetParent.getBoundingClientRect();Bp(i,{top:a-c.top,left:l-c.left})}}},sd=class extends ft{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:r}=this,{startDate:i,todayRange:o,dateProfile:s}=r,a=t.format(i,e.dayPopoverFormat);return v(kr,{elRef:this.handleRootEl,date:i,dateProfile:s,todayRange:o},(l,c,d)=>v(od,{elRef:d.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},ha(e)&&v(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,t,r,i){let{rootEl:o,props:s}=this;return e>=0&&e<r&&t>=0&&t<i?{dateProfile:s.dateProfile,dateSpan:Object.assign({allDay:!s.forceTimed,range:{start:s.startDate,end:s.endDate}},s.extraDateSpan),dayEl:o,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}},to=class extends re{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Nn()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Je(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:r}=this,{moreLinkClick:i}=r.options,o=Mp(t).start;function s(a){let{def:l,instance:c,range:d}=a.eventRange;return{event:new Pe(r,l,c),start:r.dateEnv.toDate(d.start),end:r.dateEnv.toDate(d.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:o,allDay:!!t.allDayDate,allSegs:t.allSegs.map(s),hiddenSegs:t.hiddenSegs.map(s),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(o,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return v(Bt.Consumer,null,r=>{let{viewApi:i,options:o,calendarApi:s}=r,{moreLinkText:a}=o,{moreCnt:l}=e,c=Mp(e),d=typeof a=="function"?a.call(s,l):`+${l} ${a}`,u=Mr(o.moreLinkHint,[l],d),m={num:l,shortText:`+${l}`,text:d,view:i};return v(ee,null,!!e.moreCnt&&v(Et,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),Hp(this.handleClick)),{title:u,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:o.moreLinkContent,defaultGenerator:e.defaultGenerator||HE,classNameGenerator:o.moreLinkClassNames,didMount:o.moreLinkDidMount,willUnmount:o.moreLinkWillUnmount},e.children),t.isPopoverOpen&&v(sd,{id:t.popoverId,startDate:c.start,endDate:c.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ut(this.linkEl,".fc-view-harness"))}};function HE(n){return n.text}function Mp(n){if(n.allDayDate)return{start:n.allDayDate,end:we(n.allDayDate,1)};let{hiddenSegs:e}=n;return{start:Lg(e),end:WE(e)}}function Lg(n){return n.reduce($E).eventRange.range.start}function $E(n,e){return n.eventRange.range.start<e.eventRange.range.start?n:e}function WE(n){return n.reduce(GE).eventRange.range.end}function GE(n,e){return n.eventRange.range.end>e.eventRange.range.end?n:e}var ad=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},no=class extends ad{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:t}=this,r=!1;e.isActive?(t.set(e.id,e),r=!0):t.has(e.id)&&(t.delete(e.id),r=!0),r&&this.set(t)}};var qE=[],$g={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Wg=Object.assign(Object.assign({},$g),{buttonHints:{prev:"Previous $0",next:"Next $0",today(n,e){return e==="day"?"Today":`This ${n}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(n){return`Show ${n} more event${n===1?"":"s"}`}});function QE(n){let e=n.length>0?n[0].code:"en",t=qE.concat(n),r={en:Wg};for(let i of t)r[i.code]=i;return{map:r,defaultCode:e}}function Gg(n,e){return typeof n=="object"&&!Array.isArray(n)?qg(n.code,[n.code],n):ZE(n,e)}function ZE(n,e){let t=[].concat(n||[]),r=YE(t,e)||Wg;return qg(n,t,r)}function YE(n,e){for(let t=0;t<n.length;t+=1){let r=n[t].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let o=r.slice(0,i).join("-");if(e[o])return e[o]}}return null}function qg(n,e,t){let r=ra([$g,t],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:n,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(n),options:r}}function dn(n){return{id:Vt(),name:n.name,premiumReleaseDate:n.premiumReleaseDate?new Date(n.premiumReleaseDate):void 0,deps:n.deps||[],reducers:n.reducers||[],isLoadingFuncs:n.isLoadingFuncs||[],contextInit:[].concat(n.contextInit||[]),eventRefiners:n.eventRefiners||{},eventDefMemberAdders:n.eventDefMemberAdders||[],eventSourceRefiners:n.eventSourceRefiners||{},isDraggableTransformers:n.isDraggableTransformers||[],eventDragMutationMassagers:n.eventDragMutationMassagers||[],eventDefMutationAppliers:n.eventDefMutationAppliers||[],dateSelectionTransformers:n.dateSelectionTransformers||[],datePointTransforms:n.datePointTransforms||[],dateSpanTransforms:n.dateSpanTransforms||[],views:n.views||{},viewPropsTransformers:n.viewPropsTransformers||[],isPropsValid:n.isPropsValid||null,externalDefTransforms:n.externalDefTransforms||[],viewContainerAppends:n.viewContainerAppends||[],eventDropTransformers:n.eventDropTransformers||[],componentInteractions:n.componentInteractions||[],calendarInteractions:n.calendarInteractions||[],themeClasses:n.themeClasses||{},eventSourceDefs:n.eventSourceDefs||[],cmdFormatter:n.cmdFormatter,recurringTypes:n.recurringTypes||[],namedTimeZonedImpl:n.namedTimeZonedImpl,initialView:n.initialView||"",elementDraggingImpl:n.elementDraggingImpl,optionChangeHandlers:n.optionChangeHandlers||{},scrollGridImpl:n.scrollGridImpl||null,listenerRefiners:n.listenerRefiners||{},optionRefiners:n.optionRefiners||{},propSetHandlers:n.propSetHandlers||{}}}function KE(n,e){let t={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(o){for(let s of o){let a=s.name,l=t[a];l===void 0?(t[a]=s.id,i(s.deps),r=JE(r,s)):l!==s.id&&console.warn(`Duplicate plugin '${a}'`)}}return n&&i(n),i(e),r}function XE(){let n=[],e=[],t;return(r,i)=>((!t||!Ct(r,n)||!Ct(i,e))&&(t=KE(r,i)),n=r,e=i,t)}function JE(n,e){return{premiumReleaseDate:ex(n.premiumReleaseDate,e.premiumReleaseDate),reducers:n.reducers.concat(e.reducers),isLoadingFuncs:n.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:n.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},n.eventRefiners),e.eventRefiners),eventDefMemberAdders:n.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},n.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:n.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:n.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:n.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:n.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:n.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:n.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},n.views),e.views),viewPropsTransformers:n.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||n.isPropsValid,externalDefTransforms:n.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:n.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:n.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:n.calendarInteractions.concat(e.calendarInteractions),componentInteractions:n.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},n.themeClasses),e.themeClasses),eventSourceDefs:n.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||n.cmdFormatter,recurringTypes:n.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||n.namedTimeZonedImpl,initialView:n.initialView||e.initialView,elementDraggingImpl:n.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},n.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||n.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},n.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},n.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},n.propSetHandlers),e.propSetHandlers)}}function ex(n,e){return n===void 0?e:e===void 0?n:new Date(Math.max(n.valueOf(),e.valueOf()))}var At=class extends Lt{};At.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};At.prototype.baseIconClass="fc-icon";At.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};At.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};At.prototype.iconOverrideOption="buttonIcons";At.prototype.iconOverrideCustomButtonOption="icon";At.prototype.iconOverridePrefix="fc-icon-";function tx(n,e){let t={},r;for(r in n)zd(r,t,n,e);for(r in e)zd(r,t,n,e);return t}function zd(n,e,t,r){if(e[n])return e[n];let i=nx(n,e,t,r);return i&&(e[n]=i),i}function nx(n,e,t,r){let i=t[n],o=r[n],s=d=>i&&i[d]!==null?i[d]:o&&o[d]!==null?o[d]:null,a=s("component"),l=s("superType"),c=null;if(l){if(l===n)throw new Error("Can't have a custom view type that references itself");c=zd(l,e,t,r)}return!a&&c&&(a=c.component),a?{type:n,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),o?o.rawOptions:{})}:null}function jg(n){return Ln(n,rx)}function rx(n){let e=typeof n=="function"?{component:n}:n,{component:t}=e;return e.content?t=Vg(e):t&&!(t.prototype instanceof re)&&(t=Vg(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Vg(n){return e=>v(Bt.Consumer,null,t=>v(Et,{elTag:"div",elClasses:_d(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount}))}function ix(n,e,t,r){let i=jg(n),o=jg(e.views),s=tx(i,o);return Ln(s,a=>ox(a,o,e,t,r))}function ox(n,e,t,r,i){let o=n.overrides.duration||n.defaults.duration||r.duration||t.duration,s=null,a="",l="",c={};if(o&&(s=sx(o),s)){let m=Bi(s);a=m.unit,m.value===1&&(l=a,c=e[a]?e[a].rawOptions:{})}let d=m=>{let f=m.buttonText||{},h=n.defaults.buttonTextKey;return h!=null&&f[h]!=null?f[h]:f[n.type]!=null?f[n.type]:f[l]!=null?f[l]:null},u=m=>{let f=m.buttonHints||{},h=n.defaults.buttonTextKey;return h!=null&&f[h]!=null?f[h]:f[n.type]!=null?f[n.type]:f[l]!=null?f[l]:null};return{type:n.type,component:n.component,duration:s,durationUnit:a,singleUnit:l,optionDefaults:n.defaults,optionOverrides:Object.assign(Object.assign({},c),n.overrides),buttonTextOverride:d(r)||d(t)||n.overrides.buttonText,buttonTextDefault:d(i)||n.defaults.buttonText||d(Pn)||n.type,buttonTitleOverride:u(r)||u(t)||n.overrides.buttonHint,buttonTitleDefault:u(i)||n.defaults.buttonHint||u(Pn)}}var Bg={};function sx(n){let e=JSON.stringify(n),t=Bg[e];return t===void 0&&(t=Y(n),Bg[e]=t),t}function ax(n,e){switch(e.type){case"CHANGE_VIEW_TYPE":n=e.viewType}return n}function lx(n,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},n),{[e.optionName]:e.rawOptionValue});default:return n}}function cx(n,e,t,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||t);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(n,t),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(n,t),i.isValid)return i;break}return n}function dx(n,e,t){let r=e?e.activeRange:null;return Zg({},vx(n,t),r,t)}function ux(n,e,t,r){let i=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Zg(n,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return mx(n,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Yg(n,i,r):n;case"FETCH_EVENT_SOURCES":return Kd(n,e.sourceIds?vd(e.sourceIds):Kg(n,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return gx(n,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return n}}function fx(n,e,t){let r=e?e.activeRange:null;return Kd(n,Kg(n,t),r,!0,t)}function Qg(n){for(let e in n)if(n[e].isFetching)return!0;return!1}function Zg(n,e,t,r){let i={};for(let o of e)i[o.sourceId]=o;return t&&(i=Yg(i,t,r)),Object.assign(Object.assign({},n),i)}function mx(n,e){return an(n,t=>t.sourceId!==e)}function Yg(n,e,t){return Kd(n,an(n,r=>hx(r,e,t)),e,!1,t)}function hx(n,e,t){return Xg(n,t)?!t.options.lazyFetching||!n.fetchRange||n.isFetching||e.start<n.fetchRange.start||e.end>n.fetchRange.end:!n.latestFetchId}function Kd(n,e,t,r,i){let o={};for(let s in n){let a=n[s];e[s]?o[s]=px(a,t,r,i):o[s]=a}return o}function px(n,e,t,r){let{options:i,calendarApi:o}=r,s=r.pluginHooks.eventSourceDefs[n.sourceDefId],a=Vt();return s.fetch({eventSource:n,range:e,isRefetch:t,context:r},l=>{let{rawEvents:c}=l;i.eventSourceSuccess&&(c=i.eventSourceSuccess.call(o,c,l.response)||c),n.success&&(c=n.success.call(o,c,l.response)||c),r.dispatch({type:"RECEIVE_EVENTS",sourceId:n.sourceId,fetchId:a,fetchRange:e,rawEvents:c})},l=>{let c=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(o,l),c=!0),n.failure&&(n.failure(l),c=!0),c||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:n.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},n),{isFetching:!0,latestFetchId:a})}function gx(n,e,t,r){let i=n[e];return i&&t===i.latestFetchId?Object.assign(Object.assign({},n),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):n}function Kg(n,e){return an(n,t=>Xg(t,e))}function vx(n,e){let t=Dd(e),r=[].concat(n.eventSources||[]),i=[];n.initialEvents&&r.unshift(n.initialEvents),n.events&&r.unshift(n.events);for(let o of r){let s=Ad(o,e,t);s&&i.push(s)}return i}function Xg(n,e){return!e.pluginHooks.eventSourceDefs[n.sourceDefId].ignoreRange}function bx(n,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return n}}function yx(n,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return n}}function _x(n,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function wx(n,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return n}}function Cx(n,e,t,r,i){let o=n.headerToolbar?Ug(n.headerToolbar,n,e,t,r,i):null,s=n.footerToolbar?Ug(n.footerToolbar,n,e,t,r,i):null;return{header:o,footer:s}}function Ug(n,e,t,r,i,o){let s={},a=[],l=!1;for(let c in n){let d=n[c],u=Ex(d,e,t,r,i,o);s[c]=u.widgets,a.push(...u.viewsWithButtons),l=l||u.hasTitle}return{sectionWidgets:s,viewsWithButtons:a,hasTitle:l}}function Ex(n,e,t,r,i,o){let s=e.direction==="rtl",a=e.customButtons||{},l=t.buttonText||{},c=e.buttonText||{},d=t.buttonHints||{},u=e.buttonHints||{},m=n?n.split(" "):[],f=[],h=!1;return{widgets:m.map(b=>b.split(",").map(x=>{if(x==="title")return h=!0,{buttonName:x};let S,T,L,se,ce,pe;if(S=a[x])L=$=>{S.click&&S.click.call($.target,$,$.target)},(se=r.getCustomButtonIconClass(S))||(se=r.getIconClass(x,s))||(ce=S.text),pe=S.hint||S.text;else if(T=i[x]){f.push(x),L=()=>{o.changeView(x)},(ce=T.buttonTextOverride)||(se=r.getIconClass(x,s))||(ce=T.buttonTextDefault);let $=T.buttonTextOverride||T.buttonTextDefault;pe=Mr(T.buttonTitleOverride||T.buttonTitleDefault||e.viewHint,[$,x],$)}else if(o[x])if(L=()=>{o[x]()},(ce=l[x])||(se=r.getIconClass(x,s))||(ce=c[x]),x==="prevYear"||x==="nextYear"){let $=x==="prevYear"?"prev":"next";pe=Mr(d[$]||u[$],[c.year||"year","year"],c[x])}else pe=$=>Mr(d[x]||u[x],[c[$]||$,$],c[x]);return{buttonName:x,buttonClick:L,buttonIcon:se,buttonText:ce,buttonHint:pe}})),viewsWithButtons:f,hasTitle:h}}var Hd=class{constructor(e,t,r){this.type=e,this.getCurrentData=t,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},xx={ignoreRange:!0,parseMeta(n){return Array.isArray(n.events)?n.events:null},fetch(n,e){e({rawEvents:n.eventSource.meta})}},Ax=dn({name:"array-event-source",eventSourceDefs:[xx]}),Dx={parseMeta(n){return typeof n.events=="function"?n.events:null},fetch(n,e,t){let{dateEnv:r}=n.context,i=n.eventSource.meta;Md(i.bind(null,kd(n.range,r)),o=>e({rawEvents:o}),t)}},Sx=dn({name:"func-event-source",eventSourceDefs:[Dx]}),Ix={method:String,extraParams:_,startParam:String,endParam:String,timeZoneParam:String},Tx={parseMeta(n){return n.url&&(n.format==="json"||!n.format)?{url:n.url,format:"json",method:(n.method||"GET").toUpperCase(),extraParams:n.extraParams,startParam:n.startParam,endParam:n.endParam,timeZoneParam:n.timeZoneParam}:null},fetch(n,e,t){let{meta:r}=n.eventSource,i=kx(r,n.range,n.context);Od(r.method,r.url,i).then(([o,s])=>{e({rawEvents:o,response:s})},t)}},Rx=dn({name:"json-event-source",eventSourceRefiners:Ix,eventSourceDefs:[Tx]});function kx(n,e,t){let{dateEnv:r,options:i}=t,o,s,a,l,c={};return o=n.startParam,o==null&&(o=i.startParam),s=n.endParam,s==null&&(s=i.endParam),a=n.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof n.extraParams=="function"?l=n.extraParams():l=n.extraParams||{},Object.assign(c,l),c[o]=r.formatIso(e.start),c[s]=r.formatIso(e.end),r.timeZone!=="local"&&(c[a]=r.timeZone),c}var Mx={daysOfWeek:_,startTime:Y,endTime:Y,duration:Y,startRecur:_,endRecur:_},Ox={parse(n,e){if(n.daysOfWeek||n.startTime||n.endTime||n.startRecur||n.endRecur){let t={daysOfWeek:n.daysOfWeek||null,startTime:n.startTime||null,endTime:n.endTime||null,startRecur:n.startRecur?e.createMarker(n.startRecur):null,endRecur:n.endRecur?e.createMarker(n.endRecur):null},r;return n.duration&&(r=n.duration),!r&&n.startTime&&n.endTime&&(r=Qp(n.endTime,n.startTime)),{allDayGuess:!n.startTime&&!n.endTime,duration:r,typeData:t}}return null},expand(n,e,t){let r=jt(e,{start:n.startRecur,end:n.endRecur});return r?Fx(n.daysOfWeek,n.startTime,r,t):[]}},Nx=dn({name:"simple-recurring-event",recurringTypes:[Ox],eventRefiners:Mx});function Fx(n,e,t,r){let i=n?vd(n):null,o=ne(t.start),s=t.end,a=[];for(;o<s;){let l;(!i||i[o.getUTCDay()])&&(e?l=r.add(o,e):l=o,a.push(l)),o=we(o,1)}return a}var Px=dn({name:"change-handler",optionChangeHandlers:{events(n,e){zg([n],e)},eventSources:zg}});function zg(n,e){let t=ia(e.getCurrentData().eventSources);if(t.length===1&&n.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(n[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:n[0]});return}let r=[];for(let i of n){let o=!1;for(let s=0;s<t.length;s+=1)if(t[s]._raw===i){t.splice(s,1),o=!0;break}o||r.push(i)}for(let i of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function Lx(n,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},kd(n.activeRange,e.dateEnv)),{view:e.viewApi}))}function jx(n,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",so(n,e))}var Vx=[Ax,Sx,Rx,Nx,Px,dn({name:"misc",isLoadingFuncs:[n=>Qg(n.eventSources)],propSetHandlers:{dateProfile:Lx,eventStore:jx}})],$d=class{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Rn(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],r;for(;r=e.shift();)this.runTask(r),t.push(r);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function Bx(n,e,t){let r;return/^(year|month)$/.test(n.currentRangeUnit)?r=n.currentRange:r=n.activeRange,t.formatRange(r.start,r.end,he(e.titleFormat||Ux(n)),{isEndExclusive:n.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function Ux(n){let{currentRangeUnit:e}=n;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Sr(n.currentRange.start,n.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var Wd=class{constructor(e){this.computeCurrentViewData=W(this._computeCurrentViewData),this.organizeRawLocales=W(QE),this.buildLocale=W(Gg),this.buildPluginHooks=XE(),this.buildDateEnv=W(zx),this.buildTheme=W(Hx),this.parseToolbars=W(Cx),this.buildViewSpecs=W(ix),this.buildDateProfileGenerator=Or($x),this.buildViewApi=W(Wx),this.buildViewUiProps=Or(Qx),this.buildEventUiBySource=W(Gx,He),this.buildEventUiBases=W(qx),this.parseContextBusinessHours=Or(Zx),this.buildTitle=W(Bx),this.emitter=new Wi,this.actionRunner=new $d(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause();let t={},r=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,o=this.computeCurrentViewData(i,r,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(o.options);let s=ag(r.calendarOptions,r.dateEnv),a=o.dateProfileGenerator.build(s);_t(a.activeRange,s)||(s=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let m of r.pluginHooks.contextInit)m(l);let c=dx(r.calendarOptions,a,l),d={dynamicOptionOverrides:t,currentViewType:i,currentDate:s,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:c,eventUiBases:{},eventStore:xt(),renderableEventStore:xt(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},u=Object.assign(Object.assign({},l),d);for(let m of r.pluginHooks.reducers)Object.assign(d,m(null,null,u));Ud(d,l)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:r}=this;t===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:r,emitter:i}=this,o=lx(r.dynamicOptionOverrides,e),s=this.computeOptionsData(t.optionOverrides,o,t.calendarApi),a=ax(r.currentViewType,e),l=this.computeCurrentViewData(a,s,t.optionOverrides,o);t.calendarApi.currentDataManager=this,i.setThisContext(t.calendarApi),i.setOptions(l.options);let c={dateEnv:s.dateEnv,options:s.calendarOptions,pluginHooks:s.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:u}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(u=l.dateProfileGenerator.build(d)),d=sg(d,e),u=cx(u,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!_t(u.currentRange,d))&&(d=u.currentRange.start);let m=ux(r.eventSources,e,u,c),f=fg(r.eventStore,e,m,u,c),y=Qg(m)&&!l.options.progressiveEventRendering&&r.renderableEventStore||f,{eventUiSingleBase:b,selectionConfig:x}=this.buildViewUiProps(c),S=this.buildEventUiBySource(m),T=this.buildEventUiBases(y.defs,b,S),L={dynamicOptionOverrides:o,currentViewType:a,currentDate:d,dateProfile:u,eventSources:m,eventStore:f,renderableEventStore:y,selectionConfig:x,eventUiBases:T,businessHours:this.parseContextBusinessHours(c),dateSelection:bx(r.dateSelection,e),eventSelection:yx(r.eventSelection,e),eventDrag:_x(r.eventDrag,e),eventResize:wx(r.eventResize,e)},se=Object.assign(Object.assign({},c),L);for(let $ of s.pluginHooks.reducers)Object.assign(L,$(r,e,se));let ce=Ud(r,c),pe=Ud(L,c);!ce&&pe?i.trigger("loading",!0):ce&&!pe&&i.trigger("loading",!1),this.state=L,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),o=this.computeCurrentViewData(t.currentViewType,i,e.optionOverrides,t.dynamicOptionOverrides),s=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(t.dateProfile,o.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),o),t),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,c=i.calendarOptions;if(l&&l!==c){l.timeZone!==c.timeZone&&(t.eventSources=s.eventSources=fx(s.eventSources,t.dateProfile,s),t.eventStore=s.eventStore=Sd(s.eventStore,r.dateEnv,s.dateEnv),t.renderableEventStore=s.renderableEventStore=Sd(s.renderableEventStore,r.dateEnv,s.dateEnv));for(let d in a)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==c[d])&&a[d](c[d],s)}this.optionsForHandling=[],e.onData&&e.onData(s)}computeOptionsData(e,t,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:o,localeDefaults:s,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,t);Hg(l);let c=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,o,a,i.defaultRangeSeparator),d=this.buildViewSpecs(o.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,s),u=this.buildTheme(i,o),m=this.parseToolbars(i,this.stableOptionOverrides,u,d,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:o,dateEnv:c,viewSpecs:d,theme:u,toolbarConfig:m,localeDefaults:s,availableRawLocales:a.map}}processRawCalendarOptions(e,t){let{locales:r,locale:i}=ta([Pn,e,t]),o=this.organizeRawLocales(r),s=o.map,a=this.buildLocale(i||o.defaultCode,s).options,l=this.buildPluginHooks(e.plugins||[],Vx),c=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hd),pd),gd),l.listenerRefiners),l.optionRefiners),d={},u=ta([Pn,a,e,t]),m={},f=this.currentCalendarOptionsInput,h=this.currentCalendarOptionsRefined,y=!1;for(let b in u)this.optionsForRefining.indexOf(b)===-1&&(u[b]===f[b]||cn[b]&&b in f&&cn[b](f[b],u[b]))?m[b]=h[b]:c[b]?(m[b]=c[b](u[b]),y=!0):d[b]=f[b];return y&&(this.currentCalendarOptionsInput=u,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:o,localeDefaults:a,extra:d}}_computeCurrentViewData(e,t,r,i){let o=t.viewSpecs[e];if(!o)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:s,extra:a}=this.processRawViewOptions(o,t.pluginHooks,t.localeDefaults,r,i);Hg(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:o.optionDefaults.dateProfileGeneratorClass,duration:o.duration,durationUnit:o.durationUnit,usesMinMaxTime:o.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,showNonCurrentDates:s.showNonCurrentDates,dayCount:s.dayCount,dateAlignment:s.dateAlignment,dateIncrement:s.dateIncrement,hiddenDays:s.hiddenDays,weekends:s.weekends,nowInput:s.now,validRangeInput:s.validRange,visibleRangeInput:s.visibleRange,fixedWeekCount:s.fixedWeekCount}),c=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:o,options:s,dateProfileGenerator:l,viewApi:c}}processRawViewOptions(e,t,r,i,o){let s=ta([Pn,e.optionDefaults,r,i,e.optionOverrides,o]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hd),pd),gd),Xp),t.listenerRefiners),t.optionRefiners),l={},c=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,u=!1,m={};for(let f in s)s[f]===c[f]||cn[f]&&cn[f](s[f],c[f])?l[f]=d[f]:(s[f]===this.currentCalendarOptionsInput[f]||cn[f]&&cn[f](s[f],this.currentCalendarOptionsInput[f])?f in this.currentCalendarOptionsRefined&&(l[f]=this.currentCalendarOptionsRefined[f]):a[f]?l[f]=a[f](s[f]):m[f]=s[f],u=!0);return u&&(this.currentViewOptionsInput=s,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}};function zx(n,e,t,r,i,o,s,a){let l=Gg(e||s.defaultCode,s.map);return new Ui({calendarSystem:"gregory",timeZone:n,namedTimeZoneImpl:o.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:r,weekText:i,cmdFormatter:o.cmdFormatter,defaultSeparator:a})}function Hx(n,e){let t=e.themeClasses[n.themeSystem]||At;return new t(n)}function $x(n){let e=n.dateProfileGeneratorClass||kn;return new e(n)}function Wx(n,e,t){return new Hd(n,e,t)}function Gx(n){return Ln(n,e=>e.ui)}function qx(n,e,t){let r={"":e};for(let i in n){let o=n[i];o.sourceId&&t[o.sourceId]&&(r[i]=t[o.sourceId])}return r}function Qx(n){let{options:e}=n;return{eventUiSingleBase:Fr({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},n),selectionConfig:Fr({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},n)}}function Ud(n,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(n))return!0;return!1}function Zx(n){return Id(n.options.businessHours,n)}function Hg(n,e){for(let t in n)console.warn(`Unknown option '${t}'`+(e?` for view '${e}'`:""))}var Gd=class extends re{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return v("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:r}=this.context,i=[],o=!0;for(let s of e){let{buttonName:a,buttonClick:l,buttonText:c,buttonIcon:d,buttonHint:u}=s;if(a==="title")o=!1,i.push(v("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let m=a===t.activeButton,f=!t.isTodayEnabled&&a==="today"||!t.isPrevEnabled&&a==="prev"||!t.isNextEnabled&&a==="next",h=[`fc-${a}-button`,r.getClass("button")];m&&h.push(r.getClass("buttonActive")),i.push(v("button",{type:"button",title:typeof u=="function"?u(t.navUnit):u,disabled:f,"aria-pressed":m,className:h.join(" "),onClick:l},c||(d?v("span",{className:d,role:"img"}):"")))}}if(i.length>1){let s=o&&r.getClass("buttonGroup")||"";return v("div",{className:s},...i)}return i[0]}},pa=class extends re{render(){let{model:e,extraClassName:t}=this.props,r=!1,i,o,s=e.sectionWidgets,a=s.center;return s.left?(r=!0,i=s.left):i=s.start,s.right?(r=!0,o=s.right):o=s.end,v("div",{className:[t||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",o||[]))}renderSection(e,t){let{props:r}=this;return v(Gd,{key:e,widgetGroups:t,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}},qd=class extends re{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Je(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],o="",s="";return r?t.availableWidth!==null?o=t.availableWidth/r:s=`${1/r*100}%`:o=e.height||"",v("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:o,paddingBottom:s}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},Qd=class extends Tr{constructor(e){super(e),this.handleSegClick=(t,r)=>{let{component:i}=this,{context:o}=i,s=ao(r);if(s&&i.isValidSegDownEl(t.target)){let a=ut(t.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";o.emitter.trigger("eventClick",{el:r,event:new Pe(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=cd(e.el,"click",".fc-event",this.handleSegClick)}},Zd=class extends Tr{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,r)=>{ao(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",t,r))},this.handleSegLeave=(t,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,r))},this.removeHoverListeners=zp(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,r){let{component:i}=this,{context:o}=i,s=ao(r);(!t||i.isValidSegDownEl(t.target))&&o.emitter.trigger(e,{el:r,event:new Pe(o,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:o.viewApi})}},Yd=class extends io{constructor(){super(...arguments),this.buildViewContext=W(rg),this.buildViewPropTransformers=W(Kx),this.buildToolbarProps=W(Yx),this.headerRef=ze(),this.footerRef=ze(),this.interactionsStore={},this.state={viewLabelId:Nn()},this.registerInteractiveComponent=(e,t)=>{let r=wg(e,t),s=[Qd,Zd].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=s,ca[e.uid]=r},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let r of t)r.destroy();delete this.interactionsStore[e.uid]}delete ca[e.uid]},this.resizeRunner=new Rn(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Nr(e.options.now,e.dateEnv),e.viewTitle),o=!1,s="",a;e.isHeightAuto||e.forPrint?s="":r.height!=null?o=!0:r.contentHeight!=null?s=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return v(Bt.Provider,{value:l},t.header&&v(pa,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:c},i)),v(qd,{liquid:o,height:s,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),t.footer&&v(pa,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let r in t)t[r](e[r],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:r}=t.pluginHooks;for(let i in r)t[i]!==e[i]&&r[i](t[i],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(r=>r(e));return v(ee,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},o=this.buildViewPropTransformers(t.viewPropsTransformers);for(let a of o)Object.assign(i,a.transform(i,e));let s=r.component;return v(s,Object.assign({},i))}};function Yx(n,e,t,r,i,o){let s=t.build(i,void 0,!1),a=t.buildPrev(e,r,!1),l=t.buildNext(e,r,!1);return{title:o,activeButton:n.type,navUnit:n.singleUnit,isTodayEnabled:s.isValid&&!_t(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function Kx(n){return n.map(e=>new e)}var ga=class extends qi{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;zi(()=>{nn(v(Gi,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,o,s,a)=>(this.setClassNames(i),this.setHeight(o),v(yd.Provider,{value:this.customContentRenderId},v(Yd,Object.assign({isHeightAuto:s,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,nn(null,this.el),this.setClassNames([]),this.setHeight(""))},Np(e),this.el=e,this.renderRunner=new Rn(this.handleRenderRequest),new Wd({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){zi(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Ct(e,this.currentClassNames)){let{classList:t}=this.el;for(let r of this.currentClassNames)t.remove(r);for(let r of e)t.add(r);this.currentClassNames=e}}setHeight(e){ld(this.el,"height",e)}};var Xx=["*"],Jx=["rootEl"],Lr=n=>({$implicit:n});function eA(n,e){if(n&1&&(g(0,"div",2,0),mn(2,3),p()),n&2){let t=R();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),C(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ye(4,Lr,t.renderProps))}}function tA(n,e){if(n&1&&(g(0,"span",2,0),mn(2,3),p()),n&2){let t=R();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),C(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ye(4,Lr,t.renderProps))}}function nA(n,e){if(n&1&&(g(0,"a",2,0),mn(2,3),p()),n&2){let t=R();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),C(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ye(4,Lr,t.renderProps))}}function rA(n,e){if(n&1&&(g(0,"tr",2,0),mn(2,3),p()),n&2){let t=R();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),C(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ye(4,Lr,t.renderProps))}}function iA(n,e){if(n&1&&(g(0,"th",2,0),mn(2,3),p()),n&2){let t=R();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),C(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ye(4,Lr,t.renderProps))}}function oA(n,e){if(n&1&&(g(0,"td",2,0),mn(2,3),p()),n&2){let t=R();A("ngClass",t.elClasses||"")("ngStyle",t.elStyle||null),C(2),A("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ye(4,Lr,t.renderProps))}}var sA=["dayHeaderContent"],aA=["dayCellContent"],lA=["weekNumberContent"],cA=["nowIndicatorContent"],dA=["eventContent"],uA=["slotLaneContent"],fA=["slotLabelContent"],mA=["allDayContent"],hA=["moreLinkContent"],pA=["noEventsContent"],gA=["resourceAreaHeaderContent"],vA=["resourceGroupLabelContent"],bA=["resourceLabelContent"],yA=["resourceLaneContent"],_A=["resourceGroupLaneContent"];function wA(n,e){if(n&1&&F(0,"transport-container",1),n&2){let t=e.$implicit,r=R();A("inPlaceOf",t.containerEl)("reportEl",t.reportNewContainerEl)("elTag",t.elTag)("elClasses",t.elClasses)("elStyle",t.elStyle)("elAttrs",t.elAttrs)("template",r.templateMap[t.generatorName])("renderProps",t.renderProps)}}var Jg={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},CA=["events","eventSources","resources"],EA=Object.prototype.hasOwnProperty;function ba(n){return Array.isArray(n)?n.map(ba):n instanceof Date?new Date(n.valueOf()):typeof n=="object"&&n?tv(n,ba):n}function tv(n,e){let t={};for(let r in n)EA.call(n,r)&&(t[r]=e(n[r],r));return t}function Jd(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!Jd(n[r],e[r]))return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){var o=i[r];if(!Jd(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}var va=typeof document<"u"?document.createDocumentFragment():null,xA=(()=>{class n{constructor(t){this.element=t}ngAfterViewInit(){va&&va.appendChild(this.element.nativeElement)}ngOnDestroy(){va&&va.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(I(Le))},n.\u0275cmp=V({type:n,selectors:[["offscreen-fragment"]],standalone:!1,ngContentSelectors:Xx,decls:1,vars:0,template:function(t,r){t&1&&(Tt(),Rt(0))},encapsulation:2}),n})(),Pr=typeof document<"u"?document.createDocumentFragment():null,AA=(()=>{class n{ngAfterViewInit(){let t=this.rootElRef?.nativeElement;ev(t,this.inPlaceOf),Xd(t,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(t)}ngOnChanges(t){let r=this.rootElRef?.nativeElement;if(r)if(this.inPlaceOf.parentNode!==Pr)ev(r,this.inPlaceOf),Xd(r,void 0,this.elAttrs),this.reportEl(r);else{let i=t.elAttrs;i&&Xd(r,i.previousValue,i.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Pr&&Pr&&Pr.removeChild(this.inPlaceOf),this.reportEl(null)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=V({type:n,selectors:[["transport-container"]],viewQuery:function(t,r){if(t&1&&$a(Jx,5),t&2){let i;ve(i=be())&&(r.rootElRef=i.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},standalone:!1,features:[qe],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){t&1&&P(0,eA,3,6,"ng-template",1)(1,tA,3,6,"ng-template",1)(2,nA,3,6,"ng-template",1)(3,rA,3,6,"ng-template",1)(4,iA,3,6,"ng-template",1)(5,oA,3,6,"ng-template",1),t&2&&(A("ngIf",r.elTag=="div"),C(),A("ngIf",r.elTag=="span"),C(),A("ngIf",r.elTag=="a"),C(),A("ngIf",r.elTag=="tr"),C(),A("ngIf",r.elTag=="th"),C(),A("ngIf",r.elTag=="td"))},dependencies:[fe,wo,Zu,Yu],encapsulation:2}),n})();function ev(n,e){e.parentNode?.insertBefore(n,e.nextSibling),Pr&&Pr.appendChild(e)}function Xd(n,e={},t={}){for(let r in e)r in t||(n[r]=null);for(let r in t)n[r]=t[r]}var nv=(()=>{class n{constructor(t,r){this.element=t,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};let i=new no;i.subscribe(o=>{this.customRenderingMap=o,this.customRenderingArray=void 0,r.detectChanges()}),this.handleCustomRendering=i.handle.bind(i),this.templateMap=this}ngAfterViewInit(){let{deepChangeDetection:t}=this,r=w(w({},this.options),this.buildInputOptions());this.optionSnapshot=tv(r,(a,l)=>t&&Jg[l]?ba(a):a);let i=this.element.nativeElement,o=this.calendar=new ga(i,w(w({},r),this.buildExtraOptions())),s=i.closest("ion-content");s&&s.componentOnReady?s.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{o.render()})}):o.render(),setTimeout(()=>o.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:t,optionSnapshot:r}=this,i=w(w({},this.options),this.buildInputOptions()),o={},s=[];for(let l in i)if(i.hasOwnProperty(l)){let c=i[l];t&&Jg[l]?Jd(r[l],c)||(r[l]=ba(c),s.push(l)):r[l]!==c&&(r[l]=c,s.push(l)),o[l]=c}let a=Object.keys(r);for(let l of a)l in i||(delete r[l],s.push(l));s.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(w(w({},o),this.buildExtraOptions()),s))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let t={};for(let r of CA){let i=this[r];i!=null&&(t[r]=i)}return t}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(t,r){return r.id}}return n.\u0275fac=function(t){return new(t||n)(I(Le),I(hn))},n.\u0275cmp=V({type:n,selectors:[["full-calendar"]],contentQueries:function(t,r,i){if(t&1&&(Ce(i,sA,7),Ce(i,aA,7),Ce(i,lA,7),Ce(i,cA,7),Ce(i,dA,7),Ce(i,uA,7),Ce(i,fA,7),Ce(i,mA,7),Ce(i,hA,7),Ce(i,pA,7),Ce(i,gA,7),Ce(i,vA,7),Ce(i,bA,7),Ce(i,yA,7),Ce(i,_A,7)),t&2){let o;ve(o=be())&&(r.dayHeaderContent=o.first),ve(o=be())&&(r.dayCellContent=o.first),ve(o=be())&&(r.weekNumberContent=o.first),ve(o=be())&&(r.nowIndicatorContent=o.first),ve(o=be())&&(r.eventContent=o.first),ve(o=be())&&(r.slotLaneContent=o.first),ve(o=be())&&(r.slotLabelContent=o.first),ve(o=be())&&(r.allDayContent=o.first),ve(o=be())&&(r.moreLinkContent=o.first),ve(o=be())&&(r.noEventsContent=o.first),ve(o=be())&&(r.resourceAreaHeaderContent=o.first),ve(o=be())&&(r.resourceGroupLabelContent=o.first),ve(o=be())&&(r.resourceLabelContent=o.first),ve(o=be())&&(r.resourceLaneContent=o.first),ve(o=be())&&(r.resourceGroupLaneContent=o.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},standalone:!1,decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(t,r){t&1&&(g(0,"offscreen-fragment"),P(1,wA,1,8,"transport-container",0),p()),t&2&&(C(),A("ngForOf",r.customRenderings)("ngForTrackBy",r.trackCustomRendering))},dependencies:[xA,AA,Gt],encapsulation:2}),n})(),ya=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Z({type:n}),n.\u0275inj=Q({imports:[[te]]}),n})();var eu=class extends ft{constructor(){super(...arguments),this.headerElRef=ze()}renderSimpleLayout(e,t){let{props:r,context:i}=this,o=[],s=ma(i.options);return e&&o.push({type:"header",key:"header",isSticky:s,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),o.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),v(Ir,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},v(Rr,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:o}))}renderHScrollLayout(e,t,r,i){let o=this.context.pluginHooks.scrollGridImpl;if(!o)throw new Error("No ScrollGrid implementation");let{props:s,context:a}=this,l=!s.forPrint&&ma(a.options),c=!s.forPrint&&jd(a.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),c&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ld}]}),v(Ir,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},v(o,{liquid:!s.isHeightAuto&&!s.forPrint,forPrint:s.forPrint,collapsibleWidth:s.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:d}))}};function _a(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.row].push(r);return t}function wa(n,e){let t=[];for(let r=0;r<e;r+=1)t[r]=[];for(let r of n)t[r.firstCol].push(r);return t}function rv(n,e){let t=[];if(n){for(let r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(let r of n.segs)t[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)t[r]=null;return t}var iv=he({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function ov(n){let{display:e}=n.eventRange.ui;return e==="list-item"||e==="auto"&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var Ca=class extends re{render(){let{props:e}=this;return v(Ji,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:iv,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},Ea=class extends re{render(){let{props:e,context:t}=this,{options:r}=t,{seg:i}=e,o=r.eventTimeFormat||iv,s=aa(i,o,t,!0,e.defaultDisplayEventEnd);return v(On,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:la(e.seg,t),defaultGenerator:SA,timeText:s,isResizing:!1,isDateSelecting:!1}))}};function SA(n){return v(ee,null,v("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&v("div",{className:"fc-event-time"},n.timeText),v("div",{className:"fc-event-title"},n.event.title||v(ee,null,"\xA0")))}var tu=class extends re{constructor(){super(...arguments),this.compileSegs=W(IA)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return v(to,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return v(ee,null,t.map(o=>{let s=o.eventRange.instance.instanceId;return v("div",{className:"fc-daygrid-event-harness",key:s,style:{visibility:i[s]?"hidden":""}},ov(o)?v(Ea,Object.assign({seg:o,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},jn(o,e.todayRange))):v(Ca,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},jn(o,e.todayRange))))}))}})}};function IA(n){let e=[],t=[];for(let r of n)e.push(r.seg),r.isVisible||t.push(r.seg);return{allSegs:e,invisibleSegs:t}}var TA=he({week:"narrow"}),nu=class extends ft{constructor(){super(...arguments),this.rootElRef=ze(),this.state={dayNumberId:Nn()},this.handleRootEl=e=>{Je(this.rootElRef,e),Je(this.props.elRef,e)}}render(){let{context:e,props:t,state:r,rootElRef:i}=this,{options:o,dateEnv:s}=e,{date:a,dateProfile:l}=t,c=t.showDayNumber&&kA(a,l.currentRange,s);return v(kr,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:RA,date:a,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:c,extraRenderProps:t.extraRenderProps},(d,u)=>v("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&v(Bd,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:lo(e,a,"week"),date:a,defaultFormat:TA}),!u.isDisabled&&(t.showDayNumber||ha(o)||t.forceDayTop)?v("div",{className:"fc-daygrid-day-top"},v(d,{elTag:"a",elClasses:["fc-daygrid-day-number",c&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},lo(e,a)),{id:r.dayNumberId})})):t.showDayNumber?v("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},v("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,v("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,v("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},v(tu,{allDayDate:a,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:i,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),v("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}};function RA(n){return n.dayNumberText||v(ee,null,"\xA0")}function kA(n,e,t){let{start:r,end:i}=e,o=wt(i,-1),s=t.getYear(r),a=t.getMonth(r),l=t.getYear(o),c=t.getMonth(o);return!(s===l&&a===c)&&(n.valueOf()===r.valueOf()||t.getDay(n)===1&&n.valueOf()<i.valueOf())}function sv(n){return n.eventRange.instance.instanceId+":"+n.firstCol}function av(n){return sv(n)+":"+n.lastCol}function MA(n,e,t,r,i,o,s){let a=new ru(x=>{let S=n[x.index].eventRange.instance.instanceId+":"+x.span.start+":"+(x.span.end-1);return i[S]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||t===!0?(a.maxCoord=o,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof t=="number"&&(a.maxStackCnt=t,a.hiddenConsumes=!0);let l=[],c=[];for(let x=0;x<n.length;x+=1){let S=n[x],T=av(S);i[T]!=null?l.push({index:x,span:{start:S.firstCol,end:S.lastCol+1}}):c.push(S)}let d=a.addSegs(l),u=a.toRects(),{singleColPlacements:m,multiColPlacements:f,leftoverMargins:h}=OA(u,n,s),y=[],b=[];for(let x of c){f[x.firstCol].push({seg:x,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let S=x.firstCol;S<=x.lastCol;S+=1)m[S].push({seg:jr(x,S,S+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)y.push(0);for(let x of d){let S=n[x.index],T=x.span;f[T.start].push({seg:jr(S,T.start,T.end,s),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let L=T.start;L<T.end;L+=1)y[L]+=1,m[L].push({seg:jr(S,L,L+1,s),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let x=0;x<s.length;x+=1)b.push(h[x]);return{singleColPlacements:m,multiColPlacements:f,moreCnts:y,moreMarginTops:b}}function OA(n,e,t){let r=NA(n,t.length),i=[],o=[],s=[];for(let a=0;a<t.length;a+=1){let l=r[a],c=[],d=0,u=0;for(let f of l){let h=e[f.index];c.push({seg:jr(h,a,a+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:f.levelCoord-d}),d=f.levelCoord+f.thickness}let m=[];d=0,u=0;for(let f of l){let h=e[f.index],y=f.span.end-f.span.start>1,b=f.span.start===a;u+=f.levelCoord-d,d=f.levelCoord+f.thickness,y?(u+=f.thickness,b&&m.push({seg:jr(h,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:f.levelCoord,marginTop:0})):b&&(m.push({seg:jr(h,f.span.start,f.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:f.levelCoord,marginTop:u}),u=0)}i.push(c),o.push(m),s.push(u)}return{singleColPlacements:i,multiColPlacements:o,leftoverMargins:s}}function NA(n,e){let t=[];for(let r=0;r<e;r+=1)t.push([]);for(let r of n)for(let i=r.span.start;i<r.span.end;i+=1)t[i].push(r);return t}function jr(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;let i=n.eventRange,o=i.range,s=jt(o,{start:r[e].date,end:we(r[t-1].date,1)});return Object.assign(Object.assign({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:s},isStart:n.isStart&&s.start.valueOf()===o.start.valueOf(),isEnd:n.isEnd&&s.end.valueOf()===o.end.valueOf()})}var ru=class extends Qi{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let t=super.addSegs(e),{entriesByLevel:r}=this,i=o=>!this.forceHidden[Mn(o)];for(let o=0;o<r.length;o+=1)r[o]=r[o].filter(i);return t}handleInvalidInsertion(e,t,r){let{entriesByLevel:i,forceHidden:o}=this,{touchingEntry:s,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&s){let c=Mn(s);if(!o[c])if(this.allowReslicing){let d=Object.assign(Object.assign({},s),{span:ua(s.span,t.span)}),u=Mn(d);o[u]=!0,i[a][l]=d,r.push(d),this.splitEntry(s,t,r)}else o[c]=!0,r.push(s)}super.handleInvalidInsertion(e,t,r)}},xa=class extends ft{constructor(){super(...arguments),this.cellElRefs=new mt,this.frameElRefs=new mt,this.fgElRefs=new mt,this.segHarnessRefs=new mt,this.rootElRef=ze(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:r}=this,{options:i}=r,o=e.cells.length,s=wa(e.businessHourSegs,o),a=wa(e.bgEventSegs,o),l=wa(this.getHighlightSegs(),o),c=wa(this.getMirrorSegs(),o),{singleColPlacements:d,multiColPlacements:u,moreCnts:m,moreMarginTops:f}=MA(Td(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),h=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return v("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,b)=>{let x=this.renderFgSegs(b,e.forPrint?d[b]:u[b],e.todayRange,h),S=this.renderFgSegs(b,FA(c[b],u),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return v(nu,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:m[b],moreMarginTop:f[b],singlePlacements:d[b],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:v(ee,null,v(ee,null,x),v(ee,null,S)),bgContent:v(ee,null,this.renderFillSegs(l[b],"highlight"),this.renderFillSegs(s[b],"non-business"),this.renderFillSegs(a[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let r=this.props;this.updateSizing(!He(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,r,i,o,s,a){let{context:l}=this,{eventSelection:c}=this.props,{framePositions:d}=this.state,u=this.props.cells.length===1,m=o||s||a,f=[];if(d)for(let h of t){let{seg:y}=h,{instanceId:b}=y.eventRange.instance,x=h.isVisible&&!i[b],S=h.isAbsolute,T="",L="";S&&(l.isRtl?(L=0,T=d.lefts[y.lastCol]-d.lefts[y.firstCol]):(T=0,L=d.rights[y.firstCol]-d.rights[y.lastCol])),f.push(v("div",{className:"fc-daygrid-event-harness"+(S?" fc-daygrid-event-harness-abs":""),key:sv(y),ref:m?null:this.segHarnessRefs.createRef(av(y)),style:{visibility:x?"":"hidden",marginTop:S?"":h.marginTop,top:S?h.absoluteTop:"",left:T,right:L}},ov(y)?v(Ea,Object.assign({seg:y,isDragging:o,isSelected:b===c,defaultDisplayEventEnd:u},jn(y,r))):v(Ca,Object.assign({seg:y,isDragging:o,isResizing:s,isDateSelecting:a,isSelected:b===c,defaultDisplayEventEnd:u},jn(y,r)))))}return f}renderFillSegs(e,t){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:o}=this.state,s=[];if(o)for(let a of e){let l=r?{right:0,left:o.lefts[a.lastCol]-o.lefts[a.firstCol]}:{left:0,right:o.rights[a.firstCol]-o.rights[a.lastCol]};s.push(v("div",{key:Rd(a.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?v(eo,Object.assign({seg:a},jn(a,i))):Vd(t)))}return v(ee,{},...s)}updateSizing(e){let{props:t,state:r,frameElRefs:i}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(c=>i.currentMap[c.key]);if(l.length){let c=this.rootElRef.current,d=new ln(c,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(d))&&this.setState({framePositions:new ln(c,l,!0,!1)})}}let o=this.state.segHeights,s=this.querySegHeights(),a=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},o),s),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);t[r]=Math.max(t[r]||0,i)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}};xa.addStateEquality({segHeights:He});function FA(n,e){if(!n.length)return[];let t=PA(e);return n.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}))}function PA(n){let e={};for(let t of n)for(let r of t)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}var iu=class extends ft{constructor(){super(...arguments),this.splitBusinessHourSegs=W(_a),this.splitBgEventSegs=W(_a),this.splitFgEventSegs=W(_a),this.splitDateSelectionSegs=W(_a),this.splitEventDrag=W(rv),this.splitEventResize=W(rv),this.rowRefs=new mt}render(){let{props:e,context:t}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),o=this.splitBgEventSegs(e.bgEventSegs,r),s=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),c=this.splitEventResize(e.eventResize,r),d=r>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return v(fa,{unit:"day"},(u,m)=>v(ee,null,e.cells.map((f,h)=>v(xa,{ref:this.rowRefs.createRef(h),key:f.length?f[0].date.toISOString():h,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:f,renderIntro:e.renderRowIntro,businessHourSegs:i[h],eventSelection:e.eventSelection,bgEventSegs:o[h].filter(LA),fgEventSegs:s[h],dateSelectionSegs:a[h],eventDrag:l[h],eventResize:c[h],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ln(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new ln(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:r,rowPositions:i}=this,o=r.leftToIndex(e),s=i.topToIndex(t);if(s!=null&&o!=null){let a=this.props.cells[s][o];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(s,o),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(s,o),rect:{left:r.lefts[o],right:r.rights[o],top:i.tops[s],bottom:i.bottoms[s]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let r=this.props.cells[e][t].date,i=we(r,1);return{start:r,end:i}}};function LA(n){return n.eventRange.def.allDay}var ou=class extends ft{constructor(){super(...arguments),this.elRef=ze(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:r,expandRows:i}=e,o=r===!0||t===!0;o&&!i&&(o=!1,t=null,r=null);let s=["fc-daygrid-body",o?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return v("div",{ref:this.elRef,className:s.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},v("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,v("tbody",{role:"presentation"},v(iu,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=jA(this.elRef.current,this.props.dateProfile);if(e){let t=e.closest(".fc-daygrid-body"),r=t.closest(".fc-scroller"),i=e.getBoundingClientRect().top-t.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};function jA(n,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=n.querySelector(`[data-date="${fd(e.currentDate)}-01"]`)),t||(t=n.querySelector(`[data-date="${ro(e.currentDate)}"]`)),t}var su=class extends Xi{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}},au=class extends ft{constructor(){super(...arguments),this.slicer=new su,this.tableRef=ze()}render(){let{props:e,context:t}=this;return v(ou,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},Aa=class extends eu{constructor(){super(...arguments),this.buildDayTableModel=W(VA),this.headerRef=ze(),this.tableRef=ze()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,t),o=e.dayHeaders&&v(Zi,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),s=a=>v(au,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(o,s,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(o,s)}};function VA(n,e){let t=new Yi(n.renderRange,e);return new Ki(t,/year|month|week/.test(n.currentRangeUnit))}var Da=class extends kn{buildRenderRange(e,t,r){let i=super.buildRenderRange(e,t,r),{props:o}=this;return BA({currentRange:i,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:o.fixedWeekCount,dateEnv:o.dateEnv})}};function BA(n){let{dateEnv:e,currentRange:t}=n,{start:r,end:i}=t,o;if(n.snapToWeek&&(r=e.startOfWeek(r),o=e.startOfWeek(i),o.valueOf()!==i.valueOf()&&(i=ea(o,1))),n.fixedWeekCount){let s=e.startOfWeek(e.startOfMonth(we(t.end,-1))),a=Math.ceil(dd(s,i));i=ea(i,6-a)}return{start:r,end:i}}var UA=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';Js(UA);var lv=dn({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Aa,dateProfileGeneratorClass:Da},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});function zA(n,e){if(n&1){let t=Te();g(0,"div",5)(1,"div",6)(2,"h2",7),E(3),p(),g(4,"p",8)(5,"strong",9),E(6,"Date:"),p(),E(7),Mt(8,"date"),p(),g(9,"p",8)(10,"strong",9),E(11,"Location:"),p(),E(12),p(),g(13,"p",8)(14,"strong",9),E(15,"Participants:"),p(),E(16),p(),g(17,"p",10)(18,"strong",9),E(19,"Description:"),p(),g(20,"span",11),E(21),p()(),g(22,"div",12)(23,"button",13),H("click",function(){ye(t);let i=R();return _e(i.selectedEvent=null)}),E(24," Close "),p()()()()}if(n&2){let t=R();C(3),ot(t.selectedEvent.eventName),C(4),le(" ",Zn(8,5,t.selectedEvent.eventDate,"medium"),""),C(5),le(" ",t.selectedEvent.eventLocation,""),C(4),le(" ",t.selectedEvent.numberOfParticipants,""),C(5),ot(t.selectedEvent.eventDescription)}}var Sa=class n{constructor(e,t){this.restService=e;this.toastr=t}events=[];selectedEvent=null;calendarOptions={plugins:[lv],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,dayGridWeek"},events:[],eventClick:this.handleEventClick.bind(this),eventDisplay:"auto",displayEventTime:!0,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1},height:"auto",dayMaxEvents:!0,weekends:!0,fixedWeekCount:!1,showNonCurrentDates:!0};ngOnInit(){this.loadEvents()}loadEvents(){this.restService.getEvents().subscribe({next:e=>{this.events=e,e.length>0&&this.toastr.info(`You have ${e.length} event${e.length>1?"s":""} scheduled`,"Your Events"),this.calendarOptions.events=e.map(t=>({title:t.eventName,start:new Date(t.eventDate),backgroundColor:"#3547b9",borderColor:"#3547b9",textColor:"#ffffff",extendedProps:{event:t}}))},error:e=>{console.error("Error loading events:",e),this.toastr.error("Failed to load events")}})}handleEventClick(e){this.selectedEvent=e.event.extendedProps.event}static \u0275fac=function(t){return new(t||n)(I(Re),I(De))};static \u0275cmp=V({type:n,selectors:[["app-calendar-page"]],decls:6,vars:2,consts:[[1,"container","mx-auto","px-4","py-8"],[1,"bg-white","rounded-lg","shadow-lg","p-6"],[1,"text-2xl","font-bold","mb-6","text-gray-900"],[3,"options"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50",4,"ngIf"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","flex","items-center","justify-center","z-50"],[1,"bg-white","rounded-lg","p-6","max-w-md","w-full","mx-4"],[1,"text-xl","font-bold","mb-4","text-gray-900"],[1,"mb-2","text-gray-800"],[1,"text-gray-900"],[1,"mb-4","text-gray-800"],[1,"ml-1"],[1,"flex","justify-end"],[1,"bg-violet_blue-500","text-white","px-4","py-2","rounded","hover:bg-violet_blue-600","transition-colors",3,"click"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"h2",2),E(3,"Events Calendar"),p(),F(4,"full-calendar",3),p(),P(5,zA,25,8,"div",4),p()),t&2&&(C(4),A("options",r.calendarOptions),C(),A("ngIf",r.selectedEvent))},dependencies:[te,fe,Kn,ya,nv],styles:["[_nghost-%COMP%]     .fc-event{border:none;padding:2px 4px;margin:2px 0;border-radius:4px;background-color:#3547b9;color:#fff}[_nghost-%COMP%]     .fc-daygrid-event{white-space:nowrap;border-radius:4px;font-size:.85em;min-height:24px;display:flex;align-items:center}[_nghost-%COMP%]     .fc-daygrid-event-dot{display:none}[_nghost-%COMP%]     .fc-day-today{background-color:#dce0f4!important}[_nghost-%COMP%]     .fc-button-primary{background-color:#3547b9;border-color:#3547b9}[_nghost-%COMP%]     .fc-button-primary:hover{background-color:#2b3995;border-color:#2b3995}[_nghost-%COMP%]     .fc-toolbar-title{font-size:1.5rem;color:#374151}"]})};var cv=[{path:"",component:Cs},{path:"login",component:cs},{path:"signup",component:ds},{path:"homepage",component:ys,canActivate:[dr]},{path:"events",canActivate:[dr],children:[{path:"",component:bs},{path:"create",component:Pi,canActivate:[oc],data:{roles:["maitre"]}},{path:":id/edit",component:Pi,canActivate:[oc],data:{roles:["maitre"]}}]},{path:"calendar",component:Sa,canActivate:[dr]},{path:"notifications",component:_s,canActivate:[dr]},{path:"notifications/:id",component:Er,canActivate:[dr]}];var HA="@",$A=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=D(tt);loadingSchedulerFn=D(WA,{optional:!0});_engine;constructor(t,r,i,o,s){this.doc=t,this.delegate=r,this.zone=i,this.animationType=o,this.moduleImpl=s}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-6W7ZLBKU.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(t):r=t(),r.catch(i=>{throw new K(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let i=this.delegate.createRenderer(t,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new lu(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let a=s.createRenderer(t,r);o.use(a),this.scheduler??=this.injector.get(Iu,null,{optional:!0}),this.scheduler?.notify(11)}).catch(s=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static \u0275fac=function(r){Ua()};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),lu=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,r,i){this.delegate.insertBefore(e,t,r,i)}removeChild(e,t,r){this.delegate.removeChild(e,t,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(e,t,r)),this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(e,t,r)),this.delegate.listen(e,t,r)}shouldReplay(e){return this.replay!==null&&e.startsWith(HA)}},WA=new B("");function dv(n="animations"){return $n("NgAsyncAnimations"),ht([{provide:qn,useFactory:(e,t,r)=>new $A(e,t,r,n),deps:[ue,Xn,ge]},{provide:Hn,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Vr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Z({type:n});static \u0275inj=Q({imports:[Se,Se]})}return n})();var GA=(()=>{class n extends Do{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(O(ue),O(Yr),O(Ao))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function qA(){return new tf}function QA(n,e,t){return new rf(n,e,t)}var uv=[{provide:Ao,useFactory:qA},{provide:Do,useClass:GA},{provide:qn,useFactory:QA,deps:[Xn,Do,ge]}],ZA=[{provide:Yr,useFactory:()=>new nf},{provide:Hn,useValue:"BrowserAnimations"},...uv],qM=[{provide:Yr,useClass:ef},{provide:Hn,useValue:"NoopAnimations"},...uv];function fv(){return $n("NgEagerAnimations"),[...ZA]}var mv={providers:[$u({eventCoalescing:!0}),_m(cv),jf(),dv(),Dm({timeOut:4e3,positionClass:"toast-bottom-left",preventDuplicates:!0,progressBar:!0,closeButton:!0,easing:"ease-in",easeTime:300,enableHtml:!0,tapToDismiss:!0,maxOpened:3,autoDismiss:!0,newestOnTop:!0}),Ef(Af(),xf([Cm])),Vr,fv(),Tc(),Au(ya)]};var Ia=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-footer"]],decls:8,vars:0,consts:[[1,"bg-gray-800","text-white","py-4","mt-8"],[1,"container","mx-auto","flex","flex-col","items-center"],[1,"mb-4"],[1,"flex","space-x-4"],["href","https://www.github.com/lorenzotecchia","target","_blank","rel","noopener noreferrer",1,"text-black-300","hover:text-white","transition"],[1,"fab","fa-github",2,"font-size","30px"]],template:function(t,r){t&1&&(g(0,"footer",0)(1,"div",1)(2,"div",2)(3,"p"),E(4,"\xA9 Everything you see is a reflection of yourself"),p()(),g(5,"div",3)(6,"a",4),F(7,"i",5),p()()()())},dependencies:[Vr],encapsulation:2})};function YA(n,e){if(n&1){let t=Te();g(0,"nav",6)(1,"a",7),E(2," Profilo "),p(),g(3,"a",8),F(4,"i",9),E(5," Calendar "),p(),g(6,"a",10),F(7,"i",11),E(8," Events "),p(),g(9,"a",12),H("click",function(){ye(t);let i=R(2);return _e(i.doLogout())}),E(10," Logout "),p()()}}function KA(n,e){if(n&1&&(g(0,"header",1)(1,"div",2)(2,"div",3)(3,"a",4),E(4," CATERING MANAGEMENT "),p(),P(5,YA,11,0,"nav",5),p()()()),n&2){let t=R();C(5),A("ngIf",t.isAuthenticated)}}var Ta=class n{constructor(e,t,r){this.restService=e;this.auth=t;this.router=r;Qr(()=>{this.auth.isAuthenticated()?this.loadUnreadNotificationCount():this.unreadNotificationsCount=0})}unreadNotificationsCount=0;get isAuthenticated(){return this.auth.isAuthenticated()}loadUnreadNotificationCount(){this.restService.getUnreadNotificationsCount().subscribe({next:e=>{this.unreadNotificationsCount=e},error:e=>console.error("Error loading notifications",e)})}isActive(e){return this.router.url===e}doLogout(){this.auth.logout(),this.router.navigate([""])}get showNavbar(){return this.isAuthenticated&&this.router.url!=="/"&&this.router.url!=="/login"}static \u0275fac=function(t){return new(t||n)(I(Re),I(lt),I(Ee))};static \u0275cmp=V({type:n,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["class","bg-white shadow-md py-4 border-b border-gray-200 dark:bg-gray-900 dark:border-gray-700 shadow-xl",4,"ngIf"],[1,"bg-white","shadow-md","py-4","border-b","border-gray-200","dark:bg-gray-900","dark:border-gray-700","shadow-xl"],[1,"container","mx-auto","px-4"],[1,"flex","flex-wrap","items-center","justify-between"],["routerLink","/welcome",1,"text-3xl","font-bold","text-blue-600","dark:text-white","cursor-pointer","flex","items-center"],["class","flex flex-col md:flex-row md:space-x-6 mt-4 md:mt-0",4,"ngIf"],[1,"flex","flex-col","md:flex-row","md:space-x-6","mt-4","md:mt-0"],["routerLink","/profile",1,"text-gray-700","hover:text-blue-600","hover:bg-blue-100","px-4","py-2","rounded","transition","duration-300","dark:text-gray-300","dark:hover:text-blue-400","dark:hover:bg-gray-700"],["routerLink","/calendar",1,"text-gray-700","hover:text-blue-600","hover:bg-blue-100","px-4","py-2","rounded","transition","duration-300","dark:text-gray-300","dark:hover:text-blue-400","dark:hover:bg-gray-700"],[1,"fas","fa-calendar"],["routerLink","/events",1,"text-gray-700","hover:text-blue-600","hover:bg-blue-100","px-4","py-2","rounded","transition","duration-300","dark:text-gray-300","dark:hover:text-blue-400","dark:hover:bg-gray-700"],[1,"fas","fa-list"],["routerLink","/logout",1,"text-gray-700","hover:text-blue-600","hover:bg-blue-100","px-4","py-2","rounded","transition","duration-300","dark:text-gray-300","dark:hover:text-blue-400","dark:hover:bg-gray-700",3,"click"]],template:function(t,r){t&1&&P(0,KA,6,1,"header",0),t&2&&A("ngIf",r.showNavbar)},dependencies:[lr,te,fe,Vr],encapsulation:2})};var Ra=class n{title="event-management-app";isUserAuthenticated(){return!0}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=V({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"min-h-screen","bg-gray-100","flex","flex-col"],[1,"mt-auto"]],template:function(t,r){t&1&&(g(0,"div",0),F(1,"app-navbar")(2,"router-outlet")(3,"app-footer",1),p())},dependencies:[ql,te,ih,Ia,Ta],encapsulation:2})};Pf(Ra,mv).catch(n=>console.error(n));
